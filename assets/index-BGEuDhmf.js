(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Gu(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Ru={exports:{}},Lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Jg(){if(jd)return Lr;jd=1;var p=Symbol.for("react.transitional.element"),v=Symbol.for("react.fragment");function n(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:p,type:a,key:u,ref:o!==void 0?o:null,props:l}}return Lr.Fragment=v,Lr.jsx=n,Lr.jsxs=n,Lr}var Gd;function $g(){return Gd||(Gd=1,Ru.exports=Jg()),Ru.exports}var it=$g(),Cu={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function ev(){if(Vd)return Ge;Vd=1;var p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,M={};function C(B,K,$){this.props=B,this.context=K,this.refs=M,this.updater=$||_}C.prototype.isReactComponent={},C.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function H(){}H.prototype=C.prototype;function U(B,K,$){this.props=B,this.context=K,this.refs=M,this.updater=$||_}var oe=U.prototype=new H;oe.constructor=U,R(oe,C.prototype),oe.isPureReactComponent=!0;var Q=Array.isArray;function N(){}var ae={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function fe(B,K,$){var de=$.ref;return{$$typeof:p,type:B,key:K,ref:de!==void 0?de:null,props:$}}function Oe(B,K){return fe(B.type,K,B.props)}function Le(B){return typeof B=="object"&&B!==null&&B.$$typeof===p}function we(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function($){return K[$]})}var Re=/\/+/g;function Ne(B,K){return typeof B=="object"&&B!==null&&B.key!=null?we(""+B.key):K.toString(36)}function Ve(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(N,N):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function j(B,K,$,de,Pe){var Fe=typeof B;(Fe==="undefined"||Fe==="boolean")&&(B=null);var Xe=!1;if(B===null)Xe=!0;else switch(Fe){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(B.$$typeof){case p:case v:Xe=!0;break;case m:return Xe=B._init,j(Xe(B._payload),K,$,de,Pe)}}if(Xe)return Pe=Pe(B),Xe=de===""?"."+Ne(B,0):de,Q(Pe)?($="",Xe!=null&&($=Xe.replace(Re,"$&/")+"/"),j(Pe,K,$,"",function(mt){return mt})):Pe!=null&&(Le(Pe)&&(Pe=Oe(Pe,$+(Pe.key==null||B&&B.key===Pe.key?"":(""+Pe.key).replace(Re,"$&/")+"/")+Xe)),K.push(Pe)),1;Xe=0;var xt=de===""?".":de+":";if(Q(B))for(var pt=0;pt<B.length;pt++)de=B[pt],Fe=xt+Ne(de,pt),Xe+=j(de,K,$,Fe,Pe);else if(pt=x(B),typeof pt=="function")for(B=pt.call(B),pt=0;!(de=B.next()).done;)de=de.value,Fe=xt+Ne(de,pt++),Xe+=j(de,K,$,Fe,Pe);else if(Fe==="object"){if(typeof B.then=="function")return j(Ve(B),K,$,de,Pe);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function le(B,K,$){if(B==null)return B;var de=[],Pe=0;return j(B,de,"","",function(Fe){return K.call($,Fe,Pe++)}),de}function he(B){if(B._status===-1){var K=B._result;K=K(),K.then(function($){(B._status===0||B._status===-1)&&(B._status=1,B._result=$)},function($){(B._status===0||B._status===-1)&&(B._status=2,B._result=$)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var Ue=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},He={map:le,forEach:function(B,K,$){le(B,function(){K.apply(this,arguments)},$)},count:function(B){var K=0;return le(B,function(){K++}),K},toArray:function(B){return le(B,function(K){return K})||[]},only:function(B){if(!Le(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ge.Activity=g,Ge.Children=He,Ge.Component=C,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=U,Ge.StrictMode=a,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(B){return ae.H.useMemoCache(B)}},Ge.cache=function(B){return function(){return B.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(B,K,$){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var de=R({},B.props),Pe=B.key;if(K!=null)for(Fe in K.key!==void 0&&(Pe=""+K.key),K)!pe.call(K,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&K.ref===void 0||(de[Fe]=K[Fe]);var Fe=arguments.length-2;if(Fe===1)de.children=$;else if(1<Fe){for(var Xe=Array(Fe),xt=0;xt<Fe;xt++)Xe[xt]=arguments[xt+2];de.children=Xe}return fe(B.type,Pe,de)},Ge.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ge.createElement=function(B,K,$){var de,Pe={},Fe=null;if(K!=null)for(de in K.key!==void 0&&(Fe=""+K.key),K)pe.call(K,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Pe[de]=K[de]);var Xe=arguments.length-2;if(Xe===1)Pe.children=$;else if(1<Xe){for(var xt=Array(Xe),pt=0;pt<Xe;pt++)xt[pt]=arguments[pt+2];Pe.children=xt}if(B&&B.defaultProps)for(de in Xe=B.defaultProps,Xe)Pe[de]===void 0&&(Pe[de]=Xe[de]);return fe(B,Fe,Pe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(B){return{$$typeof:f,render:B}},Ge.isValidElement=Le,Ge.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:he}},Ge.memo=function(B,K){return{$$typeof:c,type:B,compare:K===void 0?null:K}},Ge.startTransition=function(B){var K=ae.T,$={};ae.T=$;try{var de=B(),Pe=ae.S;Pe!==null&&Pe($,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(N,Ue)}catch(Fe){Ue(Fe)}finally{K!==null&&$.types!==null&&(K.types=$.types),ae.T=K}},Ge.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ge.use=function(B){return ae.H.use(B)},Ge.useActionState=function(B,K,$){return ae.H.useActionState(B,K,$)},Ge.useCallback=function(B,K){return ae.H.useCallback(B,K)},Ge.useContext=function(B){return ae.H.useContext(B)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(B,K){return ae.H.useDeferredValue(B,K)},Ge.useEffect=function(B,K){return ae.H.useEffect(B,K)},Ge.useEffectEvent=function(B){return ae.H.useEffectEvent(B)},Ge.useId=function(){return ae.H.useId()},Ge.useImperativeHandle=function(B,K,$){return ae.H.useImperativeHandle(B,K,$)},Ge.useInsertionEffect=function(B,K){return ae.H.useInsertionEffect(B,K)},Ge.useLayoutEffect=function(B,K){return ae.H.useLayoutEffect(B,K)},Ge.useMemo=function(B,K){return ae.H.useMemo(B,K)},Ge.useOptimistic=function(B,K){return ae.H.useOptimistic(B,K)},Ge.useReducer=function(B,K,$){return ae.H.useReducer(B,K,$)},Ge.useRef=function(B){return ae.H.useRef(B)},Ge.useState=function(B){return ae.H.useState(B)},Ge.useSyncExternalStore=function(B,K,$){return ae.H.useSyncExternalStore(B,K,$)},Ge.useTransition=function(){return ae.H.useTransition()},Ge.version="19.2.0",Ge}var qd;function Vu(){return qd||(qd=1,Cu.exports=ev()),Cu.exports}var I=Vu();const tv=Gu(I);var Du={exports:{}},Nr={},zu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function iv(){return kd||(kd=1,(function(p){function v(j,le){var he=j.length;j.push(le);e:for(;0<he;){var Ue=he-1>>>1,He=j[Ue];if(0<o(He,le))j[Ue]=le,j[he]=He,he=Ue;else break e}}function n(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var le=j[0],he=j.pop();if(he!==le){j[0]=he;e:for(var Ue=0,He=j.length,B=He>>>1;Ue<B;){var K=2*(Ue+1)-1,$=j[K],de=K+1,Pe=j[de];if(0>o($,he))de<He&&0>o(Pe,$)?(j[Ue]=Pe,j[de]=he,Ue=de):(j[Ue]=$,j[K]=he,Ue=K);else if(de<He&&0>o(Pe,he))j[Ue]=Pe,j[de]=he,Ue=de;else break e}}return le}function o(j,le){var he=j.sortIndex-le.sortIndex;return he!==0?he:j.id-le.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;p.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();p.unstable_now=function(){return u.now()-f}}var h=[],c=[],m=1,g=null,y=3,x=!1,_=!1,R=!1,M=!1,C=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function oe(j){for(var le=n(c);le!==null;){if(le.callback===null)a(c);else if(le.startTime<=j)a(c),le.sortIndex=le.expirationTime,v(h,le);else break;le=n(c)}}function Q(j){if(R=!1,oe(j),!_)if(n(h)!==null)_=!0,N||(N=!0,we());else{var le=n(c);le!==null&&Ve(Q,le.startTime-j)}}var N=!1,ae=-1,pe=5,fe=-1;function Oe(){return M?!0:!(p.unstable_now()-fe<pe)}function Le(){if(M=!1,N){var j=p.unstable_now();fe=j;var le=!0;try{e:{_=!1,R&&(R=!1,H(ae),ae=-1),x=!0;var he=y;try{t:{for(oe(j),g=n(h);g!==null&&!(g.expirationTime>j&&Oe());){var Ue=g.callback;if(typeof Ue=="function"){g.callback=null,y=g.priorityLevel;var He=Ue(g.expirationTime<=j);if(j=p.unstable_now(),typeof He=="function"){g.callback=He,oe(j),le=!0;break t}g===n(h)&&a(h),oe(j)}else a(h);g=n(h)}if(g!==null)le=!0;else{var B=n(c);B!==null&&Ve(Q,B.startTime-j),le=!1}}break e}finally{g=null,y=he,x=!1}le=void 0}}finally{le?we():N=!1}}}var we;if(typeof U=="function")we=function(){U(Le)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ne=Re.port2;Re.port1.onmessage=Le,we=function(){Ne.postMessage(null)}}else we=function(){C(Le,0)};function Ve(j,le){ae=C(function(){j(p.unstable_now())},le)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(j){j.callback=null},p.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<j?Math.floor(1e3/j):5},p.unstable_getCurrentPriorityLevel=function(){return y},p.unstable_next=function(j){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var he=y;y=le;try{return j()}finally{y=he}},p.unstable_requestPaint=function(){M=!0},p.unstable_runWithPriority=function(j,le){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var he=y;y=j;try{return le()}finally{y=he}},p.unstable_scheduleCallback=function(j,le,he){var Ue=p.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ue+he:Ue):he=Ue,j){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=he+He,j={id:m++,callback:le,priorityLevel:j,startTime:he,expirationTime:He,sortIndex:-1},he>Ue?(j.sortIndex=he,v(c,j),n(h)===null&&j===n(c)&&(R?(H(ae),ae=-1):R=!0,Ve(Q,he-Ue))):(j.sortIndex=He,v(h,j),_||x||(_=!0,N||(N=!0,we()))),j},p.unstable_shouldYield=Oe,p.unstable_wrapCallback=function(j){var le=y;return function(){var he=y;y=le;try{return j.apply(this,arguments)}finally{y=he}}}})(Mu)),Mu}var Zd;function nv(){return Zd||(Zd=1,zu.exports=iv()),zu.exports}var Au={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function av(){if(Yd)return Xt;Yd=1;var p=Vu();function v(h){var c="https://react.dev/errors/"+h;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(v(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,c,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:c,implementation:m}}var u=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,c){if(h==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xt.createPortal=function(h,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(v(299));return l(h,c,null,m)},Xt.flushSync=function(h){var c=u.T,m=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=c,a.p=m,a.d.f()}},Xt.preconnect=function(h,c){typeof h=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,a.d.C(h,c))},Xt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Xt.preinit=function(h,c){if(typeof h=="string"&&c&&typeof c.as=="string"){var m=c.as,g=f(m,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,x=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;m==="style"?a.d.S(h,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&a.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Xt.preinitModule=function(h,c){if(typeof h=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var m=f(c.as,c.crossOrigin);a.d.M(h,{crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&a.d.M(h)},Xt.preload=function(h,c){if(typeof h=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var m=c.as,g=f(m,c.crossOrigin);a.d.L(h,m,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Xt.preloadModule=function(h,c){if(typeof h=="string")if(c){var m=f(c.as,c.crossOrigin);a.d.m(h,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else a.d.m(h)},Xt.requestFormReset=function(h){a.d.r(h)},Xt.unstable_batchedUpdates=function(h,c){return h(c)},Xt.useFormState=function(h,c,m){return u.H.useFormState(h,c,m)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Xd;function yp(){if(Xd)return Au.exports;Xd=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(v){console.error(v)}}return p(),Au.exports=av(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function rv(){if(Id)return Nr;Id=1;var p=nv(),v=Vu(),n=yp();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(a(188))}function c(e){var t=e.alternate;if(!t){if(t=l(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var s=i.return;if(s===null)break;var d=s.alternate;if(d===null){if(r=s.return,r!==null){i=r;continue}break}if(s.child===d.child){for(d=s.child;d;){if(d===i)return h(s),e;if(d===r)return h(s),t;d=d.sibling}throw Error(a(188))}if(i.return!==r.return)i=s,r=d;else{for(var w=!1,b=s.child;b;){if(b===i){w=!0,i=s,r=d;break}if(b===r){w=!0,r=s,i=d;break}b=b.sibling}if(!w){for(b=d.child;b;){if(b===i){w=!0,i=d,r=s;break}if(b===r){w=!0,r=d,i=s;break}b=b.sibling}if(!w)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),U=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case C:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case N:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case U:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var Ve=Array.isArray,j=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ue=[],He=-1;function B(e){return{current:e}}function K(e){0>He||(e.current=Ue[He],Ue[He]=null,He--)}function $(e,t){He++,Ue[He]=e.current,e.current=t}var de=B(null),Pe=B(null),Fe=B(null),Xe=B(null);function xt(e,t){switch($(Fe,t),$(Pe,e),$(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ud(t),e=cd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(de),$(de,e)}function pt(){K(de),K(Pe),K(Fe)}function mt(e){e.memoizedState!==null&&$(Xe,e);var t=de.current,i=cd(t,e.type);t!==i&&($(Pe,e),$(de,i))}function Zt(e){Pe.current===e&&(K(de),K(Pe)),Xe.current===e&&(K(Xe),Or._currentValue=he)}var Hi,Yi;function Lt(e){if(Hi===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Hi=t&&t[1]||"",Yi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+Yi}var Di=!1;function fi(e,t){if(!e||Di)return"";Di=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Z=X}Reflect.construct(e,[],te)}else{try{te.call()}catch(X){Z=X}e.call(te.prototype)}}else{try{throw Error()}catch(X){Z=X}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Z&&typeof X.stack=="string")return[X.stack,Z.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),w=d[0],b=d[1];if(w&&b){var O=w.split(`
`),k=b.split(`
`);for(s=r=0;r<O.length&&!O[r].includes("DetermineComponentFrameRoot");)r++;for(;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;if(r===O.length||s===k.length)for(r=O.length-1,s=k.length-1;1<=r&&0<=s&&O[r]!==k[s];)s--;for(;1<=r&&0<=s;r--,s--)if(O[r]!==k[s]){if(r!==1||s!==1)do if(r--,s--,0>s||O[r]!==k[s]){var J=`
`+O[r].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=r&&0<=s);break}}}finally{Di=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Lt(i):""}function T(e,t){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==t&&t!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return fi(e.type,!1);case 11:return fi(e.type.render,!1);case 1:return fi(e.type,!0);case 31:return Lt("Activity");default:return""}}function z(e){try{var t="",i=null;do t+=T(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var V=Object.prototype.hasOwnProperty,re=p.unstable_scheduleCallback,ue=p.unstable_cancelCallback,ve=p.unstable_shouldYield,ie=p.unstable_requestPaint,Ee=p.unstable_now,Je=p.unstable_getCurrentPriorityLevel,Ie=p.unstable_ImmediatePriority,Ce=p.unstable_UserBlockingPriority,ot=p.unstable_NormalPriority,E=p.unstable_LowPriority,S=p.unstable_IdlePriority,D=p.log,A=p.unstable_setDisableYieldValue,W=null,ne=null;function Te(e){if(typeof D=="function"&&A(e),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(W,e)}catch{}}var je=Math.clz32?Math.clz32:Et,Me=Math.log,zt=Math.LN2;function Et(e){return e>>>=0,e===0?32:31-(Me(e)/zt|0)|0}var It=256,Xi=262144,Bi=4194304;function di(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var s=0,d=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~d,r!==0?s=di(r):(w&=b,w!==0?s=di(w):i||(i=b&~e,i!==0&&(s=di(i))))):(b=r&~d,b!==0?s=di(b):w!==0?s=di(w):i||(i=r&~e,i!==0&&(s=di(i)))),s===0?0:t!==0&&t!==s&&(t&d)===0&&(d=s&-s,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:s}function Li(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ha(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var e=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),e}function Ia(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function P(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function G(e,t,i,r,s,d){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,O=e.expirationTimes,k=e.hiddenUpdates;for(i=w&~i;0<i;){var J=31-je(i),te=1<<J;b[J]=0,O[J]=-1;var Z=k[J];if(Z!==null)for(k[J]=null,J=0;J<Z.length;J++){var X=Z[J];X!==null&&(X.lane&=-536870913)}i&=~te}r!==0&&Y(e,r,0),d!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=d&~(w&~t))}function Y(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function se(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-je(i),s=1<<r;s&t|e[r]&t&&(e[r]|=t),i&=~s}}function ce(e,t){var i=t&-t;return i=(i&42)!==0?1:_e(i),(i&(e.suspendedLanes|t))!==0?0:i}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function be(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Se(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:Pd(e.type))}function De(e,t){var i=le.p;try{return le.p=e,t()}finally{le.p=i}}var ze=Math.random().toString(36).slice(2),me="__reactFiber$"+ze,ge="__reactProps$"+ze,Ze="__reactContainer$"+ze,ct="__reactEvents$"+ze,Mt="__reactListeners$"+ze,jt="__reactHandles$"+ze,vt="__reactResources$"+ze,rt="__reactMarker$"+ze;function zi(e){delete e[me],delete e[ge],delete e[ct],delete e[Mt],delete e[jt]}function pi(e){var t=e[me];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ze]||i[me]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=vd(e);e!==null;){if(i=e[me])return i;e=vd(e)}return t}e=i,i=e.parentNode}return null}function Wt(e){if(e=e[me]||e[Ze]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ni(e){var t=e[vt];return t||(t=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[rt]=!0}var Ui=new Set,kn={};function mi(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(kn[e]=t,e=0;e<t.length;e++)Ui.add(t[e])}var Ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ii={},Fi={};function Rt(e){return V.call(Fi,e)?!0:V.call(Ii,e)?!1:Ut.test(e)?Fi[e]=!0:(Ii[e]=!0,!1)}function Wi(e,t,i){if(Rt(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Zn(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Mi(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function gi(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zp(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(w){i=""+w,d.call(this,w)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){if(!e._valueTracker){var t=ec(e)?"checked":"value";e._valueTracker=Zp(e,t,""+e[t])}}function tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=ec(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yp=/[\n"\\]/g;function vi(e){return e.replace(Yp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wo(e,t,i,r,s,d,w,b){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+gi(t)):e.value!==""+gi(t)&&(e.value=""+gi(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?So(e,w,gi(t)):i!=null?So(e,w,gi(i)):r!=null&&e.removeAttribute("value"),s==null&&d!=null&&(e.defaultChecked=!!d),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+gi(b):e.removeAttribute("name")}function ic(e,t,i,r,s,d,w,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){To(e);return}i=i!=null?""+gi(i):"",t=t!=null?""+gi(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??s,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),To(e)}function So(e,t,i){t==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function fa(e,t,i,r){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&r&&(e[i].defaultSelected=!0)}else{for(i=""+gi(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nc(e,t,i){if(t!=null&&(t=""+gi(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+gi(i):""}function ac(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(Ve(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=gi(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),To(e)}function da(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Xp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Xp.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function lc(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&i[s]!==r&&rc(e,s,r)}else for(var d in t)t.hasOwnProperty(d)&&rc(e,d,t[d])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return Wp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qi(){}var xo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pa=null,ma=null;function oc(e){var t=Wt(e);if(t&&(e=t.stateNode)){var i=e[ge]||null;e:switch(e=t.stateNode,t.type){case"input":if(wo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+vi(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var s=r[ge]||null;if(!s)throw Error(a(90));wo(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&tc(r)}break e;case"textarea":nc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&fa(e,!!i.multiple,t,!1)}}}var bo=!1;function sc(e,t,i){if(bo)return e(t,i);bo=!0;try{var r=e(t);return r}finally{if(bo=!1,(pa!==null||ma!==null)&&(Nl(),pa&&(t=pa,e=ma,ma=pa=null,oc(t),e)))for(t=0;t<e.length;t++)oc(e[t])}}function Wa(e,t){var i=e.stateNode;if(i===null)return null;var r=i[ge]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(Ki)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Ro=!1}var gn=null,Co=null,Kr=null;function uc(){if(Kr)return Kr;var e,t=Co,i=t.length,r,s="value"in gn?gn.value:gn.textContent,d=s.length;for(e=0;e<i&&t[e]===s[e];e++);var w=i-e;for(r=1;r<=w&&t[i-r]===s[d-r];r++);return Kr=s.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $r(){return!0}function cc(){return!1}function Kt(e){function t(i,r,s,d,w){this._reactName=i,this._targetInst=s,this.type=r,this.nativeEvent=d,this.target=w,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$r:cc,this.isPropagationStopped=cc,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=Kt(Yn),Ka=g({},Yn,{view:0,detail:0}),Qp=Kt(Ka),Do,zo,Ja,tl=g({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(Do=e.screenX-Ja.screenX,zo=e.screenY-Ja.screenY):zo=Do=0,Ja=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),hc=Kt(tl),Kp=g({},tl,{dataTransfer:0}),Jp=Kt(Kp),$p=g({},Ka,{relatedTarget:0}),Mo=Kt($p),em=g({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=Kt(em),im=g({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nm=Kt(im),am=g({},Yn,{data:0}),fc=Kt(am),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function Ao(){return sm}var um=g({},Ka,{key:function(e){if(e.key){var t=rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cm=Kt(um),hm=g({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Kt(hm),fm=g({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),dm=Kt(fm),pm=g({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mm=Kt(pm),gm=g({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Kt(gm),ym=g({},Yn,{newState:0,oldState:0}),Tm=Kt(ym),wm=[9,13,27,32],Oo=Ki&&"CompositionEvent"in window,$a=null;Ki&&"documentMode"in document&&($a=document.documentMode);var Sm=Ki&&"TextEvent"in window&&!$a,pc=Ki&&(!Oo||$a&&8<$a&&11>=$a),mc=" ",gc=!1;function vc(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function Em(e,t){switch(e){case"compositionend":return yc(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function xm(e,t){if(ga)return e==="compositionend"||!Oo&&vc(e,t)?(e=uc(),Kr=Co=gn=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pc&&t.locale!=="ko"?null:t.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_m[e.type]:t==="textarea"}function wc(e,t,i,r){pa?ma?ma.push(r):ma=[r]:pa=r,t=kl(t,"onChange"),0<t.length&&(i=new el("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var er=null,tr=null;function bm(e){nd(e,0)}function il(e){var t=Yt(e);if(tc(t))return e}function Sc(e,t){if(e==="change")return t}var Ec=!1;if(Ki){var Po;if(Ki){var Ho="oninput"in document;if(!Ho){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Ho=typeof xc.oninput=="function"}Po=Ho}else Po=!1;Ec=Po&&(!document.documentMode||9<document.documentMode)}function _c(){er&&(er.detachEvent("onpropertychange",bc),tr=er=null)}function bc(e){if(e.propertyName==="value"&&il(tr)){var t=[];wc(t,tr,e,_o(e)),sc(bm,t)}}function Rm(e,t,i){e==="focusin"?(_c(),er=t,tr=i,er.attachEvent("onpropertychange",bc)):e==="focusout"&&_c()}function Cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(tr)}function Dm(e,t){if(e==="click")return il(t)}function zm(e,t){if(e==="input"||e==="change")return il(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:Mm;function ir(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var s=i[r];if(!V.call(t,s)||!ai(e[s],t[s]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var i=Rc(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rc(i)}}function Dc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Wr(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Am=Ki&&"documentMode"in document&&11>=document.documentMode,va=null,Lo=null,nr=null,No=!1;function Mc(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;No||va==null||va!==Wr(r)||(r=va,"selectionStart"in r&&Bo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nr&&ir(nr,r)||(nr=r,r=kl(Lo,"onSelect"),0<r.length&&(t=new el("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=va)))}function Xn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ya={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionrun:Xn("Transition","TransitionRun"),transitionstart:Xn("Transition","TransitionStart"),transitioncancel:Xn("Transition","TransitionCancel"),transitionend:Xn("Transition","TransitionEnd")},Uo={},Ac={};Ki&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function In(e){if(Uo[e])return Uo[e];if(!ya[e])return e;var t=ya[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ac)return Uo[e]=t[i];return e}var Oc=In("animationend"),Pc=In("animationiteration"),Hc=In("animationstart"),Om=In("transitionrun"),Pm=In("transitionstart"),Hm=In("transitioncancel"),Bc=In("transitionend"),Lc=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function Ai(e,t){Lc.set(e,t),mi(t,[e])}var nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},yi=[],Ta=0,jo=0;function al(){for(var e=Ta,t=jo=Ta=0;t<e;){var i=yi[t];yi[t++]=null;var r=yi[t];yi[t++]=null;var s=yi[t];yi[t++]=null;var d=yi[t];if(yi[t++]=null,r!==null&&s!==null){var w=r.pending;w===null?s.next=s:(s.next=w.next,w.next=s),r.pending=s}d!==0&&Nc(i,s,d)}}function rl(e,t,i,r){yi[Ta++]=e,yi[Ta++]=t,yi[Ta++]=i,yi[Ta++]=r,jo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Go(e,t,i,r){return rl(e,t,i,r),ll(e)}function Wn(e,t){return rl(e,null,null,t),ll(e)}function Nc(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var s=!1,d=e.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(s=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,s&&t!==null&&(s=31-je(i),e=d.hiddenUpdates,r=e[s],r===null?e[s]=[t]:r.push(t),t.lane=i|536870912),d):null}function ll(e){if(50<br)throw br=0,Qs=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wa={};function Bm(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,i,r){return new Bm(e,t,i,r)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,t){var i=e.alternate;return i===null?(i=ri(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Uc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ol(e,t,i,r,s,d){var w=0;if(r=e,typeof e=="function")Vo(e)&&(w=1);else if(typeof e=="string")w=jg(e,i,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=ri(31,i,t,s),e.elementType=fe,e.lanes=d,e;case R:return Qn(i.children,s,d,t);case M:w=8,s|=24;break;case C:return e=ri(12,i,t,s|2),e.elementType=C,e.lanes=d,e;case Q:return e=ri(13,i,t,s),e.elementType=Q,e.lanes=d,e;case N:return e=ri(19,i,t,s),e.elementType=N,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:w=10;break e;case H:w=9;break e;case oe:w=11;break e;case ae:w=14;break e;case pe:w=16,r=null;break e}w=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=ri(w,i,t,s),t.elementType=e,t.type=r,t.lanes=d,t}function Qn(e,t,i,r){return e=ri(7,e,r,t),e.lanes=i,e}function qo(e,t,i){return e=ri(6,e,null,t),e.lanes=i,e}function Fc(e){var t=ri(18,null,null,0);return t.stateNode=e,t}function ko(e,t,i){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jc=new WeakMap;function Ti(e,t){if(typeof e=="object"&&e!==null){var i=jc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:z(t)},jc.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var Sa=[],Ea=0,sl=null,ar=0,wi=[],Si=0,vn=null,ji=1,Gi="";function $i(e,t){Sa[Ea++]=ar,Sa[Ea++]=sl,sl=e,ar=t}function Gc(e,t,i){wi[Si++]=ji,wi[Si++]=Gi,wi[Si++]=vn,vn=e;var r=ji;e=Gi;var s=32-je(r)-1;r&=~(1<<s),i+=1;var d=32-je(t)+s;if(30<d){var w=s-s%5;d=(r&(1<<w)-1).toString(32),r>>=w,s-=w,ji=1<<32-je(t)+s|i<<s|r,Gi=d+e}else ji=1<<d|i<<s|r,Gi=e}function Zo(e){e.return!==null&&($i(e,1),Gc(e,1,0))}function Yo(e){for(;e===sl;)sl=Sa[--Ea],Sa[Ea]=null,ar=Sa[--Ea],Sa[Ea]=null;for(;e===vn;)vn=wi[--Si],wi[Si]=null,Gi=wi[--Si],wi[Si]=null,ji=wi[--Si],wi[Si]=null}function Vc(e,t){wi[Si++]=ji,wi[Si++]=Gi,wi[Si++]=vn,ji=t.id,Gi=t.overflow,vn=e}var Gt=null,yt=null,tt=!1,yn=null,Ei=!1,Xo=Error(a(519));function Tn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rr(Ti(t,e)),Xo}function qc(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[me]=e,t[ge]=r,i){case"dialog":Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":case"embed":Qe("load",t);break;case"video":case"audio":for(i=0;i<Cr.length;i++)Qe(Cr[i],t);break;case"source":Qe("error",t);break;case"img":case"image":case"link":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"input":Qe("invalid",t),ic(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qe("invalid",t);break;case"textarea":Qe("invalid",t),ac(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||od(t.textContent,i)?(r.popover!=null&&(Qe("beforetoggle",t),Qe("toggle",t)),r.onScroll!=null&&Qe("scroll",t),r.onScrollEnd!=null&&Qe("scrollend",t),r.onClick!=null&&(t.onclick=Qi),t=!0):t=!1,t||Tn(e,!0)}function kc(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:Gt=Gt.return}}function xa(e){if(e!==Gt)return!1;if(!tt)return kc(e),tt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||hu(e.type,e.memoizedProps)),i=!i),i&&yt&&Tn(e),kc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));yt=gd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));yt=gd(e)}else t===27?(t=yt,Pn(e.type)?(e=gu,gu=null,yt=e):yt=t):yt=Gt?_i(e.stateNode.nextSibling):null;return!0}function Kn(){yt=Gt=null,tt=!1}function Io(){var e=yn;return e!==null&&(ti===null?ti=e:ti.push.apply(ti,e),yn=null),e}function rr(e){yn===null?yn=[e]:yn.push(e)}var Wo=B(null),Jn=null,en=null;function wn(e,t,i){$(Wo,t._currentValue),t._currentValue=i}function tn(e){e._currentValue=Wo.current,K(Wo)}function Qo(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Ko(e,t,i,r){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var d=s.dependencies;if(d!==null){var w=s.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=s;for(var O=0;O<t.length;O++)if(b.context===t[O]){d.lanes|=i,b=d.alternate,b!==null&&(b.lanes|=i),Qo(d.return,i,e),r||(w=null);break e}d=b.next}}else if(s.tag===18){if(w=s.return,w===null)throw Error(a(341));w.lanes|=i,d=w.alternate,d!==null&&(d.lanes|=i),Qo(w,i,e),w=null}else w=s.child;if(w!==null)w.return=s;else for(w=s;w!==null;){if(w===e){w=null;break}if(s=w.sibling,s!==null){s.return=w.return,w=s;break}w=w.return}s=w}}function _a(e,t,i,r){e=null;for(var s=t,d=!1;s!==null;){if(!d){if((s.flags&524288)!==0)d=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var w=s.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var b=s.type;ai(s.pendingProps.value,w.value)||(e!==null?e.push(b):e=[b])}}else if(s===Xe.current){if(w=s.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Or):e=[Or])}s=s.return}e!==null&&Ko(t,e,i,r),t.flags|=262144}function ul(e){for(e=e.firstContext;e!==null;){if(!ai(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $n(e){Jn=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vt(e){return Zc(Jn,e)}function cl(e,t){return Jn===null&&$n(e),Zc(e,t)}function Zc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},en===null){if(e===null)throw Error(a(308));en=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else en=en.next=t;return i}var Lm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Nm=p.unstable_scheduleCallback,Um=p.unstable_NormalPriority,At={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jo(){return{controller:new Lm,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&Nm(Um,function(){e.controller.abort()})}var or=null,$o=0,ba=0,Ra=null;function Fm(e,t){if(or===null){var i=or=[];$o=0,ba=iu(),Ra={status:"pending",value:void 0,then:function(r){i.push(r)}}}return $o++,t.then(Yc,Yc),t}function Yc(){if(--$o===0&&or!==null){Ra!==null&&(Ra.status="fulfilled");var e=or;or=null,ba=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jm(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(s){i.push(s)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var s=0;s<i.length;s++)(0,i[s])(t)},function(s){for(r.status="rejected",r.reason=s,s=0;s<i.length;s++)(0,i[s])(void 0)}),r}var Xc=j.S;j.S=function(e,t){Af=Ee(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fm(e,t),Xc!==null&&Xc(e,t)};var ea=B(null);function es(){var e=ea.current;return e!==null?e:gt.pooledCache}function hl(e,t){t===null?$(ea,ea.current):$(ea,t.pool)}function Ic(){var e=es();return e===null?null:{parent:At._currentValue,pool:e}}var Ca=Error(a(460)),ts=Error(a(474)),fl=Error(a(542)),dl={then:function(){}};function Wc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qc(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Qi,Qi),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jc(e),e;default:if(typeof t.status=="string")t.then(Qi,Qi);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=r}},function(r){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jc(e),e}throw ia=t,Ca}}function ta(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ia=i,Ca):i}}var ia=null;function Kc(){if(ia===null)throw Error(a(459));var e=ia;return ia=null,e}function Jc(e){if(e===Ca||e===fl)throw Error(a(483))}var Da=null,sr=0;function pl(e){var t=sr;return sr+=1,Da===null&&(Da=[]),Qc(Da,e,t)}function ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ml(e,t){throw t.$$typeof===y?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $c(e){function t(F,L){if(e){var q=F.deletions;q===null?(F.deletions=[L],F.flags|=16):q.push(L)}}function i(F,L){if(!e)return null;for(;L!==null;)t(F,L),L=L.sibling;return null}function r(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function s(F,L){return F=Ji(F,L),F.index=0,F.sibling=null,F}function d(F,L,q){return F.index=q,e?(q=F.alternate,q!==null?(q=q.index,q<L?(F.flags|=67108866,L):q):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function b(F,L,q,ee){return L===null||L.tag!==6?(L=qo(q,F.mode,ee),L.return=F,L):(L=s(L,q),L.return=F,L)}function O(F,L,q,ee){var Ae=q.type;return Ae===R?J(F,L,q.props.children,ee,q.key):L!==null&&(L.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===pe&&ta(Ae)===L.type)?(L=s(L,q.props),ur(L,q),L.return=F,L):(L=ol(q.type,q.key,q.props,null,F.mode,ee),ur(L,q),L.return=F,L)}function k(F,L,q,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=ko(q,F.mode,ee),L.return=F,L):(L=s(L,q.children||[]),L.return=F,L)}function J(F,L,q,ee,Ae){return L===null||L.tag!==7?(L=Qn(q,F.mode,ee,Ae),L.return=F,L):(L=s(L,q),L.return=F,L)}function te(F,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=qo(""+L,F.mode,q),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return q=ol(L.type,L.key,L.props,null,F.mode,q),ur(q,L),q.return=F,q;case _:return L=ko(L,F.mode,q),L.return=F,L;case pe:return L=ta(L),te(F,L,q)}if(Ve(L)||we(L))return L=Qn(L,F.mode,q,null),L.return=F,L;if(typeof L.then=="function")return te(F,pl(L),q);if(L.$$typeof===U)return te(F,cl(F,L),q);ml(F,L)}return null}function Z(F,L,q,ee){var Ae=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ae!==null?null:b(F,L,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===Ae?O(F,L,q,ee):null;case _:return q.key===Ae?k(F,L,q,ee):null;case pe:return q=ta(q),Z(F,L,q,ee)}if(Ve(q)||we(q))return Ae!==null?null:J(F,L,q,ee,null);if(typeof q.then=="function")return Z(F,L,pl(q),ee);if(q.$$typeof===U)return Z(F,L,cl(F,q),ee);ml(F,q)}return null}function X(F,L,q,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(q)||null,b(L,F,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return F=F.get(ee.key===null?q:ee.key)||null,O(L,F,ee,Ae);case _:return F=F.get(ee.key===null?q:ee.key)||null,k(L,F,ee,Ae);case pe:return ee=ta(ee),X(F,L,q,ee,Ae)}if(Ve(ee)||we(ee))return F=F.get(q)||null,J(L,F,ee,Ae,null);if(typeof ee.then=="function")return X(F,L,q,pl(ee),Ae);if(ee.$$typeof===U)return X(F,L,q,cl(L,ee),Ae);ml(L,ee)}return null}function ye(F,L,q,ee){for(var Ae=null,nt=null,xe=L,ke=L=0,et=null;xe!==null&&ke<q.length;ke++){xe.index>ke?(et=xe,xe=null):et=xe.sibling;var at=Z(F,xe,q[ke],ee);if(at===null){xe===null&&(xe=et);break}e&&xe&&at.alternate===null&&t(F,xe),L=d(at,L,ke),nt===null?Ae=at:nt.sibling=at,nt=at,xe=et}if(ke===q.length)return i(F,xe),tt&&$i(F,ke),Ae;if(xe===null){for(;ke<q.length;ke++)xe=te(F,q[ke],ee),xe!==null&&(L=d(xe,L,ke),nt===null?Ae=xe:nt.sibling=xe,nt=xe);return tt&&$i(F,ke),Ae}for(xe=r(xe);ke<q.length;ke++)et=X(xe,F,ke,q[ke],ee),et!==null&&(e&&et.alternate!==null&&xe.delete(et.key===null?ke:et.key),L=d(et,L,ke),nt===null?Ae=et:nt.sibling=et,nt=et);return e&&xe.forEach(function(Un){return t(F,Un)}),tt&&$i(F,ke),Ae}function Be(F,L,q,ee){if(q==null)throw Error(a(151));for(var Ae=null,nt=null,xe=L,ke=L=0,et=null,at=q.next();xe!==null&&!at.done;ke++,at=q.next()){xe.index>ke?(et=xe,xe=null):et=xe.sibling;var Un=Z(F,xe,at.value,ee);if(Un===null){xe===null&&(xe=et);break}e&&xe&&Un.alternate===null&&t(F,xe),L=d(Un,L,ke),nt===null?Ae=Un:nt.sibling=Un,nt=Un,xe=et}if(at.done)return i(F,xe),tt&&$i(F,ke),Ae;if(xe===null){for(;!at.done;ke++,at=q.next())at=te(F,at.value,ee),at!==null&&(L=d(at,L,ke),nt===null?Ae=at:nt.sibling=at,nt=at);return tt&&$i(F,ke),Ae}for(xe=r(xe);!at.done;ke++,at=q.next())at=X(xe,F,ke,at.value,ee),at!==null&&(e&&at.alternate!==null&&xe.delete(at.key===null?ke:at.key),L=d(at,L,ke),nt===null?Ae=at:nt.sibling=at,nt=at);return e&&xe.forEach(function(Kg){return t(F,Kg)}),tt&&$i(F,ke),Ae}function dt(F,L,q,ee){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var Ae=q.key;L!==null;){if(L.key===Ae){if(Ae=q.type,Ae===R){if(L.tag===7){i(F,L.sibling),ee=s(L,q.props.children),ee.return=F,F=ee;break e}}else if(L.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===pe&&ta(Ae)===L.type){i(F,L.sibling),ee=s(L,q.props),ur(ee,q),ee.return=F,F=ee;break e}i(F,L);break}else t(F,L);L=L.sibling}q.type===R?(ee=Qn(q.props.children,F.mode,ee,q.key),ee.return=F,F=ee):(ee=ol(q.type,q.key,q.props,null,F.mode,ee),ur(ee,q),ee.return=F,F=ee)}return w(F);case _:e:{for(Ae=q.key;L!==null;){if(L.key===Ae)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){i(F,L.sibling),ee=s(L,q.children||[]),ee.return=F,F=ee;break e}else{i(F,L);break}else t(F,L);L=L.sibling}ee=ko(q,F.mode,ee),ee.return=F,F=ee}return w(F);case pe:return q=ta(q),dt(F,L,q,ee)}if(Ve(q))return ye(F,L,q,ee);if(we(q)){if(Ae=we(q),typeof Ae!="function")throw Error(a(150));return q=Ae.call(q),Be(F,L,q,ee)}if(typeof q.then=="function")return dt(F,L,pl(q),ee);if(q.$$typeof===U)return dt(F,L,cl(F,q),ee);ml(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(i(F,L.sibling),ee=s(L,q),ee.return=F,F=ee):(i(F,L),ee=qo(q,F.mode,ee),ee.return=F,F=ee),w(F)):i(F,L)}return function(F,L,q,ee){try{sr=0;var Ae=dt(F,L,q,ee);return Da=null,Ae}catch(xe){if(xe===Ca||xe===fl)throw xe;var nt=ri(29,xe,null,F.mode);return nt.lanes=ee,nt.return=F,nt}finally{}}}var na=$c(!0),eh=$c(!1),Sn=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(lt&2)!==0){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=ll(e),Nc(e,null,i),t}return rl(e,r,t,i),ll(e)}function cr(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,se(e,i)}}function as(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var s=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?s=d=w:d=d.next=w,i=i.next}while(i!==null);d===null?s=d=t:d=d.next=t}else s=d=t;i={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var rs=!1;function hr(){if(rs){var e=Ra;if(e!==null)throw e}}function fr(e,t,i,r){rs=!1;var s=e.updateQueue;Sn=!1;var d=s.firstBaseUpdate,w=s.lastBaseUpdate,b=s.shared.pending;if(b!==null){s.shared.pending=null;var O=b,k=O.next;O.next=null,w===null?d=k:w.next=k,w=O;var J=e.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==w&&(b===null?J.firstBaseUpdate=k:b.next=k,J.lastBaseUpdate=O))}if(d!==null){var te=s.baseState;w=0,J=k=O=null,b=d;do{var Z=b.lane&-536870913,X=Z!==b.lane;if(X?($e&Z)===Z:(r&Z)===Z){Z!==0&&Z===ba&&(rs=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=e,Be=b;Z=t;var dt=i;switch(Be.tag){case 1:if(ye=Be.payload,typeof ye=="function"){te=ye.call(dt,te,Z);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Be.payload,Z=typeof ye=="function"?ye.call(dt,te,Z):ye,Z==null)break e;te=g({},te,Z);break e;case 2:Sn=!0}}Z=b.callback,Z!==null&&(e.flags|=64,X&&(e.flags|=8192),X=s.callbacks,X===null?s.callbacks=[Z]:X.push(Z))}else X={lane:Z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(k=J=X,O=te):J=J.next=X,w|=Z;if(b=b.next,b===null){if(b=s.shared.pending,b===null)break;X=b,b=X.next,X.next=null,s.lastBaseUpdate=X,s.shared.pending=null}}while(!0);J===null&&(O=te),s.baseState=O,s.firstBaseUpdate=k,s.lastBaseUpdate=J,d===null&&(s.shared.lanes=0),Dn|=w,e.lanes=w,e.memoizedState=te}}function th(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function ih(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)th(i[e],t)}var za=B(null),gl=B(0);function nh(e,t){e=hn,$(gl,e),$(za,t),hn=e|t.baseLanes}function ls(){$(gl,hn),$(za,za.current)}function os(){hn=gl.current,K(za),K(gl)}var li=B(null),xi=null;function _n(e){var t=e.alternate;$(Ct,Ct.current&1),$(li,e),xi===null&&(t===null||za.current!==null||t.memoizedState!==null)&&(xi=e)}function ss(e){$(Ct,Ct.current),$(li,e),xi===null&&(xi=e)}function ah(e){e.tag===22?($(Ct,Ct.current),$(li,e),xi===null&&(xi=e)):bn()}function bn(){$(Ct,Ct.current),$(li,li.current)}function oi(e){K(li),xi===e&&(xi=null),K(Ct)}var Ct=B(0);function vl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||pu(i)||mu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=0,qe=null,ht=null,Ot=null,yl=!1,Ma=!1,aa=!1,Tl=0,dr=0,Aa=null,Gm=0;function _t(){throw Error(a(321))}function us(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ai(e[i],t[i]))return!1;return!0}function cs(e,t,i,r,s,d){return nn=d,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Gh:bs,aa=!1,d=i(r,s),aa=!1,Ma&&(d=lh(t,i,r,s)),rh(e),d}function rh(e){j.H=gr;var t=ht!==null&&ht.next!==null;if(nn=0,Ot=ht=qe=null,yl=!1,dr=0,Aa=null,t)throw Error(a(300));e===null||Pt||(e=e.dependencies,e!==null&&ul(e)&&(Pt=!0))}function lh(e,t,i,r){qe=e;var s=0;do{if(Ma&&(Aa=null),dr=0,Ma=!1,25<=s)throw Error(a(301));if(s+=1,Ot=ht=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=Vh,d=t(i,r)}while(Ma);return d}function Vm(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?pr(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(qe.flags|=1024),t}function hs(){var e=Tl!==0;return Tl=0,e}function fs(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ds(e){if(yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yl=!1}nn=0,Ot=ht=qe=null,Ma=!1,dr=Tl=0,Aa=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?qe.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Dt(){if(ht===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Ot===null?qe.memoizedState:Ot.next;if(t!==null)Ot=t,ht=e;else{if(e===null)throw qe.alternate===null?Error(a(467)):Error(a(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ot===null?qe.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pr(e){var t=dr;return dr+=1,Aa===null&&(Aa=[]),e=Qc(Aa,e,t),t=qe,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Gh:bs),e}function Sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pr(e);if(e.$$typeof===U)return Vt(e)}throw Error(a(438,String(e)))}function ps(e){var t=null,i=qe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=qe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=wl(),qe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Oe;return t.index++,i}function an(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Dt();return ms(t,ht,e)}function ms(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var s=e.baseQueue,d=r.pending;if(d!==null){if(s!==null){var w=s.next;s.next=d.next,d.next=w}t.baseQueue=s=d,r.pending=null}if(d=e.baseState,s===null)e.memoizedState=d;else{t=s.next;var b=w=null,O=null,k=t,J=!1;do{var te=k.lane&-536870913;if(te!==k.lane?($e&te)===te:(nn&te)===te){var Z=k.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),te===ba&&(J=!0);else if((nn&Z)===Z){k=k.next,Z===ba&&(J=!0);continue}else te={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(b=O=te,w=d):O=O.next=te,qe.lanes|=Z,Dn|=Z;te=k.action,aa&&i(d,te),d=k.hasEagerState?k.eagerState:i(d,te)}else Z={lane:te,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},O===null?(b=O=Z,w=d):O=O.next=Z,qe.lanes|=te,Dn|=te;k=k.next}while(k!==null&&k!==t);if(O===null?w=d:O.next=b,!ai(d,e.memoizedState)&&(Pt=!0,J&&(i=Ra,i!==null)))throw i;e.memoizedState=d,e.baseState=w,e.baseQueue=O,r.lastRenderedState=d}return s===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=Dt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,s=i.pending,d=t.memoizedState;if(s!==null){i.pending=null;var w=s=s.next;do d=e(d,w.action),w=w.next;while(w!==s);ai(d,t.memoizedState)||(Pt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,r]}function oh(e,t,i){var r=qe,s=Dt(),d=tt;if(d){if(i===void 0)throw Error(a(407));i=i()}else i=t();var w=!ai((ht||s).memoizedState,i);if(w&&(s.memoizedState=i,Pt=!0),s=s.queue,Ts(ch.bind(null,r,s,e),[e]),s.getSnapshot!==t||w||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,Oa(9,{destroy:void 0},uh.bind(null,r,s,i,t),null),gt===null)throw Error(a(349));d||(nn&127)!==0||sh(r,t,i)}return i}function sh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=qe.updateQueue,t===null?(t=wl(),qe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function uh(e,t,i,r){t.value=i,t.getSnapshot=r,hh(t)&&fh(e)}function ch(e,t,i){return i(function(){hh(t)&&fh(e)})}function hh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ai(e,i)}catch{return!0}}function fh(e){var t=Wn(e,2);t!==null&&ii(t,e,2)}function vs(e){var t=Qt();if(typeof e=="function"){var i=e;if(e=i(),aa){Te(!0);try{i()}finally{Te(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function dh(e,t,i,r){return e.baseState=i,ms(e,ht,typeof r=="function"?r:an)}function qm(e,t,i,r,s){if(bl(e))throw Error(a(485));if(e=t.action,e!==null){var d={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){d.listeners.push(w)}};j.T!==null?i(!0):d.isTransition=!1,r(d),i=t.pending,i===null?(d.next=t.pending=d,ph(t,d)):(d.next=i.next,t.pending=i.next=d)}}function ph(e,t){var i=t.action,r=t.payload,s=e.state;if(t.isTransition){var d=j.T,w={};j.T=w;try{var b=i(s,r),O=j.S;O!==null&&O(w,b),mh(e,t,b)}catch(k){ys(e,t,k)}finally{d!==null&&w.types!==null&&(d.types=w.types),j.T=d}}else try{d=i(s,r),mh(e,t,d)}catch(k){ys(e,t,k)}}function mh(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){gh(e,t,r)},function(r){return ys(e,t,r)}):gh(e,t,i)}function gh(e,t,i){t.status="fulfilled",t.value=i,vh(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ph(e,i)))}function ys(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,vh(t),t=t.next;while(t!==r)}e.action=null}function vh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function Th(e,t){if(tt){var i=gt.formState;if(i!==null){e:{var r=qe;if(tt){if(yt){t:{for(var s=yt,d=Ei;s.nodeType!==8;){if(!d){s=null;break t}if(s=_i(s.nextSibling),s===null){s=null;break t}}d=s.data,s=d==="F!"||d==="F"?s:null}if(s){yt=_i(s.nextSibling),r=s.data==="F!";break e}}Tn(r)}r=!1}r&&(t=i[0])}}return i=Qt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},i.queue=r,i=Uh.bind(null,qe,r),r.dispatch=i,r=vs(!1),d=_s.bind(null,qe,!1,r.queue),r=Qt(),s={state:t,dispatch:null,action:e,pending:null},r.queue=s,i=qm.bind(null,qe,s,d,i),s.dispatch=i,r.memoizedState=e,[t,i,!1]}function wh(e){var t=Dt();return Sh(t,ht,e)}function Sh(e,t,i){if(t=ms(e,t,yh)[0],e=El(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=pr(t)}catch(w){throw w===Ca?fl:w}else r=t;t=Dt();var s=t.queue,d=s.dispatch;return i!==t.memoizedState&&(qe.flags|=2048,Oa(9,{destroy:void 0},km.bind(null,s,i),null)),[r,d,e]}function km(e,t){e.action=t}function Eh(e){var t=Dt(),i=ht;if(i!==null)return Sh(t,i,e);Dt(),t=t.memoizedState,i=Dt();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Oa(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=qe.updateQueue,t===null&&(t=wl(),qe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function xh(){return Dt().memoizedState}function xl(e,t,i,r){var s=Qt();qe.flags|=e,s.memoizedState=Oa(1|t,{destroy:void 0},i,r===void 0?null:r)}function _l(e,t,i,r){var s=Dt();r=r===void 0?null:r;var d=s.memoizedState.inst;ht!==null&&r!==null&&us(r,ht.memoizedState.deps)?s.memoizedState=Oa(t,d,i,r):(qe.flags|=e,s.memoizedState=Oa(1|t,d,i,r))}function _h(e,t){xl(8390656,8,e,t)}function Ts(e,t){_l(2048,8,e,t)}function Zm(e){qe.flags|=4;var t=qe.updateQueue;if(t===null)t=wl(),qe.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function bh(e){var t=Dt().memoizedState;return Zm({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Rh(e,t){return _l(4,2,e,t)}function Ch(e,t){return _l(4,4,e,t)}function Dh(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zh(e,t,i){i=i!=null?i.concat([e]):null,_l(4,4,Dh.bind(null,t,e),i)}function ws(){}function Mh(e,t){var i=Dt();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&us(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Ah(e,t){var i=Dt();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&us(t,r[1]))return r[0];if(r=e(),aa){Te(!0);try{e()}finally{Te(!1)}}return i.memoizedState=[r,t],r}function Ss(e,t,i){return i===void 0||(nn&1073741824)!==0&&($e&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Pf(),qe.lanes|=e,Dn|=e,i)}function Oh(e,t,i,r){return ai(i,t)?i:za.current!==null?(e=Ss(e,i,r),ai(e,t)||(Pt=!0),e):(nn&42)===0||(nn&1073741824)!==0&&($e&261930)===0?(Pt=!0,e.memoizedState=i):(e=Pf(),qe.lanes|=e,Dn|=e,t)}function Ph(e,t,i,r,s){var d=le.p;le.p=d!==0&&8>d?d:8;var w=j.T,b={};j.T=b,_s(e,!1,t,i);try{var O=s(),k=j.S;if(k!==null&&k(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=jm(O,r);mr(e,t,J,ci(e))}else mr(e,t,r,ci(e))}catch(te){mr(e,t,{then:function(){},status:"rejected",reason:te},ci())}finally{le.p=d,w!==null&&b.types!==null&&(w.types=b.types),j.T=w}}function Ym(){}function Es(e,t,i,r){if(e.tag!==5)throw Error(a(476));var s=Hh(e).queue;Ph(e,s,t,he,i===null?Ym:function(){return Bh(e),i(r)})}function Hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:he},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bh(e){var t=Hh(e);t.next===null&&(t=e.alternate.memoizedState),mr(e,t.next.queue,{},ci())}function xs(){return Vt(Or)}function Lh(){return Dt().memoizedState}function Nh(){return Dt().memoizedState}function Xm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=ci();e=En(i);var r=xn(t,e,i);r!==null&&(ii(r,t,i),cr(r,t,i)),t={cache:Jo()},e.payload=t;return}t=t.return}}function Im(e,t,i){var r=ci();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},bl(e)?Fh(t,i):(i=Go(e,t,i,r),i!==null&&(ii(i,e,r),jh(i,t,r)))}function Uh(e,t,i){var r=ci();mr(e,t,i,r)}function mr(e,t,i,r){var s={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(bl(e))Fh(t,s);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var w=t.lastRenderedState,b=d(w,i);if(s.hasEagerState=!0,s.eagerState=b,ai(b,w))return rl(e,t,s,0),gt===null&&al(),!1}catch{}finally{}if(i=Go(e,t,s,r),i!==null)return ii(i,e,r),jh(i,t,r),!0}return!1}function _s(e,t,i,r){if(r={lane:2,revertLane:iu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bl(e)){if(t)throw Error(a(479))}else t=Go(e,i,r,2),t!==null&&ii(t,e,2)}function bl(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Fh(e,t){Ma=yl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jh(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,se(e,i)}}var gr={readContext:Vt,use:Sl,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};gr.useEffectEvent=_t;var Gh={readContext:Vt,use:Sl,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:_h,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,xl(4194308,4,Dh.bind(null,t,e),i)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){xl(4,2,e,t)},useMemo:function(e,t){var i=Qt();t=t===void 0?null:t;var r=e();if(aa){Te(!0);try{e()}finally{Te(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Qt();if(i!==void 0){var s=i(t);if(aa){Te(!0);try{i(t)}finally{Te(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Im.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=vs(e);var t=e.queue,i=Uh.bind(null,qe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ws,useDeferredValue:function(e,t){var i=Qt();return Ss(i,e,t)},useTransition:function(){var e=vs(!1);return e=Ph.bind(null,qe,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=qe,s=Qt();if(tt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),gt===null)throw Error(a(349));($e&127)!==0||sh(r,t,i)}s.memoizedState=i;var d={value:i,getSnapshot:t};return s.queue=d,_h(ch.bind(null,r,d,e),[e]),r.flags|=2048,Oa(9,{destroy:void 0},uh.bind(null,r,d,i,t),null),i},useId:function(){var e=Qt(),t=gt.identifierPrefix;if(tt){var i=Gi,r=ji;i=(r&~(1<<32-je(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Tl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Gm++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xs,useFormState:Th,useActionState:Th,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=_s.bind(null,qe,!0,i),i.dispatch=t,[e,t]},useMemoCache:ps,useCacheRefresh:function(){return Qt().memoizedState=Xm.bind(null,qe)},useEffectEvent:function(e){var t=Qt(),i={impl:e};return t.memoizedState=i,function(){if((lt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},bs={readContext:Vt,use:Sl,useCallback:Mh,useContext:Vt,useEffect:Ts,useImperativeHandle:zh,useInsertionEffect:Rh,useLayoutEffect:Ch,useMemo:Ah,useReducer:El,useRef:xh,useState:function(){return El(an)},useDebugValue:ws,useDeferredValue:function(e,t){var i=Dt();return Oh(i,ht.memoizedState,e,t)},useTransition:function(){var e=El(an)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:pr(e),t]},useSyncExternalStore:oh,useId:Lh,useHostTransitionStatus:xs,useFormState:wh,useActionState:wh,useOptimistic:function(e,t){var i=Dt();return dh(i,ht,e,t)},useMemoCache:ps,useCacheRefresh:Nh};bs.useEffectEvent=bh;var Vh={readContext:Vt,use:Sl,useCallback:Mh,useContext:Vt,useEffect:Ts,useImperativeHandle:zh,useInsertionEffect:Rh,useLayoutEffect:Ch,useMemo:Ah,useReducer:gs,useRef:xh,useState:function(){return gs(an)},useDebugValue:ws,useDeferredValue:function(e,t){var i=Dt();return ht===null?Ss(i,e,t):Oh(i,ht.memoizedState,e,t)},useTransition:function(){var e=gs(an)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:pr(e),t]},useSyncExternalStore:oh,useId:Lh,useHostTransitionStatus:xs,useFormState:Eh,useActionState:Eh,useOptimistic:function(e,t){var i=Dt();return ht!==null?dh(i,ht,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ps,useCacheRefresh:Nh};Vh.useEffectEvent=bh;function Rs(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:g({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Cs={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=ci(),s=En(r);s.payload=t,i!=null&&(s.callback=i),t=xn(e,s,r),t!==null&&(ii(t,e,r),cr(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=ci(),s=En(r);s.tag=1,s.payload=t,i!=null&&(s.callback=i),t=xn(e,s,r),t!==null&&(ii(t,e,r),cr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ci(),r=En(i);r.tag=2,t!=null&&(r.callback=t),t=xn(e,r,i),t!==null&&(ii(t,e,i),cr(t,e,i))}};function qh(e,t,i,r,s,d,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,w):t.prototype&&t.prototype.isPureReactComponent?!ir(i,r)||!ir(s,d):!0}function kh(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function ra(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=g({},i));for(var s in e)i[s]===void 0&&(i[s]=e[s])}return i}function Zh(e){nl(e)}function Yh(e){console.error(e)}function Xh(e){nl(e)}function Rl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Ih(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ds(e,t,i){return i=En(i),i.tag=3,i.payload={element:null},i.callback=function(){Rl(e,t)},i}function Wh(e){return e=En(e),e.tag=3,e}function Qh(e,t,i,r){var s=i.type.getDerivedStateFromError;if(typeof s=="function"){var d=r.value;e.payload=function(){return s(d)},e.callback=function(){Ih(t,i,r)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Ih(t,i,r),typeof s!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function Wm(e,t,i,r,s){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&_a(t,i,s,!0),i=li.current,i!==null){switch(i.tag){case 31:case 13:return xi===null?Ul():i.alternate===null&&bt===0&&(bt=3),i.flags&=-257,i.flags|=65536,i.lanes=s,r===dl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),$s(e,r,s)),!1;case 22:return i.flags|=65536,r===dl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),$s(e,r,s)),!1}throw Error(a(435,i.tag))}return $s(e,r,s),Ul(),!1}if(tt)return t=li.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==Xo&&(e=Error(a(422),{cause:r}),rr(Ti(e,i)))):(r!==Xo&&(t=Error(a(423),{cause:r}),rr(Ti(t,i))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,r=Ti(r,i),s=Ds(e.stateNode,r,s),as(e,s),bt!==4&&(bt=2)),!1;var d=Error(a(520),{cause:r});if(d=Ti(d,i),_r===null?_r=[d]:_r.push(d),bt!==4&&(bt=2),t===null)return!0;r=Ti(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=s&-s,i.lanes|=e,e=Ds(i.stateNode,r,e),as(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zn===null||!zn.has(d))))return i.flags|=65536,s&=-s,i.lanes|=s,s=Wh(s),Qh(s,e,i,r),as(i,s),!1}i=i.return}while(i!==null);return!1}var zs=Error(a(461)),Pt=!1;function qt(e,t,i,r){t.child=e===null?eh(t,null,i,r):na(t,e.child,i,r)}function Kh(e,t,i,r,s){i=i.render;var d=t.ref;if("ref"in r){var w={};for(var b in r)b!=="ref"&&(w[b]=r[b])}else w=r;return $n(t),r=cs(e,t,i,w,d,s),b=hs(),e!==null&&!Pt?(fs(e,t,s),rn(e,t,s)):(tt&&b&&Zo(t),t.flags|=1,qt(e,t,r,s),t.child)}function Jh(e,t,i,r,s){if(e===null){var d=i.type;return typeof d=="function"&&!Vo(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,$h(e,t,d,r,s)):(e=ol(i.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ns(e,s)){var w=d.memoizedProps;if(i=i.compare,i=i!==null?i:ir,i(w,r)&&e.ref===t.ref)return rn(e,t,s)}return t.flags|=1,e=Ji(d,r),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,i,r,s){if(e!==null){var d=e.memoizedProps;if(ir(d,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=d,Ns(e,s))(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,rn(e,t,s)}return Ms(e,t,i,r,s)}function ef(e,t,i,r){var s=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~d}else r=0,t.child=null;return tf(e,t,d,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hl(t,d!==null?d.cachePool:null),d!==null?nh(t,d):ls(),ah(t);else return r=t.lanes=536870912,tf(e,t,d!==null?d.baseLanes|i:i,i,r)}else d!==null?(hl(t,d.cachePool),nh(t,d),bn(),t.memoizedState=null):(e!==null&&hl(t,null),ls(),bn());return qt(e,t,s,i),t.child}function vr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tf(e,t,i,r,s){var d=es();return d=d===null?null:{parent:At._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&hl(t,null),ls(),ah(t),e!==null&&_a(e,t,r,!0),t.childLanes=s,null}function Cl(e,t){return t=zl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nf(e,t,i){return na(t,e.child,null,i),e=Cl(t,t.pendingProps),e.flags|=2,oi(t),t.memoizedState=null,e}function Qm(e,t,i){var r=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(tt){if(r.mode==="hidden")return e=Cl(t,r),t.lanes=536870912,vr(null,e);if(ss(t),(e=yt)?(e=md(e,Ei),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vn!==null?{id:ji,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},i=Fc(e),i.return=t,t.child=i,Gt=t,yt=null)):e=null,e===null)throw Tn(t);return t.lanes=536870912,null}return Cl(t,r)}var d=e.memoizedState;if(d!==null){var w=d.dehydrated;if(ss(t),s)if(t.flags&256)t.flags&=-257,t=nf(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(Pt||_a(e,t,i,!1),s=(i&e.childLanes)!==0,Pt||s){if(r=gt,r!==null&&(w=ce(r,i),w!==0&&w!==d.retryLane))throw d.retryLane=w,Wn(e,w),ii(r,e,w),zs;Ul(),t=nf(e,t,i)}else e=d.treeContext,yt=_i(w.nextSibling),Gt=t,tt=!0,yn=null,Ei=!1,e!==null&&Vc(t,e),t=Cl(t,r),t.flags|=4096;return t}return e=Ji(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Dl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ms(e,t,i,r,s){return $n(t),i=cs(e,t,i,r,void 0,s),r=hs(),e!==null&&!Pt?(fs(e,t,s),rn(e,t,s)):(tt&&r&&Zo(t),t.flags|=1,qt(e,t,i,s),t.child)}function af(e,t,i,r,s,d){return $n(t),t.updateQueue=null,i=lh(t,r,i,s),rh(e),r=hs(),e!==null&&!Pt?(fs(e,t,d),rn(e,t,d)):(tt&&r&&Zo(t),t.flags|=1,qt(e,t,i,d),t.child)}function rf(e,t,i,r,s){if($n(t),t.stateNode===null){var d=wa,w=i.contextType;typeof w=="object"&&w!==null&&(d=Vt(w)),d=new i(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cs,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},is(t),w=i.contextType,d.context=typeof w=="object"&&w!==null?Vt(w):wa,d.state=t.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Rs(t,i,w,r),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(w=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),w!==d.state&&Cs.enqueueReplaceState(d,d.state,null),fr(t,r,d,s),hr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,O=ra(i,b);d.props=O;var k=d.context,J=i.contextType;w=wa,typeof J=="object"&&J!==null&&(w=Vt(J));var te=i.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||k!==w)&&kh(t,d,r,w),Sn=!1;var Z=t.memoizedState;d.state=Z,fr(t,r,d,s),hr(),k=t.memoizedState,b||Z!==k||Sn?(typeof te=="function"&&(Rs(t,i,te,r),k=t.memoizedState),(O=Sn||qh(t,i,O,r,Z,k,w))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=k),d.props=r,d.state=k,d.context=w,r=O):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,ns(e,t),w=t.memoizedProps,J=ra(i,w),d.props=J,te=t.pendingProps,Z=d.context,k=i.contextType,O=wa,typeof k=="object"&&k!==null&&(O=Vt(k)),b=i.getDerivedStateFromProps,(k=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w!==te||Z!==O)&&kh(t,d,r,O),Sn=!1,Z=t.memoizedState,d.state=Z,fr(t,r,d,s),hr();var X=t.memoizedState;w!==te||Z!==X||Sn||e!==null&&e.dependencies!==null&&ul(e.dependencies)?(typeof b=="function"&&(Rs(t,i,b,r),X=t.memoizedState),(J=Sn||qh(t,i,J,r,Z,X,O)||e!==null&&e.dependencies!==null&&ul(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,X,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,X,O)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=X),d.props=r,d.state=X,d.context=O,r=J):(typeof d.componentDidUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Dl(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=na(t,e.child,null,s),t.child=na(t,null,i,s)):qt(e,t,i,s),t.memoizedState=d.state,e=t.child):e=rn(e,t,s),e}function lf(e,t,i,r){return Kn(),t.flags|=256,qt(e,t,i,r),t.child}var As={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Os(e){return{baseLanes:e,cachePool:Ic()}}function Ps(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=ui),e}function of(e,t,i){var r=t.pendingProps,s=!1,d=(t.flags&128)!==0,w;if((w=d)||(w=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),w&&(s=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(tt){if(s?_n(t):bn(),(e=yt)?(e=md(e,Ei),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vn!==null?{id:ji,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},i=Fc(e),i.return=t,t.child=i,Gt=t,yt=null)):e=null,e===null)throw Tn(t);return mu(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,s?(bn(),s=t.mode,b=zl({mode:"hidden",children:b},s),r=Qn(r,s,i,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=Os(i),r.childLanes=Ps(e,w,i),t.memoizedState=As,vr(null,r)):(_n(t),Hs(t,b))}var O=e.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)t.flags&256?(_n(t),t.flags&=-257,t=Bs(e,t,i)):t.memoizedState!==null?(bn(),t.child=e.child,t.flags|=128,t=null):(bn(),b=r.fallback,s=t.mode,r=zl({mode:"visible",children:r.children},s),b=Qn(b,s,i,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,na(t,e.child,null,i),r=t.child,r.memoizedState=Os(i),r.childLanes=Ps(e,w,i),t.memoizedState=As,t=vr(null,r));else if(_n(t),mu(b)){if(w=b.nextSibling&&b.nextSibling.dataset,w)var k=w.dgst;w=k,r=Error(a(419)),r.stack="",r.digest=w,rr({value:r,source:null,stack:null}),t=Bs(e,t,i)}else if(Pt||_a(e,t,i,!1),w=(i&e.childLanes)!==0,Pt||w){if(w=gt,w!==null&&(r=ce(w,i),r!==0&&r!==O.retryLane))throw O.retryLane=r,Wn(e,r),ii(w,e,r),zs;pu(b)||Ul(),t=Bs(e,t,i)}else pu(b)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,yt=_i(b.nextSibling),Gt=t,tt=!0,yn=null,Ei=!1,e!==null&&Vc(t,e),t=Hs(t,r.children),t.flags|=4096);return t}return s?(bn(),b=r.fallback,s=t.mode,O=e.child,k=O.sibling,r=Ji(O,{mode:"hidden",children:r.children}),r.subtreeFlags=O.subtreeFlags&65011712,k!==null?b=Ji(k,b):(b=Qn(b,s,i,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,vr(null,r),r=t.child,b=e.child.memoizedState,b===null?b=Os(i):(s=b.cachePool,s!==null?(O=At._currentValue,s=s.parent!==O?{parent:O,pool:O}:s):s=Ic(),b={baseLanes:b.baseLanes|i,cachePool:s}),r.memoizedState=b,r.childLanes=Ps(e,w,i),t.memoizedState=As,vr(e.child,r)):(_n(t),i=e.child,e=i.sibling,i=Ji(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=i,t.memoizedState=null,i)}function Hs(e,t){return t=zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zl(e,t){return e=ri(22,e,null,t),e.lanes=0,e}function Bs(e,t,i){return na(t,e.child,null,i),e=Hs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sf(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qo(e.return,t,i)}function Ls(e,t,i,r,s,d){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:s,treeForkCount:d}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=r,w.tail=i,w.tailMode=s,w.treeForkCount=d)}function uf(e,t,i){var r=t.pendingProps,s=r.revealOrder,d=r.tail;r=r.children;var w=Ct.current,b=(w&2)!==0;if(b?(w=w&1|2,t.flags|=128):w&=1,$(Ct,w),qt(e,t,r,i),r=tt?ar:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sf(e,i,t);else if(e.tag===19)sf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&vl(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Ls(t,!1,s,i,d,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vl(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Ls(t,!0,i,null,d,r);break;case"together":Ls(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function rn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(_a(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=Ji(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ji(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ns(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ul(e)))}function Km(e,t,i){switch(t.tag){case 3:xt(t,t.stateNode.containerInfo),wn(t,At,e.memoizedState.cache),Kn();break;case 27:case 5:mt(t);break;case 4:xt(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ss(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(_n(t),t.flags|=128,null):(i&t.child.childLanes)!==0?of(e,t,i):(_n(t),e=rn(e,t,i),e!==null?e.sibling:null);_n(t);break;case 19:var s=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(_a(e,t,i,!1),r=(i&t.childLanes)!==0),s){if(r)return uf(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$(Ct,Ct.current),r)break;return null;case 22:return t.lanes=0,ef(e,t,i,t.pendingProps);case 24:wn(t,At,e.memoizedState.cache)}return rn(e,t,i)}function cf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!Ns(e,i)&&(t.flags&128)===0)return Pt=!1,Km(e,t,i);Pt=(e.flags&131072)!==0}else Pt=!1,tt&&(t.flags&1048576)!==0&&Gc(t,ar,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ta(t.elementType),t.type=e,typeof e=="function")Vo(e)?(r=ra(e,r),t.tag=1,t=rf(null,t,e,r,i)):(t.tag=0,t=Ms(null,t,e,r,i));else{if(e!=null){var s=e.$$typeof;if(s===oe){t.tag=11,t=Kh(null,t,e,r,i);break e}else if(s===ae){t.tag=14,t=Jh(null,t,e,r,i);break e}}throw t=Ne(e)||e,Error(a(306,t,""))}}return t;case 0:return Ms(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,s=ra(r,t.pendingProps),rf(e,t,r,s,i);case 3:e:{if(xt(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var d=t.memoizedState;s=d.element,ns(e,t),fr(t,r,null,i);var w=t.memoizedState;if(r=w.cache,wn(t,At,r),r!==d.cache&&Ko(t,[At],i,!0),hr(),r=w.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=lf(e,t,r,i);break e}else if(r!==s){s=Ti(Error(a(424)),t),rr(s),t=lf(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(yt=_i(e.firstChild),Gt=t,tt=!0,yn=null,Ei=!0,i=eh(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Kn(),r===s){t=rn(e,t,i);break e}qt(e,t,r,i)}t=t.child}return t;case 26:return Dl(e,t),e===null?(i=Sd(t.type,null,t.pendingProps,null))?t.memoizedState=i:tt||(i=t.type,e=t.pendingProps,r=Zl(Fe.current).createElement(i),r[me]=t,r[ge]=e,kt(r,i,e),wt(r),t.stateNode=r):t.memoizedState=Sd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mt(t),e===null&&tt&&(r=t.stateNode=yd(t.type,t.pendingProps,Fe.current),Gt=t,Ei=!0,s=yt,Pn(t.type)?(gu=s,yt=_i(r.firstChild)):yt=s),qt(e,t,t.pendingProps.children,i),Dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&tt&&((s=r=yt)&&(r=Cg(r,t.type,t.pendingProps,Ei),r!==null?(t.stateNode=r,Gt=t,yt=_i(r.firstChild),Ei=!1,s=!0):s=!1),s||Tn(t)),mt(t),s=t.type,d=t.pendingProps,w=e!==null?e.memoizedProps:null,r=d.children,hu(s,d)?r=null:w!==null&&hu(s,w)&&(t.flags|=32),t.memoizedState!==null&&(s=cs(e,t,Vm,null,null,i),Or._currentValue=s),Dl(e,t),qt(e,t,r,i),t.child;case 6:return e===null&&tt&&((e=i=yt)&&(i=Dg(i,t.pendingProps,Ei),i!==null?(t.stateNode=i,Gt=t,yt=null,e=!0):e=!1),e||Tn(t)),null;case 13:return of(e,t,i);case 4:return xt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=na(t,null,r,i):qt(e,t,r,i),t.child;case 11:return Kh(e,t,t.type,t.pendingProps,i);case 7:return qt(e,t,t.pendingProps,i),t.child;case 8:return qt(e,t,t.pendingProps.children,i),t.child;case 12:return qt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,wn(t,t.type,r.value),qt(e,t,r.children,i),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,$n(t),s=Vt(s),r=r(s),t.flags|=1,qt(e,t,r,i),t.child;case 14:return Jh(e,t,t.type,t.pendingProps,i);case 15:return $h(e,t,t.type,t.pendingProps,i);case 19:return uf(e,t,i);case 31:return Qm(e,t,i);case 22:return ef(e,t,i,t.pendingProps);case 24:return $n(t),r=Vt(At),e===null?(s=es(),s===null&&(s=gt,d=Jo(),s.pooledCache=d,d.refCount++,d!==null&&(s.pooledCacheLanes|=i),s=d),t.memoizedState={parent:r,cache:s},is(t),wn(t,At,s)):((e.lanes&i)!==0&&(ns(e,t),fr(t,null,null,i),hr()),s=e.memoizedState,d=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),wn(t,At,r)):(r=d.cache,wn(t,At,r),r!==s.cache&&Ko(t,[At],i,!0))),qt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ln(e){e.flags|=4}function Us(e,t,i,r,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw ia=dl,ts}else e.flags&=-16777217}function hf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rd(t))if(Nf())e.flags|=8192;else throw ia=dl,ts}function Ml(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ir():536870912,e.lanes|=t,La|=t)}function yr(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,r|=s.subtreeFlags&65011712,r|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Jm(e,t,i){var r=t.pendingProps;switch(Yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),tn(At),pt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xa(t)?ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Io())),Tt(t),null;case 26:var s=t.type,d=t.memoizedState;return e===null?(ln(t),d!==null?(Tt(t),hf(t,d)):(Tt(t),Us(t,s,null,r,i))):d?d!==e.memoizedState?(ln(t),Tt(t),hf(t,d)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ln(t),Tt(t),Us(t,s,e,r,i)),null;case 27:if(Zt(t),i=Fe.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ln(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Tt(t),null}e=de.current,xa(t)?qc(t):(e=yd(s,r,i),t.stateNode=e,ln(t))}return Tt(t),null;case 5:if(Zt(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ln(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Tt(t),null}if(d=de.current,xa(t))qc(t);else{var w=Zl(Fe.current);switch(d){case 1:d=w.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:d=w.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":d=w.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":d=w.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":d=w.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?w.createElement("select",{is:r.is}):w.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?w.createElement(s,{is:r.is}):w.createElement(s)}}d[me]=t,d[ge]=r;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)d.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=d;e:switch(kt(d,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ln(t)}}return Tt(t),Us(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ln(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=Fe.current,xa(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,s=Gt,s!==null)switch(s.tag){case 27:case 5:r=s.memoizedProps}e[me]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||od(e.nodeValue,i)),e||Tn(t,!0)}else e=Zl(e).createTextNode(r),e[me]=t,t.stateNode=e}return Tt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=xa(t),i!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[me]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else i=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(oi(t),t):(oi(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Tt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(a(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));s[me]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else s=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(oi(t),t):(oi(t),null)}return oi(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,s=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(s=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==s&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ml(t,t.updateQueue),Tt(t),null);case 4:return pt(),e===null&&lu(t.stateNode.containerInfo),Tt(t),null;case 10:return tn(t.type),Tt(t),null;case 19:if(K(Ct),r=t.memoizedState,r===null)return Tt(t),null;if(s=(t.flags&128)!==0,d=r.rendering,d===null)if(s)yr(r,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=vl(e),d!==null){for(t.flags|=128,yr(r,!1),e=d.updateQueue,t.updateQueue=e,Ml(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Uc(i,e),i=i.sibling;return $(Ct,Ct.current&1|2),tt&&$i(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ee()>Bl&&(t.flags|=128,s=!0,yr(r,!1),t.lanes=4194304)}else{if(!s)if(e=vl(d),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Ml(t,e),yr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!tt)return Tt(t),null}else 2*Ee()-r.renderingStartTime>Bl&&i!==536870912&&(t.flags|=128,s=!0,yr(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ee(),e.sibling=null,i=Ct.current,$(Ct,s?i&1|2:i&1),tt&&$i(t,r.treeForkCount),e):(Tt(t),null);case 22:case 23:return oi(t),os(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),i=t.updateQueue,i!==null&&Ml(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&K(ea),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),tn(At),Tt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function $m(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(At),pt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zt(t),null;case 31:if(t.memoizedState!==null){if(oi(t),t.alternate===null)throw Error(a(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(oi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Ct),null;case 4:return pt(),null;case 10:return tn(t.type),null;case 22:case 23:return oi(t),os(),e!==null&&K(ea),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tn(At),null;case 25:return null;default:return null}}function ff(e,t){switch(Yo(t),t.tag){case 3:tn(At),pt();break;case 26:case 27:case 5:Zt(t);break;case 4:pt();break;case 31:t.memoizedState!==null&&oi(t);break;case 13:oi(t);break;case 19:K(Ct);break;case 10:tn(t.type);break;case 22:case 23:oi(t),os(),e!==null&&K(ea);break;case 24:tn(At)}}function Tr(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){r=void 0;var d=i.create,w=i.inst;r=d(),w.destroy=r}i=i.next}while(i!==s)}}catch(b){ut(t,t.return,b)}}function Rn(e,t,i){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var d=s.next;r=d;do{if((r.tag&e)===e){var w=r.inst,b=w.destroy;if(b!==void 0){w.destroy=void 0,s=t;var O=i,k=b;try{k()}catch(J){ut(s,O,J)}}}r=r.next}while(r!==d)}}catch(J){ut(t,t.return,J)}}function df(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ih(t,i)}catch(r){ut(e,e.return,r)}}}function pf(e,t,i){i.props=ra(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){ut(e,t,r)}}function wr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(s){ut(e,t,s)}}function Vi(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(s){ut(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(s){ut(e,t,s)}else i.current=null}function mf(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(s){ut(e,e.return,s)}}function Fs(e,t,i){try{var r=e.stateNode;Sg(r,e.type,i,t),r[ge]=t}catch(s){ut(e,e.return,s)}}function gf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function js(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gs(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Qi));else if(r!==4&&(r===27&&Pn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Gs(e,t,i),e=e.sibling;e!==null;)Gs(e,t,i),e=e.sibling}function Al(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Pn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Al(e,t,i),e=e.sibling;e!==null;)Al(e,t,i),e=e.sibling}function vf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);kt(t,r,i),t[me]=e,t[ge]=i}catch(d){ut(e,e.return,d)}}var on=!1,Ht=!1,Vs=!1,yf=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function eg(e,t){if(e=e.containerInfo,uu=Jl,e=zc(e),Bo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var s=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var w=0,b=-1,O=-1,k=0,J=0,te=e,Z=null;t:for(;;){for(var X;te!==i||s!==0&&te.nodeType!==3||(b=w+s),te!==d||r!==0&&te.nodeType!==3||(O=w+r),te.nodeType===3&&(w+=te.nodeValue.length),(X=te.firstChild)!==null;)Z=te,te=X;for(;;){if(te===e)break t;if(Z===i&&++k===s&&(b=w),Z===d&&++J===r&&(O=w),(X=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=X}i=b===-1||O===-1?null:{start:b,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(cu={focusedElem:e,selectionRange:i},Jl=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)s=e[i],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,s=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ye=ra(i.type,s);e=r.getSnapshotBeforeUpdate(ye,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(Be){ut(i,i.return,Be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)du(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function Tf(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:un(e,i),r&4&&Tr(5,i);break;case 1:if(un(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(w){ut(i,i.return,w)}else{var s=ra(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){ut(i,i.return,w)}}r&64&&df(i),r&512&&wr(i,i.return);break;case 3:if(un(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ih(e,t)}catch(w){ut(i,i.return,w)}}break;case 27:t===null&&r&4&&vf(i);case 26:case 5:un(e,i),t===null&&r&4&&mf(i),r&512&&wr(i,i.return);break;case 12:un(e,i);break;case 31:un(e,i),r&4&&Ef(e,i);break;case 13:un(e,i),r&4&&xf(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ug.bind(null,i),zg(e,i))));break;case 22:if(r=i.memoizedState!==null||on,!r){t=t!==null&&t.memoizedState!==null||Ht,s=on;var d=Ht;on=r,(Ht=t)&&!d?cn(e,i,(i.subtreeFlags&8772)!==0):un(e,i),on=s,Ht=d}break;case 30:break;default:un(e,i)}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var St=null,Jt=!1;function sn(e,t,i){for(i=i.child;i!==null;)Sf(e,t,i),i=i.sibling}function Sf(e,t,i){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(W,i)}catch{}switch(i.tag){case 26:Ht||Vi(i,t),sn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ht||Vi(i,t);var r=St,s=Jt;Pn(i.type)&&(St=i.stateNode,Jt=!1),sn(e,t,i),zr(i.stateNode),St=r,Jt=s;break;case 5:Ht||Vi(i,t);case 6:if(r=St,s=Jt,St=null,sn(e,t,i),St=r,Jt=s,St!==null)if(Jt)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(i.stateNode)}catch(d){ut(i,t,d)}else try{St.removeChild(i.stateNode)}catch(d){ut(i,t,d)}break;case 18:St!==null&&(Jt?(e=St,dd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ka(e)):dd(St,i.stateNode));break;case 4:r=St,s=Jt,St=i.stateNode.containerInfo,Jt=!0,sn(e,t,i),St=r,Jt=s;break;case 0:case 11:case 14:case 15:Rn(2,i,t),Ht||Rn(4,i,t),sn(e,t,i);break;case 1:Ht||(Vi(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&pf(i,t,r)),sn(e,t,i);break;case 21:sn(e,t,i);break;case 22:Ht=(r=Ht)||i.memoizedState!==null,sn(e,t,i),Ht=r;break;default:sn(e,t,i)}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(i){ut(t,t.return,i)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(i){ut(t,t.return,i)}}function tg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yf),t;default:throw Error(a(435,e.tag))}}function Ol(e,t){var i=tg(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var s=cg.bind(null,e,r);r.then(s,s)}})}function $t(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var s=i[r],d=e,w=t,b=w;e:for(;b!==null;){switch(b.tag){case 27:if(Pn(b.type)){St=b.stateNode,Jt=!1;break e}break;case 5:St=b.stateNode,Jt=!1;break e;case 3:case 4:St=b.stateNode.containerInfo,Jt=!0;break e}b=b.return}if(St===null)throw Error(a(160));Sf(d,w,s),St=null,Jt=!1,d=s.alternate,d!==null&&(d.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}var Oi=null;function _f(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),ei(e),r&4&&(Rn(3,e,e.return),Tr(3,e),Rn(5,e,e.return));break;case 1:$t(t,e),ei(e),r&512&&(Ht||i===null||Vi(i,i.return)),r&64&&on&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var s=Oi;if($t(t,e),ei(e),r&512&&(Ht||i===null||Vi(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":d=s.getElementsByTagName("title")[0],(!d||d[rt]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=s.createElement(r),s.head.insertBefore(d,s.querySelector("head > title"))),kt(d,r,i),d[me]=e,wt(d),r=d;break e;case"link":var w=_d("link","href",s).get(r+(i.href||""));if(w){for(var b=0;b<w.length;b++)if(d=w[b],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(b,1);break t}}d=s.createElement(r),kt(d,r,i),s.head.appendChild(d);break;case"meta":if(w=_d("meta","content",s).get(r+(i.content||""))){for(b=0;b<w.length;b++)if(d=w[b],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(b,1);break t}}d=s.createElement(r),kt(d,r,i),s.head.appendChild(d);break;default:throw Error(a(468,r))}d[me]=e,wt(d),r=d}e.stateNode=r}else bd(s,e.type,e.stateNode);else e.stateNode=xd(s,r,e.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?bd(s,e.type,e.stateNode):xd(s,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Fs(e,e.memoizedProps,i.memoizedProps)}break;case 27:$t(t,e),ei(e),r&512&&(Ht||i===null||Vi(i,i.return)),i!==null&&r&4&&Fs(e,e.memoizedProps,i.memoizedProps);break;case 5:if($t(t,e),ei(e),r&512&&(Ht||i===null||Vi(i,i.return)),e.flags&32){s=e.stateNode;try{da(s,"")}catch(ye){ut(e,e.return,ye)}}r&4&&e.stateNode!=null&&(s=e.memoizedProps,Fs(e,s,i!==null?i.memoizedProps:s)),r&1024&&(Vs=!0);break;case 6:if($t(t,e),ei(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(ye){ut(e,e.return,ye)}}break;case 3:if(Il=null,s=Oi,Oi=Yl(t.containerInfo),$t(t,e),Oi=s,ei(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ka(t.containerInfo)}catch(ye){ut(e,e.return,ye)}Vs&&(Vs=!1,bf(e));break;case 4:r=Oi,Oi=Yl(e.stateNode.containerInfo),$t(t,e),ei(e),Oi=r;break;case 12:$t(t,e),ei(e);break;case 31:$t(t,e),ei(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 13:$t(t,e),ei(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Hl=Ee()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 22:s=e.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,k=on,J=Ht;if(on=k||s,Ht=J||O,$t(t,e),Ht=J,on=k,ei(e),r&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(i===null||O||on||Ht||la(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){O=i=t;try{if(d=O.stateNode,s)w=d.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,Z=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ye){ut(O,O.return,ye)}}}else if(t.tag===6){if(i===null){O=t;try{O.stateNode.nodeValue=s?"":O.memoizedProps}catch(ye){ut(O,O.return,ye)}}}else if(t.tag===18){if(i===null){O=t;try{var X=O.stateNode;s?pd(X,!0):pd(O.stateNode,!1)}catch(ye){ut(O,O.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Ol(e,i))));break;case 19:$t(t,e),ei(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ol(e,r)));break;case 30:break;case 21:break;default:$t(t,e),ei(e)}}function ei(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(gf(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var s=i.stateNode,d=js(e);Al(e,d,s);break;case 5:var w=i.stateNode;i.flags&32&&(da(w,""),i.flags&=-33);var b=js(e);Al(e,b,w);break;case 3:case 4:var O=i.stateNode.containerInfo,k=js(e);Gs(e,k,O);break;default:throw Error(a(161))}}catch(J){ut(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tf(e,t.alternate,t),t=t.sibling}function la(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rn(4,t,t.return),la(t);break;case 1:Vi(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&pf(t,t.return,i),la(t);break;case 27:zr(t.stateNode);case 26:case 5:Vi(t,t.return),la(t);break;case 22:t.memoizedState===null&&la(t);break;case 30:la(t);break;default:la(t)}e=e.sibling}}function cn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,s=e,d=t,w=d.flags;switch(d.tag){case 0:case 11:case 15:cn(s,d,i),Tr(4,d);break;case 1:if(cn(s,d,i),r=d,s=r.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(k){ut(r,r.return,k)}if(r=d,s=r.updateQueue,s!==null){var b=r.stateNode;try{var O=s.shared.hiddenCallbacks;if(O!==null)for(s.shared.hiddenCallbacks=null,s=0;s<O.length;s++)th(O[s],b)}catch(k){ut(r,r.return,k)}}i&&w&64&&df(d),wr(d,d.return);break;case 27:vf(d);case 26:case 5:cn(s,d,i),i&&r===null&&w&4&&mf(d),wr(d,d.return);break;case 12:cn(s,d,i);break;case 31:cn(s,d,i),i&&w&4&&Ef(s,d);break;case 13:cn(s,d,i),i&&w&4&&xf(s,d);break;case 22:d.memoizedState===null&&cn(s,d,i),wr(d,d.return);break;case 30:break;default:cn(s,d,i)}t=t.sibling}}function qs(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&lr(i))}function ks(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function Pi(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rf(e,t,i,r),t=t.sibling}function Rf(e,t,i,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Pi(e,t,i,r),s&2048&&Tr(9,t);break;case 1:Pi(e,t,i,r);break;case 3:Pi(e,t,i,r),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(s&2048){Pi(e,t,i,r),e=t.stateNode;try{var d=t.memoizedProps,w=d.id,b=d.onPostCommit;typeof b=="function"&&b(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){ut(t,t.return,O)}}else Pi(e,t,i,r);break;case 31:Pi(e,t,i,r);break;case 13:Pi(e,t,i,r);break;case 23:break;case 22:d=t.stateNode,w=t.alternate,t.memoizedState!==null?d._visibility&2?Pi(e,t,i,r):Sr(e,t):d._visibility&2?Pi(e,t,i,r):(d._visibility|=2,Pa(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),s&2048&&qs(w,t);break;case 24:Pi(e,t,i,r),s&2048&&ks(t.alternate,t);break;default:Pi(e,t,i,r)}}function Pa(e,t,i,r,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,w=t,b=i,O=r,k=w.flags;switch(w.tag){case 0:case 11:case 15:Pa(d,w,b,O,s),Tr(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&2?Pa(d,w,b,O,s):Sr(d,w):(J._visibility|=2,Pa(d,w,b,O,s)),s&&k&2048&&qs(w.alternate,w);break;case 24:Pa(d,w,b,O,s),s&&k&2048&&ks(w.alternate,w);break;default:Pa(d,w,b,O,s)}t=t.sibling}}function Sr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,s=r.flags;switch(r.tag){case 22:Sr(i,r),s&2048&&qs(r.alternate,r);break;case 24:Sr(i,r),s&2048&&ks(r.alternate,r);break;default:Sr(i,r)}t=t.sibling}}var Er=8192;function Ha(e,t,i){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Cf(e,t,i),e=e.sibling}function Cf(e,t,i){switch(e.tag){case 26:Ha(e,t,i),e.flags&Er&&e.memoizedState!==null&&Gg(i,Oi,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,i);break;case 3:case 4:var r=Oi;Oi=Yl(e.stateNode.containerInfo),Ha(e,t,i),Oi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Er,Er=16777216,Ha(e,t,i),Er=r):Ha(e,t,i));break;default:Ha(e,t,i)}}function Df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ft=r,Mf(r,e)}Df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zf(e),e=e.sibling}function zf(e){switch(e.tag){case 0:case 11:case 15:xr(e),e.flags&2048&&Rn(9,e,e.return);break;case 3:xr(e);break;case 12:xr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pl(e)):xr(e);break;default:xr(e)}}function Pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Ft=r,Mf(r,e)}Df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rn(8,t,t.return),Pl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Pl(t));break;default:Pl(t)}e=e.sibling}}function Mf(e,t){for(;Ft!==null;){var i=Ft;switch(i.tag){case 0:case 11:case 15:Rn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:lr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ft=r;else e:for(i=e;Ft!==null;){r=Ft;var s=r.sibling,d=r.return;if(wf(r),r===i){Ft=null;break e}if(s!==null){s.return=d,Ft=s;break e}Ft=d}}}var ig={getCacheForType:function(e){var t=Vt(At),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Vt(At).controller.signal}},ng=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,We=null,$e=0,st=0,si=null,Cn=!1,Ba=!1,Zs=!1,hn=0,bt=0,Dn=0,oa=0,Ys=0,ui=0,La=0,_r=null,ti=null,Xs=!1,Hl=0,Af=0,Bl=1/0,Ll=null,zn=null,Nt=0,Mn=null,Na=null,fn=0,Is=0,Ws=null,Of=null,br=0,Qs=null;function ci(){return(lt&2)!==0&&$e!==0?$e&-$e:j.T!==null?iu():Se()}function Pf(){if(ui===0)if(($e&536870912)===0||tt){var e=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),ui=e}else ui=536870912;return e=li.current,e!==null&&(e.flags|=32),ui}function ii(e,t,i){(e===gt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),An(e,$e,ui,!1)),P(e,i),((lt&2)===0||e!==gt)&&(e===gt&&((lt&2)===0&&(oa|=i),bt===4&&An(e,$e,ui,!1)),qi(e))}function Hf(e,t,i){if((lt&6)!==0)throw Error(a(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Li(e,t),s=r?lg(e,t):Js(e,t,!0),d=r;do{if(s===0){Ba&&!r&&An(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!ag(i)){s=Js(e,t,!1),d=!1;continue}if(s===2){if(d=t,e.errorRecoveryDisabledLanes&d)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var b=e;s=_r;var O=b.current.memoizedState.isDehydrated;if(O&&(Ua(b,w).flags|=256),w=Js(b,w,!1),w!==2){if(Zs&&!O){b.errorRecoveryDisabledLanes|=d,oa|=d,s=4;break e}d=ti,ti=s,d!==null&&(ti===null?ti=d:ti.push.apply(ti,d))}s=w}if(d=!1,s!==2)continue}}if(s===1){Ua(e,0),An(e,t,0,!0);break}e:{switch(r=e,d=s,d){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:An(r,t,ui,!Cn);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(s=Hl+300-Ee(),10<s)){if(An(r,t,ui,!Cn),qn(r,0,!0)!==0)break e;fn=t,r.timeoutHandle=hd(Bf.bind(null,r,i,ti,Ll,Xs,t,ui,oa,La,Cn,d,"Throttled",-0,0),s);break e}Bf(r,i,ti,Ll,Xs,t,ui,oa,La,Cn,d,null,-0,0)}}break}while(!0);qi(e)}function Bf(e,t,i,r,s,d,w,b,O,k,J,te,Z,X){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},Cf(t,d,te);var ye=(d&62914560)===d?Hl-Ee():(d&4194048)===d?Af-Ee():0;if(ye=Vg(te,ye),ye!==null){fn=d,e.cancelPendingCommit=ye(qf.bind(null,e,t,d,i,r,s,w,b,O,J,te,null,Z,X)),An(e,d,w,!k);return}}qf(e,t,d,i,r,s,w,b,O)}function ag(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var s=i[r],d=s.getSnapshot;s=s.value;try{if(!ai(d(),s))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t,i,r){t&=~Ys,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var d=31-je(s),w=1<<d;r[d]=-1,s&=~w}i!==0&&Y(e,i,t)}function Nl(){return(lt&6)===0?(Rr(0),!1):!0}function Ks(){if(We!==null){if(st===0)var e=We.return;else e=We,en=Jn=null,ds(e),Da=null,sr=0,e=We;for(;e!==null;)ff(e.alternate,e),e=e.return;We=null}}function Ua(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,_g(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),fn=0,Ks(),gt=e,We=i=Ji(e.current,null),$e=t,st=0,si=null,Cn=!1,Ba=Li(e,t),Zs=!1,La=ui=Ys=oa=Dn=bt=0,ti=_r=null,Xs=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var s=31-je(r),d=1<<s;t|=e[s],r&=~d}return hn=t,al(),i}function Lf(e,t){qe=null,j.H=gr,t===Ca||t===fl?(t=Kc(),st=3):t===ts?(t=Kc(),st=4):st=t===zs?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,si=t,We===null&&(bt=1,Rl(e,Ti(t,e.current)))}function Nf(){var e=li.current;return e===null?!0:($e&4194048)===$e?xi===null:($e&62914560)===$e||($e&536870912)!==0?e===xi:!1}function Uf(){var e=j.H;return j.H=gr,e===null?gr:e}function Ff(){var e=j.A;return j.A=ig,e}function Ul(){bt=4,Cn||($e&4194048)!==$e&&li.current!==null||(Ba=!0),(Dn&134217727)===0&&(oa&134217727)===0||gt===null||An(gt,$e,ui,!1)}function Js(e,t,i){var r=lt;lt|=2;var s=Uf(),d=Ff();(gt!==e||$e!==t)&&(Ll=null,Ua(e,t)),t=!1;var w=bt;e:do try{if(st!==0&&We!==null){var b=We,O=si;switch(st){case 8:Ks(),w=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(t=!0);var k=st;if(st=0,si=null,Fa(e,b,O,k),i&&Ba){w=0;break e}break;default:k=st,st=0,si=null,Fa(e,b,O,k)}}rg(),w=bt;break}catch(J){Lf(e,J)}while(!0);return t&&e.shellSuspendCounter++,en=Jn=null,lt=r,j.H=s,j.A=d,We===null&&(gt=null,$e=0,al()),w}function rg(){for(;We!==null;)jf(We)}function lg(e,t){var i=lt;lt|=2;var r=Uf(),s=Ff();gt!==e||$e!==t?(Ll=null,Bl=Ee()+500,Ua(e,t)):Ba=Li(e,t);e:do try{if(st!==0&&We!==null){t=We;var d=si;t:switch(st){case 1:st=0,si=null,Fa(e,t,d,1);break;case 2:case 9:if(Wc(d)){st=0,si=null,Gf(t);break}t=function(){st!==2&&st!==9||gt!==e||(st=7),qi(e)},d.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Wc(d)?(st=0,si=null,Gf(t)):(st=0,si=null,Fa(e,t,d,7));break;case 5:var w=null;switch(We.tag){case 26:w=We.memoizedState;case 5:case 27:var b=We;if(w?Rd(w):b.stateNode.complete){st=0,si=null;var O=b.sibling;if(O!==null)We=O;else{var k=b.return;k!==null?(We=k,Fl(k)):We=null}break t}}st=0,si=null,Fa(e,t,d,5);break;case 6:st=0,si=null,Fa(e,t,d,6);break;case 8:Ks(),bt=6;break e;default:throw Error(a(462))}}og();break}catch(J){Lf(e,J)}while(!0);return en=Jn=null,j.H=r,j.A=s,lt=i,We!==null?0:(gt=null,$e=0,al(),bt)}function og(){for(;We!==null&&!ve();)jf(We)}function jf(e){var t=cf(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?Fl(e):We=t}function Gf(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=af(i,t,t.pendingProps,t.type,void 0,$e);break;case 11:t=af(i,t,t.pendingProps,t.type.render,t.ref,$e);break;case 5:ds(t);default:ff(i,t),t=We=Uc(t,hn),t=cf(i,t,hn)}e.memoizedProps=e.pendingProps,t===null?Fl(e):We=t}function Fa(e,t,i,r){en=Jn=null,ds(t),Da=null,sr=0;var s=t.return;try{if(Wm(e,s,t,i,$e)){bt=1,Rl(e,Ti(i,e.current)),We=null;return}}catch(d){if(s!==null)throw We=s,d;bt=1,Rl(e,Ti(i,e.current)),We=null;return}t.flags&32768?(tt||r===1?e=!0:Ba||($e&536870912)!==0?e=!1:(Cn=e=!0,(r===2||r===9||r===3||r===6)&&(r=li.current,r!==null&&r.tag===13&&(r.flags|=16384))),Vf(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){Vf(t,Cn);return}e=t.return;var i=Jm(t.alternate,t,hn);if(i!==null){We=i;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);bt===0&&(bt=5)}function Vf(e,t){do{var i=$m(e.alternate,e);if(i!==null){i.flags&=32767,We=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){We=e;return}We=e=i}while(e!==null);bt=6,We=null}function qf(e,t,i,r,s,d,w,b,O){e.cancelPendingCommit=null;do jl();while(Nt!==0);if((lt&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(d=t.lanes|t.childLanes,d|=jo,G(e,i,d,w,b,O),e===gt&&(We=gt=null,$e=0),Na=t,Mn=e,fn=i,Is=d,Ws=s,Of=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hg(ot,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=j.T,j.T=null,s=le.p,le.p=2,w=lt,lt|=4;try{eg(e,t,i)}finally{lt=w,le.p=s,j.T=r}}Nt=1,kf(),Zf(),Yf()}}function kf(){if(Nt===1){Nt=0;var e=Mn,t=Na,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var r=le.p;le.p=2;var s=lt;lt|=4;try{_f(t,e);var d=cu,w=zc(e.containerInfo),b=d.focusedElem,O=d.selectionRange;if(w!==b&&b&&b.ownerDocument&&Dc(b.ownerDocument.documentElement,b)){if(O!==null&&Bo(b)){var k=O.start,J=O.end;if(J===void 0&&(J=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(J,b.value.length);else{var te=b.ownerDocument||document,Z=te&&te.defaultView||window;if(Z.getSelection){var X=Z.getSelection(),ye=b.textContent.length,Be=Math.min(O.start,ye),dt=O.end===void 0?Be:Math.min(O.end,ye);!X.extend&&Be>dt&&(w=dt,dt=Be,Be=w);var F=Cc(b,Be),L=Cc(b,dt);if(F&&L&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var q=te.createRange();q.setStart(F.node,F.offset),X.removeAllRanges(),Be>dt?(X.addRange(q),X.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),X.addRange(q))}}}}for(te=[],X=b;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Jl=!!uu,cu=uu=null}finally{lt=s,le.p=r,j.T=i}}e.current=t,Nt=2}}function Zf(){if(Nt===2){Nt=0;var e=Mn,t=Na,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var r=le.p;le.p=2;var s=lt;lt|=4;try{Tf(e,t.alternate,t)}finally{lt=s,le.p=r,j.T=i}}Nt=3}}function Yf(){if(Nt===4||Nt===3){Nt=0,ie();var e=Mn,t=Na,i=fn,r=Of;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Na=Mn=null,Xf(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(zn=null),be(i),t=t.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(W,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=j.T,s=le.p,le.p=2,j.T=null;try{for(var d=e.onRecoverableError,w=0;w<r.length;w++){var b=r[w];d(b.value,{componentStack:b.stack})}}finally{j.T=t,le.p=s}}(fn&3)!==0&&jl(),qi(e),s=e.pendingLanes,(i&261930)!==0&&(s&42)!==0?e===Qs?br++:(br=0,Qs=e):br=0,Rr(0)}}function Xf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function jl(){return kf(),Zf(),Yf(),If()}function If(){if(Nt!==5)return!1;var e=Mn,t=Is;Is=0;var i=be(fn),r=j.T,s=le.p;try{le.p=32>i?32:i,j.T=null,i=Ws,Ws=null;var d=Mn,w=fn;if(Nt=0,Na=Mn=null,fn=0,(lt&6)!==0)throw Error(a(331));var b=lt;if(lt|=4,zf(d.current),Rf(d,d.current,w,i),lt=b,Rr(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(W,d)}catch{}return!0}finally{le.p=s,j.T=r,Xf(e,t)}}function Wf(e,t,i){t=Ti(i,t),t=Ds(e.stateNode,t,2),e=xn(e,t,2),e!==null&&(P(e,2),qi(e))}function ut(e,t,i){if(e.tag===3)Wf(e,e,i);else for(;t!==null;){if(t.tag===3){Wf(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){e=Ti(i,e),i=Wh(2),r=xn(t,i,2),r!==null&&(Qh(i,r,t,e),P(r,2),qi(r));break}}t=t.return}}function $s(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new ng;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(i)||(Zs=!0,s.add(i),e=sg.bind(null,e,t,i),t.then(e,e))}function sg(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,gt===e&&($e&i)===i&&(bt===4||bt===3&&($e&62914560)===$e&&300>Ee()-Hl?(lt&2)===0&&Ua(e,0):Ys|=i,La===$e&&(La=0)),qi(e)}function Qf(e,t){t===0&&(t=Ir()),e=Wn(e,t),e!==null&&(P(e,t),qi(e))}function ug(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qf(e,i)}function cg(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Qf(e,i)}function hg(e,t){return re(e,t)}var Gl=null,ja=null,eu=!1,Vl=!1,tu=!1,On=0;function qi(e){e!==ja&&e.next===null&&(ja===null?Gl=ja=e:ja=ja.next=e),Vl=!0,eu||(eu=!0,dg())}function Rr(e,t){if(!tu&&Vl){tu=!0;do for(var i=!1,r=Gl;r!==null;){if(e!==0){var s=r.pendingLanes;if(s===0)var d=0;else{var w=r.suspendedLanes,b=r.pingedLanes;d=(1<<31-je(42|e)+1)-1,d&=s&~(w&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,ed(r,d))}else d=$e,d=qn(r,r===gt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Li(r,d)||(i=!0,ed(r,d));r=r.next}while(i);tu=!1}}function fg(){Kf()}function Kf(){Vl=eu=!1;var e=0;On!==0&&xg()&&(e=On);for(var t=Ee(),i=null,r=Gl;r!==null;){var s=r.next,d=Jf(r,t);d===0?(r.next=null,i===null?Gl=s:i.next=s,s===null&&(ja=i)):(i=r,(e!==0||(d&3)!==0)&&(Vl=!0)),r=s}Nt!==0&&Nt!==5||Rr(e),On!==0&&(On=0)}function Jf(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var w=31-je(d),b=1<<w,O=s[w];O===-1?((b&i)===0||(b&r)!==0)&&(s[w]=ha(b,t)):O<=t&&(e.expiredLanes|=b),d&=~b}if(t=gt,i=$e,i=qn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ue(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Li(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&ue(r),be(i)){case 2:case 8:i=Ce;break;case 32:i=ot;break;case 268435456:i=S;break;default:i=ot}return r=$f.bind(null,e),i=re(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&ue(r),e.callbackPriority=2,e.callbackNode=null,2}function $f(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(jl()&&e.callbackNode!==i)return null;var r=$e;return r=qn(e,e===gt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hf(e,r,t),Jf(e,Ee()),e.callbackNode!=null&&e.callbackNode===i?$f.bind(null,e):null)}function ed(e,t){if(jl())return null;Hf(e,t,!0)}function dg(){bg(function(){(lt&6)!==0?re(Ie,fg):Kf()})}function iu(){if(On===0){var e=ba;e===0&&(e=It,It<<=1,(It&261888)===0&&(It=256)),On=e}return On}function td(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function id(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function pg(e,t,i,r,s){if(t==="submit"&&i&&i.stateNode===s){var d=td((s[ge]||null).action),w=r.submitter;w&&(t=(t=w[ge]||null)?td(t.formAction):w.getAttribute("formAction"),t!==null&&(d=t,w=null));var b=new el("action","action",null,r,s);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(On!==0){var O=w?id(s,w):new FormData(s);Es(i,{pending:!0,data:O,method:s.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=w?id(s,w):new FormData(s),Es(i,{pending:!0,data:O,method:s.method,action:d},d,O))},currentTarget:s}]})}}for(var nu=0;nu<Fo.length;nu++){var au=Fo[nu],mg=au.toLowerCase(),gg=au[0].toUpperCase()+au.slice(1);Ai(mg,"on"+gg)}Ai(Oc,"onAnimationEnd"),Ai(Pc,"onAnimationIteration"),Ai(Hc,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Om,"onTransitionRun"),Ai(Pm,"onTransitionStart"),Ai(Hm,"onTransitionCancel"),Ai(Bc,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cr));function nd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],s=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var w=r.length-1;0<=w;w--){var b=r[w],O=b.instance,k=b.currentTarget;if(b=b.listener,O!==d&&s.isPropagationStopped())break e;d=b,s.currentTarget=k;try{d(s)}catch(J){nl(J)}s.currentTarget=null,d=O}else for(w=0;w<r.length;w++){if(b=r[w],O=b.instance,k=b.currentTarget,b=b.listener,O!==d&&s.isPropagationStopped())break e;d=b,s.currentTarget=k;try{d(s)}catch(J){nl(J)}s.currentTarget=null,d=O}}}}function Qe(e,t){var i=t[ct];i===void 0&&(i=t[ct]=new Set);var r=e+"__bubble";i.has(r)||(ad(t,e,2,!1),i.add(r))}function ru(e,t,i){var r=0;t&&(r|=4),ad(i,e,r,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[ql]){e[ql]=!0,Ui.forEach(function(i){i!=="selectionchange"&&(vg.has(i)||ru(i,!1,e),ru(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,ru("selectionchange",!1,t))}}function ad(e,t,i,r){switch(Pd(t)){case 2:var s=Zg;break;case 8:s=Yg;break;default:s=Su}i=s.bind(null,t,i,e),s=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function ou(e,t,i,r,s){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var w=r.tag;if(w===3||w===4){var b=r.stateNode.containerInfo;if(b===s)break;if(w===4)for(w=r.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===s)return;w=w.return}for(;b!==null;){if(w=pi(b),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){r=d=w;continue e}b=b.parentNode}}r=r.return}sc(function(){var k=d,J=_o(i),te=[];e:{var Z=Lc.get(e);if(Z!==void 0){var X=el,ye=e;switch(e){case"keypress":if(Jr(i)===0)break e;case"keydown":case"keyup":X=cm;break;case"focusin":ye="focus",X=Mo;break;case"focusout":ye="blur",X=Mo;break;case"beforeblur":case"afterblur":X=Mo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=dm;break;case Oc:case Pc:case Hc:X=tm;break;case Bc:X=mm;break;case"scroll":case"scrollend":X=Qp;break;case"wheel":X=vm;break;case"copy":case"cut":case"paste":X=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=dc;break;case"toggle":case"beforetoggle":X=Tm}var Be=(t&4)!==0,dt=!Be&&(e==="scroll"||e==="scrollend"),F=Be?Z!==null?Z+"Capture":null:Z;Be=[];for(var L=k,q;L!==null;){var ee=L;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||F===null||(ee=Wa(L,F),ee!=null&&Be.push(Dr(L,ee,q))),dt)break;L=L.return}0<Be.length&&(Z=new X(Z,ye,null,i,J),te.push({event:Z,listeners:Be}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Z&&i!==xo&&(ye=i.relatedTarget||i.fromElement)&&(pi(ye)||ye[Ze]))break e;if((X||Z)&&(Z=J.window===J?J:(Z=J.ownerDocument)?Z.defaultView||Z.parentWindow:window,X?(ye=i.relatedTarget||i.toElement,X=k,ye=ye?pi(ye):null,ye!==null&&(dt=l(ye),Be=ye.tag,ye!==dt||Be!==5&&Be!==27&&Be!==6)&&(ye=null)):(X=null,ye=k),X!==ye)){if(Be=hc,ee="onMouseLeave",F="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Be=dc,ee="onPointerLeave",F="onPointerEnter",L="pointer"),dt=X==null?Z:Yt(X),q=ye==null?Z:Yt(ye),Z=new Be(ee,L+"leave",X,i,J),Z.target=dt,Z.relatedTarget=q,ee=null,pi(J)===k&&(Be=new Be(F,L+"enter",ye,i,J),Be.target=q,Be.relatedTarget=dt,ee=Be),dt=ee,X&&ye)t:{for(Be=yg,F=X,L=ye,q=0,ee=F;ee;ee=Be(ee))q++;ee=0;for(var Ae=L;Ae;Ae=Be(Ae))ee++;for(;0<q-ee;)F=Be(F),q--;for(;0<ee-q;)L=Be(L),ee--;for(;q--;){if(F===L||L!==null&&F===L.alternate){Be=F;break t}F=Be(F),L=Be(L)}Be=null}else Be=null;X!==null&&rd(te,Z,X,Be,!1),ye!==null&&dt!==null&&rd(te,dt,ye,Be,!0)}}e:{if(Z=k?Yt(k):window,X=Z.nodeName&&Z.nodeName.toLowerCase(),X==="select"||X==="input"&&Z.type==="file")var nt=Sc;else if(Tc(Z))if(Ec)nt=zm;else{nt=Cm;var xe=Rm}else X=Z.nodeName,!X||X.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?k&&Eo(k.elementType)&&(nt=Sc):nt=Dm;if(nt&&(nt=nt(e,k))){wc(te,nt,i,J);break e}xe&&xe(e,Z,k),e==="focusout"&&k&&Z.type==="number"&&k.memoizedProps.value!=null&&So(Z,"number",Z.value)}switch(xe=k?Yt(k):window,e){case"focusin":(Tc(xe)||xe.contentEditable==="true")&&(va=xe,Lo=k,nr=null);break;case"focusout":nr=Lo=va=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Mc(te,i,J);break;case"selectionchange":if(Am)break;case"keydown":case"keyup":Mc(te,i,J)}var ke;if(Oo)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else ga?vc(e,i)&&(et="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(et="onCompositionStart");et&&(pc&&i.locale!=="ko"&&(ga||et!=="onCompositionStart"?et==="onCompositionEnd"&&ga&&(ke=uc()):(gn=J,Co="value"in gn?gn.value:gn.textContent,ga=!0)),xe=kl(k,et),0<xe.length&&(et=new fc(et,e,null,i,J),te.push({event:et,listeners:xe}),ke?et.data=ke:(ke=yc(i),ke!==null&&(et.data=ke)))),(ke=Sm?Em(e,i):xm(e,i))&&(et=kl(k,"onBeforeInput"),0<et.length&&(xe=new fc("onBeforeInput","beforeinput",null,i,J),te.push({event:xe,listeners:et}),xe.data=ke)),pg(te,e,k,i,J)}nd(te,t)})}function Dr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function kl(e,t){for(var i=t+"Capture",r=[];e!==null;){var s=e,d=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||d===null||(s=Wa(e,i),s!=null&&r.unshift(Dr(e,s,d)),s=Wa(e,t),s!=null&&r.push(Dr(e,s,d))),e.tag===3)return r;e=e.return}return[]}function yg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rd(e,t,i,r,s){for(var d=t._reactName,w=[];i!==null&&i!==r;){var b=i,O=b.alternate,k=b.stateNode;if(b=b.tag,O!==null&&O===r)break;b!==5&&b!==26&&b!==27||k===null||(O=k,s?(k=Wa(i,d),k!=null&&w.unshift(Dr(i,k,O))):s||(k=Wa(i,d),k!=null&&w.push(Dr(i,k,O)))),i=i.return}w.length!==0&&e.push({event:t,listeners:w})}var Tg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(Tg,`
`).replace(wg,"")}function od(e,t){return t=ld(t),ld(e)===t}function ft(e,t,i,r,s,d){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||da(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&da(e,""+r);break;case"className":Zn(e,"class",r);break;case"tabIndex":Zn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(e,i,r);break;case"style":lc(e,r,d);break;case"data":if(t!=="object"){Zn(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Qr(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&ft(e,t,"name",s.name,s,null),ft(e,t,"formEncType",s.formEncType,s,null),ft(e,t,"formMethod",s.formMethod,s,null),ft(e,t,"formTarget",s.formTarget,s,null)):(ft(e,t,"encType",s.encType,s,null),ft(e,t,"method",s.method,s,null),ft(e,t,"target",s.target,s,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Qr(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Qi);break;case"onScroll":r!=null&&Qe("scroll",e);break;case"onScrollEnd":r!=null&&Qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(s.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Qr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Qe("beforetoggle",e),Qe("toggle",e),Wi(e,"popover",r);break;case"xlinkActuate":Mi(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Mi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Mi(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Mi(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Mi(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Mi(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Mi(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Mi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Mi(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Wi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ip.get(i)||i,Wi(e,i,r))}}function su(e,t,i,r,s,d){switch(i){case"style":lc(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(s.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?da(e,r):(typeof r=="number"||typeof r=="bigint")&&da(e,""+r);break;case"onScroll":r!=null&&Qe("scroll",e);break;case"onScrollEnd":r!=null&&Qe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(s=i.endsWith("Capture"),t=i.slice(2,s?i.length-7:void 0),d=e[ge]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,s),typeof r=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,s);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Wi(e,i,r)}}}function kt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",e),Qe("load",e);var r=!1,s=!1,d;for(d in i)if(i.hasOwnProperty(d)){var w=i[d];if(w!=null)switch(d){case"src":r=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ft(e,t,d,w,i,null)}}s&&ft(e,t,"srcSet",i.srcSet,i,null),r&&ft(e,t,"src",i.src,i,null);return;case"input":Qe("invalid",e);var b=d=w=s=null,O=null,k=null;for(r in i)if(i.hasOwnProperty(r)){var J=i[r];if(J!=null)switch(r){case"name":s=J;break;case"type":w=J;break;case"checked":O=J;break;case"defaultChecked":k=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,t));break;default:ft(e,t,r,J,i,null)}}ic(e,d,b,O,k,w,s,!1);return;case"select":Qe("invalid",e),r=w=d=null;for(s in i)if(i.hasOwnProperty(s)&&(b=i[s],b!=null))switch(s){case"value":d=b;break;case"defaultValue":w=b;break;case"multiple":r=b;default:ft(e,t,s,b,i,null)}t=d,i=w,e.multiple=!!r,t!=null?fa(e,!!r,t,!1):i!=null&&fa(e,!!r,i,!0);return;case"textarea":Qe("invalid",e),d=s=r=null;for(w in i)if(i.hasOwnProperty(w)&&(b=i[w],b!=null))switch(w){case"value":r=b;break;case"defaultValue":s=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ft(e,t,w,b,i,null)}ac(e,r,s,d);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(r=i[O],r!=null))switch(O){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ft(e,t,O,r,i,null)}return;case"dialog":Qe("beforetoggle",e),Qe("toggle",e),Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":Qe("load",e);break;case"video":case"audio":for(r=0;r<Cr.length;r++)Qe(Cr[r],e);break;case"image":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"embed":case"source":case"link":Qe("error",e),Qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in i)if(i.hasOwnProperty(k)&&(r=i[k],r!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ft(e,t,k,r,i,null)}return;default:if(Eo(t)){for(J in i)i.hasOwnProperty(J)&&(r=i[J],r!==void 0&&su(e,t,J,r,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(r=i[b],r!=null&&ft(e,t,b,r,i,null))}function Sg(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,d=null,w=null,b=null,O=null,k=null,J=null;for(X in i){var te=i[X];if(i.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=te;default:r.hasOwnProperty(X)||ft(e,t,X,null,r,te)}}for(var Z in r){var X=r[Z];if(te=i[Z],r.hasOwnProperty(Z)&&(X!=null||te!=null))switch(Z){case"type":d=X;break;case"name":s=X;break;case"checked":k=X;break;case"defaultChecked":J=X;break;case"value":w=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,t));break;default:X!==te&&ft(e,t,Z,X,r,te)}}wo(e,w,b,O,k,J,d,s);return;case"select":X=w=b=Z=null;for(d in i)if(O=i[d],i.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":X=O;default:r.hasOwnProperty(d)||ft(e,t,d,null,r,O)}for(s in r)if(d=r[s],O=i[s],r.hasOwnProperty(s)&&(d!=null||O!=null))switch(s){case"value":Z=d;break;case"defaultValue":b=d;break;case"multiple":w=d;default:d!==O&&ft(e,t,s,d,r,O)}t=b,i=w,r=X,Z!=null?fa(e,!!i,Z,!1):!!r!=!!i&&(t!=null?fa(e,!!i,t,!0):fa(e,!!i,i?[]:"",!1));return;case"textarea":X=Z=null;for(b in i)if(s=i[b],i.hasOwnProperty(b)&&s!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ft(e,t,b,null,r,s)}for(w in r)if(s=r[w],d=i[w],r.hasOwnProperty(w)&&(s!=null||d!=null))switch(w){case"value":Z=s;break;case"defaultValue":X=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(a(91));break;default:s!==d&&ft(e,t,w,s,r,d)}nc(e,Z,X);return;case"option":for(var ye in i)if(Z=i[ye],i.hasOwnProperty(ye)&&Z!=null&&!r.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:ft(e,t,ye,null,r,Z)}for(O in r)if(Z=r[O],X=i[O],r.hasOwnProperty(O)&&Z!==X&&(Z!=null||X!=null))switch(O){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ft(e,t,O,Z,r,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in i)Z=i[Be],i.hasOwnProperty(Be)&&Z!=null&&!r.hasOwnProperty(Be)&&ft(e,t,Be,null,r,Z);for(k in r)if(Z=r[k],X=i[k],r.hasOwnProperty(k)&&Z!==X&&(Z!=null||X!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,t));break;default:ft(e,t,k,Z,r,X)}return;default:if(Eo(t)){for(var dt in i)Z=i[dt],i.hasOwnProperty(dt)&&Z!==void 0&&!r.hasOwnProperty(dt)&&su(e,t,dt,void 0,r,Z);for(J in r)Z=r[J],X=i[J],!r.hasOwnProperty(J)||Z===X||Z===void 0&&X===void 0||su(e,t,J,Z,r,X);return}}for(var F in i)Z=i[F],i.hasOwnProperty(F)&&Z!=null&&!r.hasOwnProperty(F)&&ft(e,t,F,null,r,Z);for(te in r)Z=r[te],X=i[te],!r.hasOwnProperty(te)||Z===X||Z==null&&X==null||ft(e,t,te,Z,r,X)}function sd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var s=i[r],d=s.transferSize,w=s.initiatorType,b=s.duration;if(d&&b&&sd(w)){for(w=0,b=s.responseEnd,r+=1;r<i.length;r++){var O=i[r],k=O.startTime;if(k>b)break;var J=O.transferSize,te=O.initiatorType;J&&sd(te)&&(O=O.responseEnd,w+=J*(O<b?1:(b-k)/(O-k)))}if(--r,t+=8*(d+w)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uu=null,cu=null;function Zl(e){return e.nodeType===9?e:e.ownerDocument}function ud(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fu=null;function xg(){var e=window.event;return e&&e.type==="popstate"?e===fu?!1:(fu=e,!0):(fu=null,!1)}var hd=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,bg=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch(Rg)}:hd;function Rg(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function dd(e,t){var i=t,r=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(s),ka(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")zr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,zr(i);for(var d=i.firstChild;d;){var w=d.nextSibling,b=d.nodeName;d[rt]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=w}}else i==="body"&&zr(e.ownerDocument.body);i=s}while(i);ka(t)}function pd(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":du(i),zi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Cg(e,t,i,r){for(;e.nodeType===1;){var s=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[rt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=_i(e.nextSibling),e===null)break}return null}function Dg(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=_i(e.nextSibling),e===null))return null;return e}function md(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_i(e.nextSibling),e===null))return null;return e}function pu(e){return e.data==="$?"||e.data==="$~"}function mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zg(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function _i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gu=null;function gd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return _i(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function yd(e,t,i){switch(t=Zl(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zi(e)}var bi=new Map,Td=new Set;function Yl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var dn=le.d;le.d={f:Mg,r:Ag,D:Og,C:Pg,L:Hg,m:Bg,X:Ng,S:Lg,M:Ug};function Mg(){var e=dn.f(),t=Nl();return e||t}function Ag(e){var t=Wt(e);t!==null&&t.tag===5&&t.type==="form"?Bh(t):dn.r(e)}var Ga=typeof document>"u"?null:document;function wd(e,t,i){var r=Ga;if(r&&typeof t=="string"&&t){var s=vi(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof i=="string"&&(s+='[crossorigin="'+i+'"]'),Td.has(s)||(Td.add(s),e={rel:e,crossOrigin:i,href:t},r.querySelector(s)===null&&(t=r.createElement("link"),kt(t,"link",e),wt(t),r.head.appendChild(t)))}}function Og(e){dn.D(e),wd("dns-prefetch",e,null)}function Pg(e,t){dn.C(e,t),wd("preconnect",e,t)}function Hg(e,t,i){dn.L(e,t,i);var r=Ga;if(r&&e&&t){var s='link[rel="preload"][as="'+vi(t)+'"]';t==="image"&&i&&i.imageSrcSet?(s+='[imagesrcset="'+vi(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(s+='[imagesizes="'+vi(i.imageSizes)+'"]')):s+='[href="'+vi(e)+'"]';var d=s;switch(t){case"style":d=Va(e);break;case"script":d=qa(e)}bi.has(d)||(e=g({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),bi.set(d,e),r.querySelector(s)!==null||t==="style"&&r.querySelector(Mr(d))||t==="script"&&r.querySelector(Ar(d))||(t=r.createElement("link"),kt(t,"link",e),wt(t),r.head.appendChild(t)))}}function Bg(e,t){dn.m(e,t);var i=Ga;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+vi(r)+'"][href="'+vi(e)+'"]',d=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(e)}if(!bi.has(d)&&(e=g({rel:"modulepreload",href:e},t),bi.set(d,e),i.querySelector(s)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ar(d)))return}r=i.createElement("link"),kt(r,"link",e),wt(r),i.head.appendChild(r)}}}function Lg(e,t,i){dn.S(e,t,i);var r=Ga;if(r&&e){var s=Ni(r).hoistableStyles,d=Va(e);t=t||"default";var w=s.get(d);if(!w){var b={loading:0,preload:null};if(w=r.querySelector(Mr(d)))b.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},i),(i=bi.get(d))&&vu(e,i);var O=w=r.createElement("link");wt(O),kt(O,"link",e),O._p=new Promise(function(k,J){O.onload=k,O.onerror=J}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xl(w,t,r)}w={type:"stylesheet",instance:w,count:1,state:b},s.set(d,w)}}}function Ng(e,t){dn.X(e,t);var i=Ga;if(i&&e){var r=Ni(i).hoistableScripts,s=qa(e),d=r.get(s);d||(d=i.querySelector(Ar(s)),d||(e=g({src:e,async:!0},t),(t=bi.get(s))&&yu(e,t),d=i.createElement("script"),wt(d),kt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(s,d))}}function Ug(e,t){dn.M(e,t);var i=Ga;if(i&&e){var r=Ni(i).hoistableScripts,s=qa(e),d=r.get(s);d||(d=i.querySelector(Ar(s)),d||(e=g({src:e,async:!0,type:"module"},t),(t=bi.get(s))&&yu(e,t),d=i.createElement("script"),wt(d),kt(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(s,d))}}function Sd(e,t,i,r){var s=(s=Fe.current)?Yl(s):null;if(!s)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Va(i.href),i=Ni(s).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Va(i.href);var d=Ni(s).hoistableStyles,w=d.get(e);if(w||(s=s.ownerDocument||s,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,w),(d=s.querySelector(Mr(e)))&&!d._p&&(w.instance=d,w.state.loading=5),bi.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},bi.set(e,i),d||Fg(s,e,i,w.state))),t&&r===null)throw Error(a(528,""));return w}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(i),i=Ni(s).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+vi(e)+'"'}function Mr(e){return'link[rel="stylesheet"]['+e+"]"}function Ed(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Fg(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),kt(t,"link",i),wt(t),e.head.appendChild(t))}function qa(e){return'[src="'+vi(e)+'"]'}function Ar(e){return"script[async]"+e}function xd(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vi(i.href)+'"]');if(r)return t.instance=r,wt(r),r;var s=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),wt(r),kt(r,"style",s),Xl(r,i.precedence,e),t.instance=r;case"stylesheet":s=Va(i.href);var d=e.querySelector(Mr(s));if(d)return t.state.loading|=4,t.instance=d,wt(d),d;r=Ed(i),(s=bi.get(s))&&vu(r,s),d=(e.ownerDocument||e).createElement("link"),wt(d);var w=d;return w._p=new Promise(function(b,O){w.onload=b,w.onerror=O}),kt(d,"link",r),t.state.loading|=4,Xl(d,i.precedence,e),t.instance=d;case"script":return d=qa(i.src),(s=e.querySelector(Ar(d)))?(t.instance=s,wt(s),s):(r=i,(s=bi.get(d))&&(r=g({},i),yu(r,s)),e=e.ownerDocument||e,s=e.createElement("script"),wt(s),kt(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Xl(r,i.precedence,e));return t.instance}function Xl(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,d=s,w=0;w<r.length;w++){var b=r[w];if(b.dataset.precedence===t)d=b;else if(d!==s)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Il=null;function _d(e,t,i){if(Il===null){var r=new Map,s=Il=new Map;s.set(i,r)}else s=Il,r=s.get(i),r||(r=new Map,s.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),s=0;s<i.length;s++){var d=i[s];if(!(d[rt]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var w=d.getAttribute(t)||"";w=e+w;var b=r.get(w);b?b.push(d):r.set(w,[d])}}return r}function bd(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function jg(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gg(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var s=Va(r.href),d=t.querySelector(Mr(s));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,wt(d);return}d=t.ownerDocument||t,r=Ed(r),(s=bi.get(s))&&vu(r,s),d=d.createElement("link"),wt(d);var w=d;w._p=new Promise(function(b,O){w.onload=b,w.onerror=O}),kt(d,"link",r),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Wl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Tu=0;function Vg(e,t){return e.stylesheets&&e.count===0&&Kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Tu===0&&(Tu=62500*Eg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Tu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}function Wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ql=null;function Kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ql=new Map,t.forEach(qg,e),Ql=null,Wl.call(e))}function qg(e,t){if(!(t.state.loading&4)){var i=Ql.get(e);if(i)var r=i.get(null);else{i=new Map,Ql.set(e,i);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<s.length;d++){var w=s[d];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),r=w)}r&&i.set(null,r)}s=t.instance,w=s.getAttribute("data-precedence"),d=i.get(w)||r,d===r&&i.set(null,s),i.set(w,s),this.count++,r=Wl.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),d?d.parentNode.insertBefore(s,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Or={$$typeof:U,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function kg(e,t,i,r,s,d,w,b,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=d,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Cd(e,t,i,r,s,d,w,b,O,k,J,te){return e=new kg(e,t,i,w,O,k,J,te,b),t=1,d===!0&&(t|=24),d=ri(3,null,null,t),e.current=d,d.stateNode=e,t=Jo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:t},is(d),e}function Dd(e){return e?(e=wa,e):wa}function zd(e,t,i,r,s,d){s=Dd(s),r.context===null?r.context=s:r.pendingContext=s,r=En(t),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=xn(e,r,t),i!==null&&(ii(i,e,t),cr(i,e,t))}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function wu(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function Ad(e){if(e.tag===13||e.tag===31){var t=Wn(e,67108864);t!==null&&ii(t,e,67108864),wu(e,67108864)}}function Od(e){if(e.tag===13||e.tag===31){var t=ci();t=_e(t);var i=Wn(e,t);i!==null&&ii(i,e,t),wu(e,t)}}var Jl=!0;function Zg(e,t,i,r){var s=j.T;j.T=null;var d=le.p;try{le.p=2,Su(e,t,i,r)}finally{le.p=d,j.T=s}}function Yg(e,t,i,r){var s=j.T;j.T=null;var d=le.p;try{le.p=8,Su(e,t,i,r)}finally{le.p=d,j.T=s}}function Su(e,t,i,r){if(Jl){var s=Eu(r);if(s===null)ou(e,t,r,$l,i),Hd(e,r);else if(Ig(s,e,t,i,r))r.stopPropagation();else if(Hd(e,r),t&4&&-1<Xg.indexOf(e)){for(;s!==null;){var d=Wt(s);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var w=di(d.pendingLanes);if(w!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;w;){var O=1<<31-je(w);b.entanglements[1]|=O,w&=~O}qi(d),(lt&6)===0&&(Bl=Ee()+500,Rr(0))}}break;case 31:case 13:b=Wn(d,2),b!==null&&ii(b,d,2),Nl(),wu(d,2)}if(d=Eu(r),d===null&&ou(e,t,r,$l,i),d===s)break;s=d}s!==null&&r.stopPropagation()}else ou(e,t,r,null,i)}}function Eu(e){return e=_o(e),xu(e)}var $l=null;function xu(e){if($l=null,e=pi(e),e!==null){var t=l(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=u(t),e!==null)return e;e=null}else if(i===31){if(e=f(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $l=e,null}function Pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Ie:return 2;case Ce:return 8;case ot:case E:return 32;case S:return 268435456;default:return 32}default:return 32}}var _u=!1,Hn=null,Bn=null,Ln=null,Pr=new Map,Hr=new Map,Nn=[],Xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hd(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function Br(e,t,i,r,s,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[s]},t!==null&&(t=Wt(t),t!==null&&Ad(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ig(e,t,i,r,s){switch(t){case"focusin":return Hn=Br(Hn,e,t,i,r,s),!0;case"dragenter":return Bn=Br(Bn,e,t,i,r,s),!0;case"mouseover":return Ln=Br(Ln,e,t,i,r,s),!0;case"pointerover":var d=s.pointerId;return Pr.set(d,Br(Pr.get(d)||null,e,t,i,r,s)),!0;case"gotpointercapture":return d=s.pointerId,Hr.set(d,Br(Hr.get(d)||null,e,t,i,r,s)),!0}return!1}function Bd(e){var t=pi(e.target);if(t!==null){var i=l(t);if(i!==null){if(t=i.tag,t===13){if(t=u(i),t!==null){e.blockedOn=t,De(e.priority,function(){Od(i)});return}}else if(t===31){if(t=f(i),t!==null){e.blockedOn=t,De(e.priority,function(){Od(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Eu(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);xo=r,i.target.dispatchEvent(r),xo=null}else return t=Wt(i),t!==null&&Ad(t),e.blockedOn=i,!1;t.shift()}return!0}function Ld(e,t,i){eo(e)&&i.delete(t)}function Wg(){_u=!1,Hn!==null&&eo(Hn)&&(Hn=null),Bn!==null&&eo(Bn)&&(Bn=null),Ln!==null&&eo(Ln)&&(Ln=null),Pr.forEach(Ld),Hr.forEach(Ld)}function to(e,t){e.blockedOn===t&&(e.blockedOn=null,_u||(_u=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,Wg)))}var io=null;function Nd(e){io!==e&&(io=e,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){io===e&&(io=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],s=e[t+2];if(typeof r!="function"){if(xu(r||i)===null)continue;break}var d=Wt(i);d!==null&&(e.splice(t,3),t-=3,Es(d,{pending:!0,data:s,method:i.method,action:r},r,s))}}))}function ka(e){function t(O){return to(O,e)}Hn!==null&&to(Hn,e),Bn!==null&&to(Bn,e),Ln!==null&&to(Ln,e),Pr.forEach(t),Hr.forEach(t);for(var i=0;i<Nn.length;i++){var r=Nn[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Nn.length&&(i=Nn[0],i.blockedOn===null);)Bd(i),i.blockedOn===null&&Nn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var s=i[r],d=i[r+1],w=s[ge]||null;if(typeof d=="function")w||Nd(i);else if(w){var b=null;if(d&&d.hasAttribute("formAction")){if(s=d,w=d[ge]||null)b=w.formAction;else if(xu(s)!==null)continue}else b=w.action;typeof b=="function"?i[r+1]=b:(i.splice(r,3),r-=3),Nd(i)}}}function Ud(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(w){return s=w})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function bu(e){this._internalRoot=e}no.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=ci();zd(i,r,e,t,null,null)},no.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zd(e.current,2,null,e,null,null),Nl(),t[Ze]=null}};function no(e){this._internalRoot=e}no.prototype.unstable_scheduleHydration=function(e){if(e){var t=Se();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Nn.length&&t!==0&&t<Nn[i].priority;i++);Nn.splice(i,0,e),i===0&&Bd(e)}};var Fd=v.version;if(Fd!=="19.2.0")throw Error(a(527,Fd,"19.2.0"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=c(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Qg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{W=ao.inject(Qg),ne=ao}catch{}}return Nr.createRoot=function(e,t){if(!o(e))throw Error(a(299));var i=!1,r="",s=Zh,d=Yh,w=Xh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=Cd(e,1,!1,null,null,i,r,null,s,d,w,Ud),e[Ze]=t.current,lu(e),new bu(t)},Nr.hydrateRoot=function(e,t,i){if(!o(e))throw Error(a(299));var r=!1,s="",d=Zh,w=Yh,b=Xh,O=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),t=Cd(e,1,!0,t,i??null,r,s,O,d,w,b,Ud),t.context=Dd(null),i=t.current,r=ci(),r=_e(r),s=En(r),s.callback=null,xn(i,s,r),i=r,t.current.lanes=i,P(t,i),qi(t),e[Ze]=t.current,lu(e),new no(t)},Nr.version="19.2.0",Nr}var Wd;function lv(){if(Wd)return Du.exports;Wd=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(v){console.error(v)}}return p(),Du.exports=rv(),Du.exports}var ov=lv();const sv=Gu(ov);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tp=p=>{throw TypeError(p)},uv=(p,v,n)=>v.has(p)||Tp("Cannot "+n),Ou=(p,v,n)=>(uv(p,v,"read from private field"),n?n.call(p):v.get(p)),cv=(p,v,n)=>v.has(p)?Tp("Cannot add the same private member more than once"):v instanceof WeakSet?v.add(p):v.set(p,n),Qd="popstate";function hv(p={}){function v(a,o){let{pathname:l,search:u,hash:f}=a.location;return Vr("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Gn(o)}return dv(v,n,null,p)}function Ke(p,v){if(p===!1||p===null||typeof p>"u")throw new Error(v)}function Bt(p,v){if(!p){typeof console<"u"&&console.warn(v);try{throw new Error(v)}catch{}}}function fv(){return Math.random().toString(36).substring(2,10)}function Kd(p,v){return{usr:p.state,key:p.key,idx:v}}function Vr(p,v,n=null,a){return{pathname:typeof p=="string"?p:p.pathname,search:"",hash:"",...typeof v=="string"?Vn(v):v,state:n,key:v&&v.key||a||fv()}}function Gn({pathname:p="/",search:v="",hash:n=""}){return v&&v!=="?"&&(p+=v.charAt(0)==="?"?v:"?"+v),n&&n!=="#"&&(p+=n.charAt(0)==="#"?n:"#"+n),p}function Vn(p){let v={};if(p){let n=p.indexOf("#");n>=0&&(v.hash=p.substring(n),p=p.substring(0,n));let a=p.indexOf("?");a>=0&&(v.search=p.substring(a),p=p.substring(0,a)),p&&(v.pathname=p)}return v}function dv(p,v,n,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,f="POP",h=null,c=m();c==null&&(c=0,u.replaceState({...u.state,idx:c},""));function m(){return(u.state||{idx:null}).idx}function g(){f="POP";let M=m(),C=M==null?null:M-c;c=M,h&&h({action:f,location:R.location,delta:C})}function y(M,C){f="PUSH";let H=Vr(R.location,M,C);c=m()+1;let U=Kd(H,c),oe=R.createHref(H);try{u.pushState(U,"",oe)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(oe)}l&&h&&h({action:f,location:R.location,delta:1})}function x(M,C){f="REPLACE";let H=Vr(R.location,M,C);c=m();let U=Kd(H,c),oe=R.createHref(H);u.replaceState(U,"",oe),l&&h&&h({action:f,location:R.location,delta:0})}function _(M){return wp(M)}let R={get action(){return f},get location(){return p(o,u)},listen(M){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Qd,g),h=M,()=>{o.removeEventListener(Qd,g),h=null}},createHref(M){return v(o,M)},createURL:_,encodeLocation(M){let C=_(M);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(M){return u.go(M)}};return R}function wp(p,v=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(n,"No window.location.(origin|href) available to create URL");let a=typeof p=="string"?p:Gn(p);return a=a.replace(/ $/,"%20"),!v&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Gr,Jd=class{constructor(p){if(cv(this,Gr,new Map),p)for(let[v,n]of p)this.set(v,n)}get(p){if(Ou(this,Gr).has(p))return Ou(this,Gr).get(p);if(p.defaultValue!==void 0)return p.defaultValue;throw new Error("No value found for context")}set(p,v){Ou(this,Gr).set(p,v)}};Gr=new WeakMap;var pv=new Set(["lazy","caseSensitive","path","id","index","children"]);function mv(p){return pv.has(p)}var gv=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function vv(p){return gv.has(p)}function yv(p){return p.index===!0}function qr(p,v,n=[],a={},o=!1){return p.map((l,u)=>{let f=[...n,String(u)],h=typeof l.id=="string"?l.id:f.join("-");if(Ke(l.index!==!0||!l.children,"Cannot specify children on an index route"),Ke(o||!a[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),yv(l)){let c={...l,...v(l),id:h};return a[h]=c,c}else{let c={...l,...v(l),id:h,children:void 0};return a[h]=c,l.children&&(c.children=qr(l.children,v,f,a,o)),c}})}function Fn(p,v,n="/"){return so(p,v,n,!1)}function so(p,v,n,a){let o=typeof v=="string"?Vn(v):v,l=Ci(o.pathname||"/",n);if(l==null)return null;let u=Sp(p);wv(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let c=Av(l);f=zv(u[h],c,a)}return f}function Tv(p,v){let{route:n,pathname:a,params:o}=p;return{id:n.id,pathname:a,params:o,data:v[n.id],loaderData:v[n.id],handle:n.handle}}function Sp(p,v=[],n=[],a="",o=!1){let l=(u,f,h=o,c)=>{let m={relativePath:c===void 0?u.path||"":c,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&h)return;Ke(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let g=ki([a,m.relativePath]),y=n.concat(m);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Sp(u.children,v,y,g,h)),!(u.path==null&&!u.index)&&v.push({path:g,score:Cv(g,u.index),routesMeta:y})};return p.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let h of Ep(u.path))l(u,f,!0,h)}),v}function Ep(p){let v=p.split("/");if(v.length===0)return[];let[n,...a]=v,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=Ep(a.join("/")),f=[];return f.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&f.push(...u),f.map(h=>p.startsWith("/")&&h===""?"/":h)}function wv(p){p.sort((v,n)=>v.score!==n.score?n.score-v.score:Dv(v.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Sv=/^:[\w-]+$/,Ev=3,xv=2,_v=1,bv=10,Rv=-2,$d=p=>p==="*";function Cv(p,v){let n=p.split("/"),a=n.length;return n.some($d)&&(a+=Rv),v&&(a+=xv),n.filter(o=>!$d(o)).reduce((o,l)=>o+(Sv.test(l)?Ev:l===""?_v:bv),a)}function Dv(p,v){return p.length===v.length&&p.slice(0,-1).every((a,o)=>a===v[o])?p[p.length-1]-v[v.length-1]:0}function zv(p,v,n=!1){let{routesMeta:a}=p,o={},l="/",u=[];for(let f=0;f<a.length;++f){let h=a[f],c=f===a.length-1,m=l==="/"?v:v.slice(l.length)||"/",g=po({path:h.relativePath,caseSensitive:h.caseSensitive,end:c},m),y=h.route;if(!g&&c&&n&&!a[a.length-1].route.index&&(g=po({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:ki([l,g.pathname]),pathnameBase:Bv(ki([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=ki([l,g.pathnameBase]))}return u}function po(p,v){typeof p=="string"&&(p={path:p,caseSensitive:!1,end:!0});let[n,a]=Mv(p.path,p.caseSensitive,p.end),o=v.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((c,{paramName:m,isOptional:g},y)=>{if(m==="*"){let _=f[y]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const x=f[y];return g&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:u,pattern:p}}function Mv(p,v=!1,n=!0){Bt(p==="*"||!p.endsWith("*")||p.endsWith("/*"),`Route path "${p}" will be treated as if it were "${p.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${p.replace(/\*$/,"/*")}".`);let a=[],o="^"+p.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return p.endsWith("*")?(a.push({paramName:"*"}),o+=p==="*"||p==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":p!==""&&p!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,v?void 0:"i"),a]}function Av(p){try{return p.split("/").map(v=>decodeURIComponent(v).replace(/\//g,"%2F")).join("/")}catch(v){return Bt(!1,`The URL path "${p}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${v}).`),p}}function Ci(p,v){if(v==="/")return p;if(!p.toLowerCase().startsWith(v.toLowerCase()))return null;let n=v.endsWith("/")?v.length-1:v.length,a=p.charAt(n);return a&&a!=="/"?null:p.slice(n)||"/"}function Ov({basename:p,pathname:v}){return v==="/"?p:ki([p,v])}function Pv(p,v="/"){let{pathname:n,search:a="",hash:o=""}=typeof p=="string"?Vn(p):p;return{pathname:n?n.startsWith("/")?n:Hv(n,v):v,search:Lv(a),hash:Nv(o)}}function Hv(p,v){let n=v.replace(/\/+$/,"").split("/");return p.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pu(p,v,n,a){return`Cannot include a '${p}' character in a manually specified \`to.${v}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xp(p){return p.filter((v,n)=>n===0||v.route.path&&v.route.path.length>0)}function qu(p){let v=xp(p);return v.map((n,a)=>a===v.length-1?n.pathname:n.pathnameBase)}function ku(p,v,n,a=!1){let o;typeof p=="string"?o=Vn(p):(o={...p},Ke(!o.pathname||!o.pathname.includes("?"),Pu("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Pu("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Pu("#","search","hash",o)));let l=p===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let g=v.length-1;if(!a&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}f=g>=0?v[g]:"/"}let h=Pv(o,f),c=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(c||m)&&(h.pathname+="/"),h}var ki=p=>p.join("/").replace(/\/\/+/g,"/"),Bv=p=>p.replace(/\/+$/,"").replace(/^\/*/,"/"),Lv=p=>!p||p==="?"?"":p.startsWith("?")?p:"?"+p,Nv=p=>!p||p==="#"?"":p.startsWith("#")?p:"#"+p,mo=class{constructor(p,v,n,a=!1){this.status=p,this.statusText=v||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function kr(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.internal=="boolean"&&"data"in p}var _p=["POST","PUT","PATCH","DELETE"],Uv=new Set(_p),Fv=["GET",..._p],jv=new Set(Fv),Gv=new Set([301,302,303,307,308]),Vv=new Set([307,308]),Hu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ur={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zu=p=>kv.test(p),Zv=p=>({hasErrorBoundary:!!p.hasErrorBoundary}),bp="remix-router-transitions",Rp=Symbol("ResetLoaderData");function Yv(p){const v=p.window?p.window:typeof window<"u"?window:void 0,n=typeof v<"u"&&typeof v.document<"u"&&typeof v.document.createElement<"u";Ke(p.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=p.hydrationRouteProperties||[],o=p.mapRouteProperties||Zv,l={},u=qr(p.routes,o,void 0,l),f,h=p.basename||"/";h.startsWith("/")||(h=`/${h}`);let c=p.dataStrategy||Kv,m={...p.future},g=null,y=new Set,x=null,_=null,R=null,M=p.hydrationData!=null,C=Fn(u,p.history.location,h),H=!1,U=null,oe;if(C==null&&!p.patchRoutesOnNavigation){let P=Ri(404,{pathname:p.history.location.pathname}),{matches:G,route:Y}=ro(u);oe=!0,C=G,U={[Y.id]:P}}else if(C&&!p.hydrationData&&Li(C,u,p.history.location.pathname).active&&(C=null),C)if(C.some(P=>P.route.lazy))oe=!1;else if(!C.some(P=>Yu(P.route)))oe=!0;else{let P=p.hydrationData?p.hydrationData.loaderData:null,G=p.hydrationData?p.hydrationData.errors:null;if(G){let Y=C.findIndex(se=>G[se.route.id]!==void 0);oe=C.slice(0,Y+1).every(se=>!Uu(se.route,P,G))}else oe=C.every(Y=>!Uu(Y.route,P,G))}else{oe=!1,C=[];let P=Li(null,u,p.history.location.pathname);P.active&&P.matches&&(H=!0,C=P.matches)}let Q,N={historyAction:p.history.action,location:p.history.location,matches:C,initialized:oe,navigation:Hu,restoreScrollPosition:p.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:p.hydrationData&&p.hydrationData.loaderData||{},actionData:p.hydrationData&&p.hydrationData.actionData||null,errors:p.hydrationData&&p.hydrationData.errors||U,fetchers:new Map,blockers:new Map},ae="POP",pe=!1,fe,Oe=!1,Le=new Map,we=null,Re=!1,Ne=!1,Ve=new Set,j=new Map,le=0,he=-1,Ue=new Map,He=new Set,B=new Map,K=new Map,$=new Set,de=new Map,Pe,Fe=null;function Xe(){if(g=p.history.listen(({action:P,location:G,delta:Y})=>{if(Pe){Pe(),Pe=void 0;return}Bt(de.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Et({currentLocation:N.location,nextLocation:G,historyAction:P});if(se&&Y!=null){let ce=new Promise(_e=>{Pe=_e});p.history.go(Y*-1),zt(se,{state:"blocked",location:G,proceed(){zt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),ce.then(()=>p.history.go(Y))},reset(){let _e=new Map(N.blockers);_e.set(se,Ur),mt({blockers:_e})}});return}return Lt(P,G)}),n){fy(v,Le);let P=()=>dy(v,Le);v.addEventListener("pagehide",P),we=()=>v.removeEventListener("pagehide",P)}return N.initialized||Lt("POP",N.location,{initialHydration:!0}),Q}function xt(){g&&g(),we&&we(),y.clear(),fe&&fe.abort(),N.fetchers.forEach((P,G)=>S(G)),N.blockers.forEach((P,G)=>Me(G))}function pt(P){return y.add(P),()=>y.delete(P)}function mt(P,G={}){P.matches&&(P.matches=P.matches.map(ce=>{let _e=l[ce.route.id],be=ce.route;return be.element!==_e.element||be.errorElement!==_e.errorElement||be.hydrateFallbackElement!==_e.hydrateFallbackElement?{...ce,route:_e}:ce})),N={...N,...P};let Y=[],se=[];N.fetchers.forEach((ce,_e)=>{ce.state==="idle"&&($.has(_e)?Y.push(_e):se.push(_e))}),$.forEach(ce=>{!N.fetchers.has(ce)&&!j.has(ce)&&Y.push(ce)}),[...y].forEach(ce=>ce(N,{deletedFetchers:Y,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),Y.forEach(ce=>S(ce)),se.forEach(ce=>N.fetchers.delete(ce))}function Zt(P,G,{flushSync:Y}={}){let se=N.actionData!=null&&N.navigation.formMethod!=null&&ni(N.navigation.formMethod)&&N.navigation.state==="loading"&&P.state?._isRedirect!==!0,ce;G.actionData?Object.keys(G.actionData).length>0?ce=G.actionData:ce=null:se?ce=N.actionData:ce=null;let _e=G.loaderData?up(N.loaderData,G.loaderData,G.matches||[],G.errors):N.loaderData,be=N.blockers;be.size>0&&(be=new Map(be),be.forEach((me,ge)=>be.set(ge,Ur)));let Se=Re?!1:qn(P,G.matches||N.matches),De=pe===!0||N.navigation.formMethod!=null&&ni(N.navigation.formMethod)&&P.state?._isRedirect!==!0;f&&(u=f,f=void 0),Re||ae==="POP"||(ae==="PUSH"?p.history.push(P,P.state):ae==="REPLACE"&&p.history.replace(P,P.state));let ze;if(ae==="POP"){let me=Le.get(N.location.pathname);me&&me.has(P.pathname)?ze={currentLocation:N.location,nextLocation:P}:Le.has(P.pathname)&&(ze={currentLocation:P,nextLocation:N.location})}else if(Oe){let me=Le.get(N.location.pathname);me?me.add(P.pathname):(me=new Set([P.pathname]),Le.set(N.location.pathname,me)),ze={currentLocation:N.location,nextLocation:P}}mt({...G,actionData:ce,loaderData:_e,historyAction:ae,location:P,initialized:!0,navigation:Hu,revalidation:"idle",restoreScrollPosition:Se,preventScrollReset:De,blockers:be},{viewTransitionOpts:ze,flushSync:Y===!0}),ae="POP",pe=!1,Oe=!1,Re=!1,Ne=!1,Fe?.resolve(),Fe=null}async function Hi(P,G){if(typeof P=="number"){p.history.go(P);return}let Y=Nu(N.location,N.matches,h,P,G?.fromRouteId,G?.relative),{path:se,submission:ce,error:_e}=ep(!1,Y,G),be=N.location,Se=Vr(N.location,se,G&&G.state);Se={...Se,...p.history.encodeLocation(Se)};let De=G&&G.replace!=null?G.replace:void 0,ze="PUSH";De===!0?ze="REPLACE":De===!1||ce!=null&&ni(ce.formMethod)&&ce.formAction===N.location.pathname+N.location.search&&(ze="REPLACE");let me=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,ge=(G&&G.flushSync)===!0,Ze=Et({currentLocation:be,nextLocation:Se,historyAction:ze});if(Ze){zt(Ze,{state:"blocked",location:Se,proceed(){zt(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Hi(P,G)},reset(){let ct=new Map(N.blockers);ct.set(Ze,Ur),mt({blockers:ct})}});return}await Lt(ze,Se,{submission:ce,pendingError:_e,preventScrollReset:me,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:ge})}function Yi(){Fe||(Fe=py()),Je(),mt({revalidation:"loading"});let P=Fe.promise;return N.navigation.state==="submitting"?P:N.navigation.state==="idle"?(Lt(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),P):(Lt(ae||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:Oe===!0}),P)}async function Lt(P,G,Y){fe&&fe.abort(),fe=null,ae=P,Re=(Y&&Y.startUninterruptedRevalidation)===!0,di(N.location,N.matches),pe=(Y&&Y.preventScrollReset)===!0,Oe=(Y&&Y.enableViewTransition)===!0;let se=f||u,ce=Y&&Y.overrideNavigation,_e=Y?.initialHydration&&N.matches&&N.matches.length>0&&!H?N.matches:Fn(se,G,h),be=(Y&&Y.flushSync)===!0;if(_e&&N.initialized&&!Ne&&ry(N.location,G)&&!(Y&&Y.submission&&ni(Y.submission.formMethod))){Zt(G,{matches:_e},{flushSync:be});return}let Se=Li(_e,se,G.pathname);if(Se.active&&Se.matches&&(_e=Se.matches),!_e){let{error:jt,notFoundMatches:vt,route:rt}=It(G.pathname);Zt(G,{matches:vt,loaderData:{},errors:{[rt.id]:jt}},{flushSync:be});return}fe=new AbortController;let De=Ya(p.history,G,fe.signal,Y&&Y.submission),ze=p.getContext?await p.getContext():new Jd,me;if(Y&&Y.pendingError)me=[jn(_e).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&ni(Y.submission.formMethod)){let jt=await Di(De,G,Y.submission,_e,ze,Se.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:be});if(jt.shortCircuited)return;if(jt.pendingActionResult){let[vt,rt]=jt.pendingActionResult;if(hi(rt)&&kr(rt.error)&&rt.error.status===404){fe=null,Zt(G,{matches:jt.matches,loaderData:{},errors:{[vt]:rt.error}});return}}_e=jt.matches||_e,me=jt.pendingActionResult,ce=Bu(G,Y.submission),be=!1,Se.active=!1,De=Ya(p.history,De.url,De.signal)}let{shortCircuited:ge,matches:Ze,loaderData:ct,errors:Mt}=await fi(De,G,_e,ze,Se.active,ce,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,be,me);ge||(fe=null,Zt(G,{matches:Ze||_e,...cp(me),loaderData:ct,errors:Mt}))}async function Di(P,G,Y,se,ce,_e,be,Se={}){Je();let De=cy(G,Y);if(mt({navigation:De},{flushSync:Se.flushSync===!0}),_e){let ge=await ha(se,G.pathname,P.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){if(ge.partialMatches.length===0){let{matches:ct,route:Mt}=ro(u);return{matches:ct,pendingActionResult:[Mt.id,{type:"error",error:ge.error}]}}let Ze=jn(ge.partialMatches).route.id;return{matches:ge.partialMatches,pendingActionResult:[Ze,{type:"error",error:ge.error}]}}else if(ge.matches)se=ge.matches;else{let{notFoundMatches:Ze,error:ct,route:Mt}=It(G.pathname);return{matches:Ze,pendingActionResult:[Mt.id,{type:"error",error:ct}]}}}let ze,me=uo(se,G);if(!me.route.action&&!me.route.lazy)ze={type:"error",error:Ri(405,{method:P.method,pathname:G.pathname,routeId:me.route.id})};else{let ge=Xa(o,l,P,se,me,be?[]:a,ce),Ze=await ie(P,ge,ce,null);if(ze=Ze[me.route.id],!ze){for(let ct of se)if(Ze[ct.route.id]){ze=Ze[ct.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(sa(ze)){let ge;return Se&&Se.replace!=null?ge=Se.replace:ge=lp(ze.response.headers.get("Location"),new URL(P.url),h)===N.location.pathname+N.location.search,await ve(P,ze,!0,{submission:Y,replace:ge}),{shortCircuited:!0}}if(hi(ze)){let ge=jn(se,me.route.id);return(Se&&Se.replace)!==!0&&(ae="PUSH"),{matches:se,pendingActionResult:[ge.route.id,ze,me.route.id]}}return{matches:se,pendingActionResult:[me.route.id,ze]}}async function fi(P,G,Y,se,ce,_e,be,Se,De,ze,me,ge){let Ze=_e||Bu(G,be),ct=be||Se||fp(Ze),Mt=!Re&&!ze;if(ce){if(Mt){let Ut=T(ge);mt({navigation:Ze,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:me})}let Ye=await ha(Y,G.pathname,P.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:Ii,route:Fi}=ro(u);return{matches:Ii,loaderData:{},errors:{[Fi.id]:Ye.error}}}let Ut=jn(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[Ut]:Ye.error}}}else if(Ye.matches)Y=Ye.matches;else{let{error:Ut,notFoundMatches:Ii,route:Fi}=It(G.pathname);return{matches:Ii,loaderData:{},errors:{[Fi.id]:Ut}}}}let jt=f||u,{dsMatches:vt,revalidatingFetchers:rt}=tp(P,se,o,l,p.history,N,Y,ct,G,ze?[]:a,ze===!0,Ne,Ve,$,B,He,jt,h,p.patchRoutesOnNavigation!=null,ge);if(he=++le,!p.dataStrategy&&!vt.some(Ye=>Ye.shouldLoad)&&!vt.some(Ye=>Ye.route.middleware&&Ye.route.middleware.length>0)&&rt.length===0){let Ye=ne();return Zt(G,{matches:Y,loaderData:{},errors:ge&&hi(ge[1])?{[ge[0]]:ge[1].error}:null,...cp(ge),...Ye?{fetchers:new Map(N.fetchers)}:{}},{flushSync:me}),{shortCircuited:!0}}if(Mt){let Ye={};if(!ce){Ye.navigation=Ze;let Ut=T(ge);Ut!==void 0&&(Ye.actionData=Ut)}rt.length>0&&(Ye.fetchers=z(rt)),mt(Ye,{flushSync:me})}rt.forEach(Ye=>{A(Ye.key),Ye.controller&&j.set(Ye.key,Ye.controller)});let zi=()=>rt.forEach(Ye=>A(Ye.key));fe&&fe.signal.addEventListener("abort",zi);let{loaderResults:pi,fetcherResults:Wt}=await Ee(vt,rt,P,se);if(P.signal.aborted)return{shortCircuited:!0};fe&&fe.signal.removeEventListener("abort",zi),rt.forEach(Ye=>j.delete(Ye.key));let Yt=lo(pi);if(Yt)return await ve(P,Yt.result,!0,{replace:De}),{shortCircuited:!0};if(Yt=lo(Wt),Yt)return He.add(Yt.key),await ve(P,Yt.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:Ni,errors:wt}=sp(N,Y,pi,ge,rt,Wt);ze&&N.errors&&(wt={...N.errors,...wt});let Ui=ne(),kn=Te(he),mi=Ui||kn||rt.length>0;return{matches:Y,loaderData:Ni,errors:wt,...mi?{fetchers:new Map(N.fetchers)}:{}}}function T(P){if(P&&!hi(P[1]))return{[P[0]]:P[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function z(P){return P.forEach(G=>{let Y=N.fetchers.get(G.key),se=Fr(void 0,Y?Y.data:void 0);N.fetchers.set(G.key,se)}),new Map(N.fetchers)}async function V(P,G,Y,se){A(P);let ce=(se&&se.flushSync)===!0,_e=f||u,be=Nu(N.location,N.matches,h,Y,G,se?.relative),Se=Fn(_e,be,h),De=Li(Se,_e,be);if(De.active&&De.matches&&(Se=De.matches),!Se){Ce(P,G,Ri(404,{pathname:be}),{flushSync:ce});return}let{path:ze,submission:me,error:ge}=ep(!0,be,se);if(ge){Ce(P,G,ge,{flushSync:ce});return}let Ze=p.getContext?await p.getContext():new Jd,ct=(se&&se.preventScrollReset)===!0;if(me&&ni(me.formMethod)){await re(P,G,ze,Se,Ze,De.active,ce,ct,me);return}B.set(P,{routeId:G,path:ze}),await ue(P,G,ze,Se,Ze,De.active,ce,ct,me)}async function re(P,G,Y,se,ce,_e,be,Se,De){Je(),B.delete(P);let ze=N.fetchers.get(P);Ie(P,hy(De,ze),{flushSync:be});let me=new AbortController,ge=Ya(p.history,Y,me.signal,De);if(_e){let Rt=await ha(se,new URL(ge.url).pathname,ge.signal,P);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ce(P,G,Rt.error,{flushSync:be});return}else if(Rt.matches)se=Rt.matches;else{Ce(P,G,Ri(404,{pathname:Y}),{flushSync:be});return}}let Ze=uo(se,Y);if(!Ze.route.action&&!Ze.route.lazy){let Rt=Ri(405,{method:De.formMethod,pathname:Y,routeId:G});Ce(P,G,Rt,{flushSync:be});return}j.set(P,me);let ct=le,Mt=Xa(o,l,ge,se,Ze,a,ce),vt=(await ie(ge,Mt,ce,P))[Ze.route.id];if(ge.signal.aborted){j.get(P)===me&&j.delete(P);return}if($.has(P)){if(sa(vt)||hi(vt)){Ie(P,pn(void 0));return}}else{if(sa(vt))if(j.delete(P),he>ct){Ie(P,pn(void 0));return}else return He.add(P),Ie(P,Fr(De)),ve(ge,vt,!1,{fetcherSubmission:De,preventScrollReset:Se});if(hi(vt)){Ce(P,G,vt.error);return}}let rt=N.navigation.location||N.location,zi=Ya(p.history,rt,me.signal),pi=f||u,Wt=N.navigation.state!=="idle"?Fn(pi,N.navigation.location,h):N.matches;Ke(Wt,"Didn't find any matches after fetcher action");let Yt=++le;Ue.set(P,Yt);let Ni=Fr(De,vt.data);N.fetchers.set(P,Ni);let{dsMatches:wt,revalidatingFetchers:Ui}=tp(zi,ce,o,l,p.history,N,Wt,De,rt,a,!1,Ne,Ve,$,B,He,pi,h,p.patchRoutesOnNavigation!=null,[Ze.route.id,vt]);Ui.filter(Rt=>Rt.key!==P).forEach(Rt=>{let Wi=Rt.key,Zn=N.fetchers.get(Wi),Mi=Fr(void 0,Zn?Zn.data:void 0);N.fetchers.set(Wi,Mi),A(Wi),Rt.controller&&j.set(Wi,Rt.controller)}),mt({fetchers:new Map(N.fetchers)});let kn=()=>Ui.forEach(Rt=>A(Rt.key));me.signal.addEventListener("abort",kn);let{loaderResults:mi,fetcherResults:Ye}=await Ee(wt,Ui,zi,ce);if(me.signal.aborted)return;if(me.signal.removeEventListener("abort",kn),Ue.delete(P),j.delete(P),Ui.forEach(Rt=>j.delete(Rt.key)),N.fetchers.has(P)){let Rt=pn(vt.data);N.fetchers.set(P,Rt)}let Ut=lo(mi);if(Ut)return ve(zi,Ut.result,!1,{preventScrollReset:Se});if(Ut=lo(Ye),Ut)return He.add(Ut.key),ve(zi,Ut.result,!1,{preventScrollReset:Se});let{loaderData:Ii,errors:Fi}=sp(N,Wt,mi,void 0,Ui,Ye);Te(Yt),N.navigation.state==="loading"&&Yt>he?(Ke(ae,"Expected pending action"),fe&&fe.abort(),Zt(N.navigation.location,{matches:Wt,loaderData:Ii,errors:Fi,fetchers:new Map(N.fetchers)})):(mt({errors:Fi,loaderData:up(N.loaderData,Ii,Wt,Fi),fetchers:new Map(N.fetchers)}),Ne=!1)}async function ue(P,G,Y,se,ce,_e,be,Se,De){let ze=N.fetchers.get(P);Ie(P,Fr(De,ze?ze.data:void 0),{flushSync:be});let me=new AbortController,ge=Ya(p.history,Y,me.signal);if(_e){let rt=await ha(se,new URL(ge.url).pathname,ge.signal,P);if(rt.type==="aborted")return;if(rt.type==="error"){Ce(P,G,rt.error,{flushSync:be});return}else if(rt.matches)se=rt.matches;else{Ce(P,G,Ri(404,{pathname:Y}),{flushSync:be});return}}let Ze=uo(se,Y);j.set(P,me);let ct=le,Mt=Xa(o,l,ge,se,Ze,a,ce),vt=(await ie(ge,Mt,ce,P))[Ze.route.id];if(j.get(P)===me&&j.delete(P),!ge.signal.aborted){if($.has(P)){Ie(P,pn(void 0));return}if(sa(vt))if(he>ct){Ie(P,pn(void 0));return}else{He.add(P),await ve(ge,vt,!1,{preventScrollReset:Se});return}if(hi(vt)){Ce(P,G,vt.error);return}Ie(P,pn(vt.data))}}async function ve(P,G,Y,{submission:se,fetcherSubmission:ce,preventScrollReset:_e,replace:be}={}){G.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Se=G.response.headers.get("Location");Ke(Se,"Expected a Location header on the redirect Response"),Se=lp(Se,new URL(P.url),h);let De=Vr(N.location,Se,{_isRedirect:!0});if(n){let Mt=!1;if(G.response.headers.has("X-Remix-Reload-Document"))Mt=!0;else if(Zu(Se)){const jt=wp(Se,!0);Mt=jt.origin!==v.location.origin||Ci(jt.pathname,h)==null}if(Mt){be?v.location.replace(Se):v.location.assign(Se);return}}fe=null;let ze=be===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:me,formAction:ge,formEncType:Ze}=N.navigation;!se&&!ce&&me&&ge&&Ze&&(se=fp(N.navigation));let ct=se||ce;if(Vv.has(G.response.status)&&ct&&ni(ct.formMethod))await Lt(ze,De,{submission:{...ct,formAction:Se},preventScrollReset:_e||pe,enableViewTransition:Y?Oe:void 0});else{let Mt=Bu(De,se);await Lt(ze,De,{overrideNavigation:Mt,fetcherSubmission:ce,preventScrollReset:_e||pe,enableViewTransition:Y?Oe:void 0})}}async function ie(P,G,Y,se){let ce,_e={};try{ce=await $v(c,P,G,se,Y,!1)}catch(be){return G.filter(Se=>Se.shouldLoad).forEach(Se=>{_e[Se.route.id]={type:"error",error:be}}),_e}if(P.signal.aborted)return _e;for(let[be,Se]of Object.entries(ce))if(sy(Se)){let De=Se.result;_e[be]={type:"redirect",response:ny(De,P,be,G,h)}}else _e[be]=await iy(Se);return _e}async function Ee(P,G,Y,se){let ce=ie(Y,P,se,null),_e=Promise.all(G.map(async De=>{if(De.matches&&De.match&&De.request&&De.controller){let me=(await ie(De.request,De.matches,se,De.key))[De.match.route.id];return{[De.key]:me}}else return Promise.resolve({[De.key]:{type:"error",error:Ri(404,{pathname:De.path})}})})),be=await ce,Se=(await _e).reduce((De,ze)=>Object.assign(De,ze),{});return{loaderResults:be,fetcherResults:Se}}function Je(){Ne=!0,B.forEach((P,G)=>{j.has(G)&&Ve.add(G),A(G)})}function Ie(P,G,Y={}){N.fetchers.set(P,G),mt({fetchers:new Map(N.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Ce(P,G,Y,se={}){let ce=jn(N.matches,G);S(P),mt({errors:{[ce.route.id]:Y},fetchers:new Map(N.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function ot(P){return K.set(P,(K.get(P)||0)+1),$.has(P)&&$.delete(P),N.fetchers.get(P)||qv}function E(P,G){A(P,G?.reason),Ie(P,pn(null))}function S(P){let G=N.fetchers.get(P);j.has(P)&&!(G&&G.state==="loading"&&Ue.has(P))&&A(P),B.delete(P),Ue.delete(P),He.delete(P),$.delete(P),Ve.delete(P),N.fetchers.delete(P)}function D(P){let G=(K.get(P)||0)-1;G<=0?(K.delete(P),$.add(P)):K.set(P,G),mt({fetchers:new Map(N.fetchers)})}function A(P,G){let Y=j.get(P);Y&&(Y.abort(G),j.delete(P))}function W(P){for(let G of P){let Y=ot(G),se=pn(Y.data);N.fetchers.set(G,se)}}function ne(){let P=[],G=!1;for(let Y of He){let se=N.fetchers.get(Y);Ke(se,`Expected fetcher: ${Y}`),se.state==="loading"&&(He.delete(Y),P.push(Y),G=!0)}return W(P),G}function Te(P){let G=[];for(let[Y,se]of Ue)if(se<P){let ce=N.fetchers.get(Y);Ke(ce,`Expected fetcher: ${Y}`),ce.state==="loading"&&(A(Y),Ue.delete(Y),G.push(Y))}return W(G),G.length>0}function je(P,G){let Y=N.blockers.get(P)||Ur;return de.get(P)!==G&&de.set(P,G),Y}function Me(P){N.blockers.delete(P),de.delete(P)}function zt(P,G){let Y=N.blockers.get(P)||Ur;Ke(Y.state==="unblocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="blocked"||Y.state==="blocked"&&G.state==="proceeding"||Y.state==="blocked"&&G.state==="unblocked"||Y.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${G.state}`);let se=new Map(N.blockers);se.set(P,G),mt({blockers:se})}function Et({currentLocation:P,nextLocation:G,historyAction:Y}){if(de.size===0)return;de.size>1&&Bt(!1,"A router only supports one blocker at a time");let se=Array.from(de.entries()),[ce,_e]=se[se.length-1],be=N.blockers.get(ce);if(!(be&&be.state==="proceeding")&&_e({currentLocation:P,nextLocation:G,historyAction:Y}))return ce}function It(P){let G=Ri(404,{pathname:P}),Y=f||u,{matches:se,route:ce}=ro(Y);return{notFoundMatches:se,route:ce,error:G}}function Xi(P,G,Y){if(x=P,R=G,_=Y||null,!M&&N.navigation===Hu){M=!0;let se=qn(N.location,N.matches);se!=null&&mt({restoreScrollPosition:se})}return()=>{x=null,R=null,_=null}}function Bi(P,G){return _&&_(P,G.map(se=>Tv(se,N.loaderData)))||P.key}function di(P,G){if(x&&R){let Y=Bi(P,G);x[Y]=R()}}function qn(P,G){if(x){let Y=Bi(P,G),se=x[Y];if(typeof se=="number")return se}return null}function Li(P,G,Y){if(p.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:so(G,Y,h,!0)}}else return{active:!0,matches:so(G,Y,h,!0)||[]};return{active:!1,matches:null}}async function ha(P,G,Y,se){if(!p.patchRoutesOnNavigation)return{type:"success",matches:P};let ce=P;for(;;){let _e=f==null,be=f||u,Se=l;try{await p.patchRoutesOnNavigation({signal:Y,path:G,matches:ce,fetcherKey:se,patch:(me,ge)=>{Y.aborted||ip(me,ge,be,Se,o,!1)}})}catch(me){return{type:"error",error:me,partialMatches:ce}}finally{_e&&!Y.aborted&&(u=[...u])}if(Y.aborted)return{type:"aborted"};let De=Fn(be,G,h);if(De)return{type:"success",matches:De};let ze=so(be,G,h,!0);if(!ze||ce.length===ze.length&&ce.every((me,ge)=>me.route.id===ze[ge].route.id))return{type:"success",matches:null};ce=ze}}function Ir(P){l={},f=qr(P,o,void 0,l)}function Ia(P,G,Y=!1){let se=f==null;ip(P,G,f||u,l,o,Y),se&&(u=[...u],mt({}))}return Q={get basename(){return h},get future(){return m},get state(){return N},get routes(){return u},get window(){return v},initialize:Xe,subscribe:pt,enableScrollRestoration:Xi,navigate:Hi,fetch:V,revalidate:Yi,createHref:P=>p.history.createHref(P),encodeLocation:P=>p.history.encodeLocation(P),getFetcher:ot,resetFetcher:E,deleteFetcher:D,dispose:xt,getBlocker:je,deleteBlocker:Me,patchRoutes:Ia,_internalFetchControllers:j,_internalSetRoutes:Ir,_internalSetStateDoNotUseOrYouWillBreakYourApp(P){mt(P)}},Q}function Xv(p){return p!=null&&("formData"in p&&p.formData!=null||"body"in p&&p.body!==void 0)}function Nu(p,v,n,a,o,l){let u,f;if(o){u=[];for(let c of v)if(u.push(c),c.route.id===o){f=c;break}}else u=v,f=v[v.length-1];let h=ku(a||".",qu(u),Ci(p.pathname,n)||p.pathname,l==="path");if(a==null&&(h.search=p.search,h.hash=p.hash),(a==null||a===""||a===".")&&f){let c=Xu(h.search);if(f.route.index&&!c)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&c){let m=new URLSearchParams(h.search),g=m.getAll("index");m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let y=m.toString();h.search=y?`?${y}`:""}}return n!=="/"&&(h.pathname=Ov({basename:n,pathname:h.pathname})),Gn(h)}function ep(p,v,n){if(!n||!Xv(n))return{path:v};if(n.formMethod&&!uy(n.formMethod))return{path:v,error:Ri(405,{method:n.formMethod})};let a=()=>({path:v,error:Ri(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=Op(v);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ni(l))return a();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[x,_])=>`${y}${x}=${_}
`,""):String(n.body);return{path:v,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!ni(l))return a();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:v,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return a()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let f,h;if(n.formData)f=ju(n.formData),h=n.formData;else if(n.body instanceof FormData)f=ju(n.body),h=n.body;else if(n.body instanceof URLSearchParams)f=n.body,h=op(f);else if(n.body==null)f=new URLSearchParams,h=new FormData;else try{f=new URLSearchParams(n.body),h=op(f)}catch{return a()}let c={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(ni(c.formMethod))return{path:v,submission:c};let m=Vn(v);return p&&m.search&&Xu(m.search)&&f.append("index",""),m.search=`?${f}`,{path:Gn(m),submission:c}}function tp(p,v,n,a,o,l,u,f,h,c,m,g,y,x,_,R,M,C,H,U){let oe=U?hi(U[1])?U[1].error:U[1].data:void 0,Q=o.createURL(l.location),N=o.createURL(h),ae;if(m&&l.errors){let Re=Object.keys(l.errors)[0];ae=u.findIndex(Ne=>Ne.route.id===Re)}else if(U&&hi(U[1])){let Re=U[0];ae=u.findIndex(Ne=>Ne.route.id===Re)-1}let pe=U?U[1].statusCode:void 0,fe=pe&&pe>=400,Oe={currentUrl:Q,currentParams:l.matches[0]?.params||{},nextUrl:N,nextParams:u[0].params,...f,actionResult:oe,actionStatus:pe},Le=u.map((Re,Ne)=>{let{route:Ve}=Re,j=null;if(ae!=null&&Ne>ae?j=!1:Ve.lazy?j=!0:Yu(Ve)?m?j=Uu(Ve,l.loaderData,l.errors):Iv(l.loaderData,l.matches[Ne],Re)&&(j=!0):j=!1,j!==null)return Fu(n,a,p,Re,c,v,j);let le=fe?!1:g||Q.pathname+Q.search===N.pathname+N.search||Q.search!==N.search||Wv(l.matches[Ne],Re),he={...Oe,defaultShouldRevalidate:le},Ue=go(Re,he);return Fu(n,a,p,Re,c,v,Ue,he)}),we=[];return _.forEach((Re,Ne)=>{if(m||!u.some(K=>K.route.id===Re.routeId)||x.has(Ne))return;let Ve=l.fetchers.get(Ne),j=Ve&&Ve.state!=="idle"&&Ve.data===void 0,le=Fn(M,Re.path,C);if(!le){if(H&&j)return;we.push({key:Ne,routeId:Re.routeId,path:Re.path,matches:null,match:null,request:null,controller:null});return}if(R.has(Ne))return;let he=uo(le,Re.path),Ue=new AbortController,He=Ya(o,Re.path,Ue.signal),B=null;if(y.has(Ne))y.delete(Ne),B=Xa(n,a,He,le,he,c,v);else if(j)g&&(B=Xa(n,a,He,le,he,c,v));else{let K={...Oe,defaultShouldRevalidate:fe?!1:g};go(he,K)&&(B=Xa(n,a,He,le,he,c,v,K))}B&&we.push({key:Ne,routeId:Re.routeId,path:Re.path,matches:B,match:he,request:He,controller:Ue})}),{dsMatches:Le,revalidatingFetchers:we}}function Yu(p){return p.loader!=null||p.middleware!=null&&p.middleware.length>0}function Uu(p,v,n){if(p.lazy)return!0;if(!Yu(p))return!1;let a=v!=null&&p.id in v,o=n!=null&&n[p.id]!==void 0;return!a&&o?!1:typeof p.loader=="function"&&p.loader.hydrate===!0?!0:!a&&!o}function Iv(p,v,n){let a=!v||n.route.id!==v.route.id,o=!p.hasOwnProperty(n.route.id);return a||o}function Wv(p,v){let n=p.route.path;return p.pathname!==v.pathname||n!=null&&n.endsWith("*")&&p.params["*"]!==v.params["*"]}function go(p,v){if(p.route.shouldRevalidate){let n=p.route.shouldRevalidate(v);if(typeof n=="boolean")return n}return v.defaultShouldRevalidate}function ip(p,v,n,a,o,l){let u;if(p){let c=a[p];Ke(c,`No route found to patch children into: routeId = ${p}`),c.children||(c.children=[]),u=c.children}else u=n;let f=[],h=[];if(v.forEach(c=>{let m=u.find(g=>Cp(c,g));m?h.push({existingRoute:m,newRoute:c}):f.push(c)}),f.length>0){let c=qr(f,o,[p||"_","patch",String(u?.length||"0")],a);u.push(...c)}if(l&&h.length>0)for(let c=0;c<h.length;c++){let{existingRoute:m,newRoute:g}=h[c],y=m,[x]=qr([g],o,[],{},!0);Object.assign(y,{element:x.element?x.element:y.element,errorElement:x.errorElement?x.errorElement:y.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:y.hydrateFallbackElement})}}function Cp(p,v){return"id"in p&&"id"in v&&p.id===v.id?!0:p.index===v.index&&p.path===v.path&&p.caseSensitive===v.caseSensitive?(!p.children||p.children.length===0)&&(!v.children||v.children.length===0)?!0:p.children.every((n,a)=>v.children?.some(o=>Cp(n,o))):!1}var np=new WeakMap,Dp=({key:p,route:v,manifest:n,mapRouteProperties:a})=>{let o=n[v.id];if(Ke(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[p];if(!l)return;let u=np.get(o);u||(u={},np.set(o,u));let f=u[p];if(f)return f;let h=(async()=>{let c=mv(p),g=o[p]!==void 0&&p!=="hasErrorBoundary";if(c)Bt(!c,"Route property "+p+" is not a supported lazy route property. This property will be ignored."),u[p]=Promise.resolve();else if(g)Bt(!1,`Route "${o.id}" has a static property "${p}" defined. The lazy property will be ignored.`);else{let y=await l();y!=null&&(Object.assign(o,{[p]:y}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[p]=void 0,Object.values(o.lazy).every(y=>y===void 0)&&(o.lazy=void 0))})();return u[p]=h,h},ap=new WeakMap;function Qv(p,v,n,a,o){let l=n[p.id];if(Ke(l,"No route found in manifest"),!p.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof p.lazy=="function"){let m=ap.get(l);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let g=(async()=>{Ke(typeof p.lazy=="function","No lazy route function found");let y=await p.lazy(),x={};for(let _ in y){let R=y[_];if(R===void 0)continue;let M=vv(_),H=l[_]!==void 0&&_!=="hasErrorBoundary";M?Bt(!M,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):H?Bt(!H,`Route "${l.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):x[_]=R}Object.assign(l,x),Object.assign(l,{...a(l),lazy:void 0})})();return ap.set(l,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let u=Object.keys(p.lazy),f=[],h;for(let m of u){if(o&&o.includes(m))continue;let g=Dp({key:m,route:p,manifest:n,mapRouteProperties:a});g&&(f.push(g),m===v&&(h=g))}let c=f.length>0?Promise.all(f).then(()=>{}):void 0;return c?.catch(()=>{}),h?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:h}}async function rp(p){let v=p.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(v.map(o=>o.resolve()))).forEach((o,l)=>{n[v[l].route.id]=o}),n}async function Kv(p){return p.matches.some(v=>v.route.middleware)?zp(p,()=>rp(p)):rp(p)}function zp(p,v){return Jv(p,v,a=>a,ly,n);function n(a,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:a}}));{let{matches:u}=p,f=Math.min(Math.max(u.findIndex(c=>c.route.id===o),0),Math.max(u.findIndex(c=>c.unstable_shouldCallHandler()),0)),h=jn(u,u[f].route.id).route.id;return Promise.resolve({[h]:{type:"error",result:a}})}}}async function Jv(p,v,n,a,o){let{matches:l,request:u,params:f,context:h}=p,c=l.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await Mp({request:u,params:f,context:h},c,v,n,a,o)}async function Mp(p,v,n,a,o,l,u=0){let{request:f}=p;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let h=v[u];if(!h)return await n();let[c,m]=h,g,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await Mp(p,v,n,a,o,l,u+1)},g.value}catch(x){return g={value:await l(x,c,g)},g.value}};try{let x=await m(p,y),_=x!=null?a(x):void 0;return o(_)?_:g?_??g.value:(g={value:await y()},g.value)}catch(x){return await l(x,c,g)}}function Ap(p,v,n,a,o){let l=Dp({key:"middleware",route:a.route,manifest:v,mapRouteProperties:p}),u=Qv(a.route,ni(n.method)?"action":"loader",v,p,o);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Fu(p,v,n,a,o,l,u,f=null){let h=!1,c=Ap(p,v,n,a,o);return{...a,_lazyPromises:c,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(m){return h=!0,f?typeof m=="boolean"?go(a,{...f,defaultShouldRevalidate:m}):go(a,f):u},resolve(m){let{lazy:g,loader:y,middleware:x}=a.route,_=h||u||m&&!ni(n.method)&&(g||y),R=x&&x.length>0&&!y&&!g;return _&&!R?ey({request:n,match:a,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:m,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Xa(p,v,n,a,o,l,u,f=null){return a.map(h=>h.route.id!==o.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ap(p,v,n,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Fu(p,v,n,h,l,u,!0,f))}async function $v(p,v,n,a,o,l){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let u={request:v,params:n[0].params,context:o,matches:n},h=await p({...u,fetcherKey:a,runClientMiddleware:c=>{let m=u;return zp(m,()=>c({...m,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return h}async function ey({request:p,match:v,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:l}){let u,f,h=ni(p.method),c=h?"action":"loader",m=g=>{let y,x=new Promise((M,C)=>y=C);f=()=>y(),p.signal.addEventListener("abort",f);let _=M=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${v.route.id}]`)):g({request:p,params:v.params,context:l},...M!==void 0?[M]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(C=>_(C)):_())}}catch(M){return{type:"error",result:M}}})();return Promise.race([R,x])};try{let g=h?v.route.action:v.route.loader;if(n||a)if(g){let y,[x]=await Promise.all([m(g).catch(_=>{y=_}),n,a]);if(y!==void 0)throw y;u=x}else{await n;let y=h?v.route.action:v.route.loader;if(y)[u]=await Promise.all([m(y),a]);else if(c==="action"){let x=new URL(p.url),_=x.pathname+x.search;throw Ri(405,{method:p.method,pathname:_,routeId:v.route.id})}else return{type:"data",result:void 0}}else if(g)u=await m(g);else{let y=new URL(p.url),x=y.pathname+y.search;throw Ri(404,{pathname:x})}}catch(g){return{type:"error",result:g}}finally{f&&p.signal.removeEventListener("abort",f)}return u}async function ty(p){let v=p.headers.get("Content-Type");return v&&/\bapplication\/json\b/.test(v)?p.body==null?null:p.json():p.text()}async function iy(p){let{result:v,type:n}=p;if(Pp(v)){let a;try{a=await ty(v)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new mo(v.status,v.statusText,a),statusCode:v.status,headers:v.headers}:{type:"data",data:a,statusCode:v.status,headers:v.headers}}return n==="error"?hp(v)?v.data instanceof Error?{type:"error",error:v.data,statusCode:v.init?.status,headers:v.init?.headers?new Headers(v.init.headers):void 0}:{type:"error",error:new mo(v.init?.status||500,void 0,v.data),statusCode:kr(v)?v.status:void 0,headers:v.init?.headers?new Headers(v.init.headers):void 0}:{type:"error",error:v,statusCode:kr(v)?v.status:void 0}:hp(v)?{type:"data",data:v.data,statusCode:v.init?.status,headers:v.init?.headers?new Headers(v.init.headers):void 0}:{type:"data",data:v}}function ny(p,v,n,a,o){let l=p.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zu(l)){let u=a.slice(0,a.findIndex(f=>f.route.id===n)+1);l=Nu(new URL(v.url),u,o,l),p.headers.set("Location",l)}return p}function lp(p,v,n){if(Zu(p)){let a=p,o=a.startsWith("//")?new URL(v.protocol+a):new URL(a),l=Ci(o.pathname,n)!=null;if(o.origin===v.origin&&l)return o.pathname+o.search+o.hash}return p}function Ya(p,v,n,a){let o=p.createURL(Op(v)).toString(),l={signal:n};if(a&&ni(a.formMethod)){let{formMethod:u,formEncType:f}=a;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(a.json)):f==="text/plain"?l.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?l.body=ju(a.formData):l.body=a.formData}return new Request(o,l)}function ju(p){let v=new URLSearchParams;for(let[n,a]of p.entries())v.append(n,typeof a=="string"?a:a.name);return v}function op(p){let v=new FormData;for(let[n,a]of p.entries())v.append(n,a);return v}function ay(p,v,n,a=!1,o=!1){let l={},u=null,f,h=!1,c={},m=n&&hi(n[1])?n[1].error:void 0;return p.forEach(g=>{if(!(g.route.id in v))return;let y=g.route.id,x=v[y];if(Ke(!sa(x),"Cannot handle redirect results in processLoaderData"),hi(x)){let _=x.error;if(m!==void 0&&(_=m,m=void 0),u=u||{},o)u[y]=_;else{let R=jn(p,y);u[R.route.id]==null&&(u[R.route.id]=_)}a||(l[y]=Rp),h||(h=!0,f=kr(x.error)?x.error.status:500),x.headers&&(c[y]=x.headers)}else l[y]=x.data,x.statusCode&&x.statusCode!==200&&!h&&(f=x.statusCode),x.headers&&(c[y]=x.headers)}),m!==void 0&&n&&(u={[n[0]]:m},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:c}}function sp(p,v,n,a,o,l){let{loaderData:u,errors:f}=ay(v,n,a);return o.filter(h=>!h.matches||h.matches.some(c=>c.shouldLoad)).forEach(h=>{let{key:c,match:m,controller:g}=h;if(g&&g.signal.aborted)return;let y=l[c];if(Ke(y,"Did not find corresponding fetcher result"),hi(y)){let x=jn(p.matches,m?.route.id);f&&f[x.route.id]||(f={...f,[x.route.id]:y.error}),p.fetchers.delete(c)}else if(sa(y))Ke(!1,"Unhandled fetcher revalidation redirect");else{let x=pn(y.data);p.fetchers.set(c,x)}}),{loaderData:u,errors:f}}function up(p,v,n,a){let o=Object.entries(v).filter(([,l])=>l!==Rp).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of n){let u=l.route.id;if(!v.hasOwnProperty(u)&&p.hasOwnProperty(u)&&l.route.loader&&(o[u]=p[u]),a&&a.hasOwnProperty(u))break}return o}function cp(p){return p?hi(p[1])?{actionData:{}}:{actionData:{[p[0]]:p[1].data}}:{}}function jn(p,v){return(v?p.slice(0,p.findIndex(a=>a.route.id===v)+1):[...p]).reverse().find(a=>a.route.hasErrorBoundary===!0)||p[0]}function ro(p){let v=p.length===1?p[0]:p.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:v}],route:v}}function Ri(p,{pathname:v,routeId:n,method:a,type:o,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return p===400?(u="Bad Request",a&&v&&n?f=`You made a ${a} request to "${v}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):p===403?(u="Forbidden",f=`Route "${n}" does not match URL "${v}"`):p===404?(u="Not Found",f=`No route matches URL "${v}"`):p===405&&(u="Method Not Allowed",a&&v&&n?f=`You made a ${a.toUpperCase()} request to "${v}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(f=`Invalid request method "${a.toUpperCase()}"`)),new mo(p||500,u,new Error(f),!0)}function lo(p){let v=Object.entries(p);for(let n=v.length-1;n>=0;n--){let[a,o]=v[n];if(sa(o))return{key:a,result:o}}}function Op(p){let v=typeof p=="string"?Vn(p):p;return Gn({...v,hash:""})}function ry(p,v){return p.pathname!==v.pathname||p.search!==v.search?!1:p.hash===""?v.hash!=="":p.hash===v.hash?!0:v.hash!==""}function ly(p){return p!=null&&typeof p=="object"&&Object.entries(p).every(([v,n])=>typeof v=="string"&&oy(n))}function oy(p){return p!=null&&typeof p=="object"&&"type"in p&&"result"in p&&(p.type==="data"||p.type==="error")}function sy(p){return Pp(p.result)&&Gv.has(p.result.status)}function hi(p){return p.type==="error"}function sa(p){return(p&&p.type)==="redirect"}function hp(p){return typeof p=="object"&&p!=null&&"type"in p&&"data"in p&&"init"in p&&p.type==="DataWithResponseInit"}function Pp(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.headers=="object"&&typeof p.body<"u"}function uy(p){return jv.has(p.toUpperCase())}function ni(p){return Uv.has(p.toUpperCase())}function Xu(p){return new URLSearchParams(p).getAll("index").some(v=>v==="")}function uo(p,v){let n=typeof v=="string"?Vn(v).search:v.search;if(p[p.length-1].route.index&&Xu(n||""))return p[p.length-1];let a=xp(p);return a[a.length-1]}function fp(p){let{formMethod:v,formAction:n,formEncType:a,text:o,formData:l,json:u}=p;if(!(!v||!n||!a)){if(o!=null)return{formMethod:v,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:v,formAction:n,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:v,formAction:n,formEncType:a,formData:void 0,json:u,text:void 0}}}function Bu(p,v){return v?{state:"loading",location:p,formMethod:v.formMethod,formAction:v.formAction,formEncType:v.formEncType,formData:v.formData,json:v.json,text:v.text}:{state:"loading",location:p,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cy(p,v){return{state:"submitting",location:p,formMethod:v.formMethod,formAction:v.formAction,formEncType:v.formEncType,formData:v.formData,json:v.json,text:v.text}}function Fr(p,v){return p?{state:"loading",formMethod:p.formMethod,formAction:p.formAction,formEncType:p.formEncType,formData:p.formData,json:p.json,text:p.text,data:v}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:v}}function hy(p,v){return{state:"submitting",formMethod:p.formMethod,formAction:p.formAction,formEncType:p.formEncType,formData:p.formData,json:p.json,text:p.text,data:v?v.data:void 0}}function pn(p){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:p}}function fy(p,v){try{let n=p.sessionStorage.getItem(bp);if(n){let a=JSON.parse(n);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&v.set(o,new Set(l||[]))}}catch{}}function dy(p,v){if(v.size>0){let n={};for(let[a,o]of v)n[a]=[...o];try{p.sessionStorage.setItem(bp,JSON.stringify(n))}catch(a){Bt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function py(){let p,v,n=new Promise((a,o)=>{p=async l=>{a(l);try{await n}catch{}},v=async l=>{o(l);try{await n}catch{}}});return{promise:n,resolve:p,reject:v}}var ua=I.createContext(null);ua.displayName="DataRouter";var Zr=I.createContext(null);Zr.displayName="DataRouterState";I.createContext(!1);var Iu=I.createContext({isTransitioning:!1});Iu.displayName="ViewTransition";var Hp=I.createContext(new Map);Hp.displayName="Fetchers";var my=I.createContext(null);my.displayName="Await";var Zi=I.createContext(null);Zi.displayName="Navigation";var vo=I.createContext(null);vo.displayName="Location";var mn=I.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var Wu=I.createContext(null);Wu.displayName="RouteError";function gy(p,{relative:v}={}){Ke(Yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=I.useContext(Zi),{hash:o,pathname:l,search:u}=Xr(p,{relative:v}),f=l;return n!=="/"&&(f=l==="/"?n:ki([n,l])),a.createHref({pathname:f,search:u,hash:o})}function Yr(){return I.useContext(vo)!=null}function ca(){return Ke(Yr(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(vo).location}var Bp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lp(p){I.useContext(Zi).static||I.useLayoutEffect(p)}function Np(){let{isDataRoute:p}=I.useContext(mn);return p?zy():vy()}function vy(){Ke(Yr(),"useNavigate() may be used only in the context of a <Router> component.");let p=I.useContext(ua),{basename:v,navigator:n}=I.useContext(Zi),{matches:a}=I.useContext(mn),{pathname:o}=ca(),l=JSON.stringify(qu(a)),u=I.useRef(!1);return Lp(()=>{u.current=!0}),I.useCallback((h,c={})=>{if(Bt(u.current,Bp),!u.current)return;if(typeof h=="number"){n.go(h);return}let m=ku(h,JSON.parse(l),o,c.relative==="path");p==null&&v!=="/"&&(m.pathname=m.pathname==="/"?v:ki([v,m.pathname])),(c.replace?n.replace:n.push)(m,c.state,c)},[v,n,l,o,p])}I.createContext(null);function Xr(p,{relative:v}={}){let{matches:n}=I.useContext(mn),{pathname:a}=ca(),o=JSON.stringify(qu(n));return I.useMemo(()=>ku(p,JSON.parse(o),a,v==="path"),[p,o,a,v])}function yy(p,v,n,a,o){Ke(Yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Zi),{matches:u}=I.useContext(mn),f=u[u.length-1],h=f?f.params:{},c=f?f.pathname:"/",m=f?f.pathnameBase:"/",g=f&&f.route;{let H=g&&g.path||"";Up(c,!g||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let y=ca(),x;x=y;let _=x.pathname||"/",R=_;if(m!=="/"){let H=m.replace(/^\//,"").split("/");R="/"+_.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=Fn(p,{pathname:R});return Bt(g||M!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Bt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xy(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:ki([m,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?m:ki([m,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,n,a,o)}function Ty(){let p=Dy(),v=kr(p)?`${p.status} ${p.statusText}`:p instanceof Error?p.message:JSON.stringify(p),n=p instanceof Error?p.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",p),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},v),n?I.createElement("pre",{style:o},n):null,u)}var wy=I.createElement(Ty,null),Sy=class extends I.Component{constructor(p){super(p),this.state={location:p.location,revalidation:p.revalidation,error:p.error}}static getDerivedStateFromError(p){return{error:p}}static getDerivedStateFromProps(p,v){return v.location!==p.location||v.revalidation!=="idle"&&p.revalidation==="idle"?{error:p.error,location:p.location,revalidation:p.revalidation}:{error:p.error!==void 0?p.error:v.error,location:v.location,revalidation:p.revalidation||v.revalidation}}componentDidCatch(p,v){this.props.unstable_onError?this.props.unstable_onError(p,v):console.error("React Router caught the following error during render",p)}render(){return this.state.error!==void 0?I.createElement(mn.Provider,{value:this.props.routeContext},I.createElement(Wu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ey({routeContext:p,match:v,children:n}){let a=I.useContext(ua);return a&&a.static&&a.staticContext&&(v.route.errorElement||v.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=v.route.id),I.createElement(mn.Provider,{value:p},n)}function xy(p,v=[],n=null,a=null,o=null){if(p==null){if(!n)return null;if(n.errors)p=n.matches;else if(v.length===0&&!n.initialized&&n.matches.length>0)p=n.matches;else return null}let l=p,u=n?.errors;if(u!=null){let c=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);Ke(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,c+1))}let f=!1,h=-1;if(n)for(let c=0;c<l.length;c++){let m=l[c];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=c),m.route.id){let{loaderData:g,errors:y}=n,x=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((c,m,g)=>{let y,x=!1,_=null,R=null;n&&(y=u&&m.route.id?u[m.route.id]:void 0,_=m.route.errorElement||wy,f&&(h<0&&g===0?(Up("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):h===g&&(x=!0,R=m.route.hydrateFallbackElement||null)));let M=v.concat(l.slice(0,g+1)),C=()=>{let H;return y?H=_:x?H=R:m.route.Component?H=I.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=c,I.createElement(Ey,{match:m,routeContext:{outlet:c,matches:M,isDataRoute:n!=null},children:H})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?I.createElement(Sy,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:C(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:a}):C()},null)}function Qu(p){return`${p} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _y(p){let v=I.useContext(ua);return Ke(v,Qu(p)),v}function by(p){let v=I.useContext(Zr);return Ke(v,Qu(p)),v}function Ry(p){let v=I.useContext(mn);return Ke(v,Qu(p)),v}function Ku(p){let v=Ry(p),n=v.matches[v.matches.length-1];return Ke(n.route.id,`${p} can only be used on routes that contain a unique "id"`),n.route.id}function Cy(){return Ku("useRouteId")}function Dy(){let p=I.useContext(Wu),v=by("useRouteError"),n=Ku("useRouteError");return p!==void 0?p:v.errors?.[n]}function zy(){let{router:p}=_y("useNavigate"),v=Ku("useNavigate"),n=I.useRef(!1);return Lp(()=>{n.current=!0}),I.useCallback(async(o,l={})=>{Bt(n.current,Bp),n.current&&(typeof o=="number"?p.navigate(o):await p.navigate(o,{fromRouteId:v,...l}))},[p,v])}var dp={};function Up(p,v,n){!v&&!dp[p]&&(dp[p]=!0,Bt(!1,n))}var pp={};function mp(p,v){!p&&!pp[v]&&(pp[v]=!0,console.warn(v))}function My(p){let v={hasErrorBoundary:p.hasErrorBoundary||p.ErrorBoundary!=null||p.errorElement!=null};return p.Component&&(p.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(v,{element:I.createElement(p.Component),Component:void 0})),p.HydrateFallback&&(p.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(v,{hydrateFallbackElement:I.createElement(p.HydrateFallback),HydrateFallback:void 0})),p.ErrorBoundary&&(p.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(v,{errorElement:I.createElement(p.ErrorBoundary),ErrorBoundary:void 0})),v}var Ay=["HydrateFallback","hydrateFallbackElement"],Oy=class{constructor(){this.status="pending",this.promise=new Promise((p,v)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",p(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",v(n))}})}};function Py({router:p,flushSync:v,unstable_onError:n}){let[a,o]=I.useState(p.state),[l,u]=I.useState(),[f,h]=I.useState({isTransitioning:!1}),[c,m]=I.useState(),[g,y]=I.useState(),[x,_]=I.useState(),R=I.useRef(new Map),M=I.useCallback(Q=>{o(N=>(Q.errors&&n&&Object.entries(Q.errors).forEach(([ae,pe])=>{N.errors?.[ae]!==pe&&n(pe)}),Q))},[n]),C=I.useCallback((Q,{deletedFetchers:N,flushSync:ae,viewTransitionOpts:pe})=>{Q.fetchers.forEach((Oe,Le)=>{Oe.data!==void 0&&R.current.set(Le,Oe.data)}),N.forEach(Oe=>R.current.delete(Oe)),mp(ae===!1||v!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let fe=p.window!=null&&p.window.document!=null&&typeof p.window.document.startViewTransition=="function";if(mp(pe==null||fe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!pe||!fe){v&&ae?v(()=>M(Q)):I.startTransition(()=>M(Q));return}if(v&&ae){v(()=>{g&&(c&&c.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let Oe=p.window.document.startViewTransition(()=>{v(()=>M(Q))});Oe.finished.finally(()=>{v(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})})}),v(()=>y(Oe));return}g?(c&&c.resolve(),g.skipTransition(),_({state:Q,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(u(Q),h({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[p.window,v,g,c,M]);I.useLayoutEffect(()=>p.subscribe(C),[p,C]),I.useEffect(()=>{f.isTransitioning&&!f.flushSync&&m(new Oy)},[f]),I.useEffect(()=>{if(c&&l&&p.window){let Q=l,N=c.promise,ae=p.window.document.startViewTransition(async()=>{I.startTransition(()=>M(Q)),await N});ae.finished.finally(()=>{m(void 0),y(void 0),u(void 0),h({isTransitioning:!1})}),y(ae)}},[l,c,p.window,M]),I.useEffect(()=>{c&&l&&a.location.key===l.location.key&&c.resolve()},[c,g,a.location,l]),I.useEffect(()=>{!f.isTransitioning&&x&&(u(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),_(void 0))},[f.isTransitioning,x]);let H=I.useMemo(()=>({createHref:p.createHref,encodeLocation:p.encodeLocation,go:Q=>p.navigate(Q),push:(Q,N,ae)=>p.navigate(Q,{state:N,preventScrollReset:ae?.preventScrollReset}),replace:(Q,N,ae)=>p.navigate(Q,{replace:!0,state:N,preventScrollReset:ae?.preventScrollReset})}),[p]),U=p.basename||"/",oe=I.useMemo(()=>({router:p,navigator:H,static:!1,basename:U,unstable_onError:n}),[p,H,U,n]);return I.createElement(I.Fragment,null,I.createElement(ua.Provider,{value:oe},I.createElement(Zr.Provider,{value:a},I.createElement(Hp.Provider,{value:R.current},I.createElement(Iu.Provider,{value:f},I.createElement(Ly,{basename:U,location:a.location,navigationType:a.historyAction,navigator:H},I.createElement(Hy,{routes:p.routes,future:p.future,state:a,unstable_onError:n})))))),null)}var Hy=I.memo(By);function By({routes:p,future:v,state:n,unstable_onError:a}){return yy(p,void 0,n,a,v)}function Ly({basename:p="/",children:v=null,location:n,navigationType:a="POP",navigator:o,static:l=!1}){Ke(!Yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=p.replace(/^\/*/,"/"),f=I.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=Vn(n));let{pathname:h="/",search:c="",hash:m="",state:g=null,key:y="default"}=n,x=I.useMemo(()=>{let _=Ci(h,u);return _==null?null:{location:{pathname:_,search:c,hash:m,state:g,key:y},navigationType:a}},[u,h,c,m,g,y,a]);return Bt(x!=null,`<Router basename="${u}"> is not able to match the URL "${h}${c}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:I.createElement(Zi.Provider,{value:f},I.createElement(vo.Provider,{children:v,value:x}))}var co="get",ho="application/x-www-form-urlencoded";function yo(p){return p!=null&&typeof p.tagName=="string"}function Ny(p){return yo(p)&&p.tagName.toLowerCase()==="button"}function Uy(p){return yo(p)&&p.tagName.toLowerCase()==="form"}function Fy(p){return yo(p)&&p.tagName.toLowerCase()==="input"}function jy(p){return!!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)}function Gy(p,v){return p.button===0&&(!v||v==="_self")&&!jy(p)}var oo=null;function Vy(){if(oo===null)try{new FormData(document.createElement("form"),0),oo=!1}catch{oo=!0}return oo}var qy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lu(p){return p!=null&&!qy.has(p)?(Bt(!1,`"${p}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ho}"`),null):p}function ky(p,v){let n,a,o,l,u;if(Uy(p)){let f=p.getAttribute("action");a=f?Ci(f,v):null,n=p.getAttribute("method")||co,o=Lu(p.getAttribute("enctype"))||ho,l=new FormData(p)}else if(Ny(p)||Fy(p)&&(p.type==="submit"||p.type==="image")){let f=p.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=p.getAttribute("formaction")||f.getAttribute("action");if(a=h?Ci(h,v):null,n=p.getAttribute("formmethod")||f.getAttribute("method")||co,o=Lu(p.getAttribute("formenctype"))||Lu(f.getAttribute("enctype"))||ho,l=new FormData(f,p),!Vy()){let{name:c,type:m,value:g}=p;if(m==="image"){let y=c?`${c}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else c&&l.append(c,g)}}else{if(yo(p))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=co,a=null,o=ho,u=p}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ju(p,v){if(p===!1||p===null||typeof p>"u")throw new Error(v)}function Zy(p,v,n){let a=typeof p=="string"?new URL(p,typeof window>"u"?"server://singlefetch/":window.location.origin):p;return a.pathname==="/"?a.pathname=`_root.${n}`:v&&Ci(a.pathname,v)==="/"?a.pathname=`${v.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Yy(p,v){if(p.id in v)return v[p.id];try{let n=await import(p.module);return v[p.id]=n,n}catch(n){return console.error(`Error loading route module \`${p.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xy(p){return p==null?!1:p.href==null?p.rel==="preload"&&typeof p.imageSrcSet=="string"&&typeof p.imageSizes=="string":typeof p.rel=="string"&&typeof p.href=="string"}async function Iy(p,v,n){let a=await Promise.all(p.map(async o=>{let l=v.routes[o.route.id];if(l){let u=await Yy(l,n);return u.links?u.links():[]}return[]}));return Jy(a.flat(1).filter(Xy).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gp(p,v,n,a,o,l){let u=(h,c)=>n[c]?h.route.id!==n[c].route.id:!0,f=(h,c)=>n[c].pathname!==h.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==h.params["*"];return l==="assets"?v.filter((h,c)=>u(h,c)||f(h,c)):l==="data"?v.filter((h,c)=>{let m=a.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,c)||f(h,c))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(p,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Wy(p,v,{includeHydrateFallback:n}={}){return Qy(p.map(a=>{let o=v.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Qy(p){return[...new Set(p)]}function Ky(p){let v={},n=Object.keys(p).sort();for(let a of n)v[a]=p[a];return v}function Jy(p,v){let n=new Set;return new Set(v),p.reduce((a,o)=>{let l=JSON.stringify(Ky(o));return n.has(l)||(n.add(l),a.push({key:l,link:o})),a},[])}function Fp(){let p=I.useContext(ua);return Ju(p,"You must render this element inside a <DataRouterContext.Provider> element"),p}function $y(){let p=I.useContext(Zr);return Ju(p,"You must render this element inside a <DataRouterStateContext.Provider> element"),p}var $u=I.createContext(void 0);$u.displayName="FrameworkContext";function jp(){let p=I.useContext($u);return Ju(p,"You must render this element inside a <HydratedRouter> element"),p}function e0(p,v){let n=I.useContext($u),[a,o]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:c,onMouseLeave:m,onTouchStart:g}=v,y=I.useRef(null);I.useEffect(()=>{if(p==="render"&&u(!0),p==="viewport"){let R=C=>{C.forEach(H=>{u(H.isIntersecting)})},M=new IntersectionObserver(R,{threshold:.5});return y.current&&M.observe(y.current),()=>{M.disconnect()}}},[p]),I.useEffect(()=>{if(a){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[a]);let x=()=>{o(!0)},_=()=>{o(!1),u(!1)};return n?p!=="intent"?[l,y,{}]:[l,y,{onFocus:jr(f,x),onBlur:jr(h,_),onMouseEnter:jr(c,x),onMouseLeave:jr(m,_),onTouchStart:jr(g,x)}]:[!1,y,{}]}function jr(p,v){return n=>{p&&p(n),n.defaultPrevented||v(n)}}function t0({page:p,...v}){let{router:n}=Fp(),a=I.useMemo(()=>Fn(n.routes,p,n.basename),[n.routes,p,n.basename]);return a?I.createElement(n0,{page:p,matches:a,...v}):null}function i0(p){let{manifest:v,routeModules:n}=jp(),[a,o]=I.useState([]);return I.useEffect(()=>{let l=!1;return Iy(p,v,n).then(u=>{l||o(u)}),()=>{l=!0}},[p,v,n]),a}function n0({page:p,matches:v,...n}){let a=ca(),{manifest:o,routeModules:l}=jp(),{basename:u}=Fp(),{loaderData:f,matches:h}=$y(),c=I.useMemo(()=>gp(p,v,h,o,a,"data"),[p,v,h,o,a]),m=I.useMemo(()=>gp(p,v,h,o,a,"assets"),[p,v,h,o,a]),g=I.useMemo(()=>{if(p===a.pathname+a.search+a.hash)return[];let _=new Set,R=!1;if(v.forEach(C=>{let H=o.routes[C.route.id];!H||!H.hasLoader||(!c.some(U=>U.route.id===C.route.id)&&C.route.id in f&&l[C.route.id]?.shouldRevalidate||H.hasClientLoader?R=!0:_.add(C.route.id))}),_.size===0)return[];let M=Zy(p,u,"data");return R&&_.size>0&&M.searchParams.set("_routes",v.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[M.pathname+M.search]},[u,f,a,o,c,v,p,l]),y=I.useMemo(()=>Wy(m,o),[m,o]),x=i0(m);return I.createElement(I.Fragment,null,g.map(_=>I.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>I.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),x.map(({key:_,link:R})=>I.createElement("link",{key:_,nonce:n.nonce,...R})))}function a0(...p){return v=>{p.forEach(n=>{typeof n=="function"?n(v):n!=null&&(n.current=v)})}}var Gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gp&&(window.__reactRouterVersion="7.9.3")}catch{}function r0(p,v){return Yv({basename:v?.basename,getContext:v?.getContext,future:v?.future,history:hv({window:v?.window}),hydrationData:l0(),routes:p,mapRouteProperties:My,hydrationRouteProperties:Ay,dataStrategy:v?.dataStrategy,patchRoutesOnNavigation:v?.patchRoutesOnNavigation,window:v?.window}).initialize()}function l0(){let p=window?.__staticRouterHydrationData;return p&&p.errors&&(p={...p,errors:o0(p.errors)}),p}function o0(p){if(!p)return null;let v=Object.entries(p),n={};for(let[a,o]of v)if(o&&o.__type==="RouteErrorResponse")n[a]=new mo(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let u=new l(o.message);u.stack="",n[a]=u}catch{}}if(n[a]==null){let l=new Error(o.message);l.stack="",n[a]=l}}else n[a]=o;return n}var Vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=I.forwardRef(function({onClick:v,discover:n="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:f,target:h,to:c,preventScrollReset:m,viewTransition:g,...y},x){let{basename:_}=I.useContext(Zi),R=typeof c=="string"&&Vp.test(c),M,C=!1;if(typeof c=="string"&&R&&(M=c,Gp))try{let fe=new URL(window.location.href),Oe=c.startsWith("//")?new URL(fe.protocol+c):new URL(c),Le=Ci(Oe.pathname,_);Oe.origin===fe.origin&&Le!=null?c=Le+Oe.search+Oe.hash:C=!0}catch{Bt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=gy(c,{relative:o}),[U,oe,Q]=e0(a,y),N=h0(c,{replace:u,state:f,target:h,preventScrollReset:m,relative:o,viewTransition:g});function ae(fe){v&&v(fe),fe.defaultPrevented||N(fe)}let pe=I.createElement("a",{...y,...Q,href:M||H,onClick:C||l?v:ae,ref:a0(x,oe),target:h,"data-discover":!R&&n==="render"?"true":void 0});return U&&!R?I.createElement(I.Fragment,null,pe,I.createElement(t0,{page:H})):pe});qp.displayName="Link";var s0=I.forwardRef(function({"aria-current":v="page",caseSensitive:n=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:f,children:h,...c},m){let g=Xr(u,{relative:c.relative}),y=ca(),x=I.useContext(Zr),{navigator:_,basename:R}=I.useContext(Zi),M=x!=null&&g0(g)&&f===!0,C=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,H=y.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(H=H.toLowerCase(),U=U?U.toLowerCase():null,C=C.toLowerCase()),U&&R&&(U=Ci(U,R)||U);const oe=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Q=H===C||!o&&H.startsWith(C)&&H.charAt(oe)==="/",N=U!=null&&(U===C||!o&&U.startsWith(C)&&U.charAt(C.length)==="/"),ae={isActive:Q,isPending:N,isTransitioning:M},pe=Q?v:void 0,fe;typeof a=="function"?fe=a(ae):fe=[a,Q?"active":null,N?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof l=="function"?l(ae):l;return I.createElement(qp,{...c,"aria-current":pe,className:fe,ref:m,style:Oe,to:u,viewTransition:f},typeof h=="function"?h(ae):h)});s0.displayName="NavLink";var u0=I.forwardRef(({discover:p="render",fetcherKey:v,navigate:n,reloadDocument:a,replace:o,state:l,method:u=co,action:f,onSubmit:h,relative:c,preventScrollReset:m,viewTransition:g,...y},x)=>{let _=p0(),R=m0(f,{relative:c}),M=u.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&Vp.test(f),H=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let oe=U.nativeEvent.submitter,Q=oe?.getAttribute("formmethod")||u;_(oe||U.currentTarget,{fetcherKey:v,method:Q,navigate:n,replace:o,state:l,relative:c,preventScrollReset:m,viewTransition:g})};return I.createElement("form",{ref:x,method:M,action:R,onSubmit:a?h:H,...y,"data-discover":!C&&p==="render"?"true":void 0})});u0.displayName="Form";function c0(p){return`${p} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kp(p){let v=I.useContext(ua);return Ke(v,c0(p)),v}function h0(p,{target:v,replace:n,state:a,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=Np(),h=ca(),c=Xr(p,{relative:l});return I.useCallback(m=>{if(Gy(m,v)){m.preventDefault();let g=n!==void 0?n:Gn(h)===Gn(c);f(p,{replace:g,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[h,f,c,n,a,v,p,o,l,u])}var f0=0,d0=()=>`__${String(++f0)}__`;function p0(){let{router:p}=kp("useSubmit"),{basename:v}=I.useContext(Zi),n=Cy();return I.useCallback(async(a,o={})=>{let{action:l,method:u,encType:f,formData:h,body:c}=ky(a,v);if(o.navigate===!1){let m=o.fetcherKey||d0();await p.fetch(m,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:c,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await p.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:c,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[p,v,n])}function m0(p,{relative:v}={}){let{basename:n}=I.useContext(Zi),a=I.useContext(mn);Ke(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Xr(p||".",{relative:v})},u=ca();if(p==null){l.search=u.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(m=>m==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let m=f.toString();l.search=m?`?${m}`:""}}return(!p||p===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ki([n,l.pathname])),Gn(l)}function g0(p,{relative:v}={}){let n=I.useContext(Iu);Ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kp("useViewTransitionState"),o=Xr(p,{relative:v});if(!n.isTransitioning)return!1;let l=Ci(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Ci(n.nextLocation.pathname,a)||n.nextLocation.pathname;return po(o.pathname,u)!=null||po(o.pathname,l)!=null}var v0=yp();function y0(p){return I.createElement(Py,{flushSync:v0.flushSync,...p})}const T0=()=>it.jsxs("div",{className:"content",children:[it.jsx("h1",{children:"Cosmic quest"}),it.jsx("div",{className:"line"}),it.jsx("p",{children:"Explore outer space in a way"}),it.jsx("p",{children:"you've never seen before"}),it.jsx("span",{className:"press-key",children:"Press Enter to start"})]}),w0="/assets/space-video-B1DXBCJM.mp4",S0=()=>{const p=Np();return I.useEffect(()=>{const v=n=>{n.key==="Enter"&&(console.log("Tecla Enter pressionada! Navegando para /home..."),p("/home"))};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),it.jsxs("div",{className:"fullscreen-video-container",children:[it.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,id:"background-video",src:w0}),it.jsx(T0,{})]})},E0=()=>it.jsx("div",{className:"App",children:it.jsx(S0,{})});var fo={exports:{}},x0=fo.exports,vp;function _0(){return vp||(vp=1,(function(p){//! openseadragon 5.0.1
//! Built on 2024-12-09
//! Git commit: v5.0.1-0-480de92d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function v(n){return new v.Viewer(n)}(function(n){n.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},o=Object.prototype.toString,l=Object.prototype.hasOwnProperty;n.isFunction=function(u){return n.type(u)==="function"},n.isArray=Array.isArray||function(u){return n.type(u)==="array"},n.isWindow=function(u){return u&&typeof u=="object"&&"setInterval"in u},n.type=function(u){return u==null?String(u):a[o.call(u)]||"object"},n.isPlainObject=function(u){if(!u||v.type(u)!=="object"||u.nodeType||n.isWindow(u)||u.constructor&&!l.call(u,"constructor")&&!l.call(u.constructor.prototype,"isPrototypeOf"))return!1;var f;for(var h in u)f=h;return f===void 0||l.call(u,f)},n.isEmptyObject=function(u){for(var f in u)return!1;return!0},n.freezeObject=function(u){return Object.freeze?n.freezeObject=Object.freeze:n.freezeObject=function(f){return f},n.freezeObject(u)},n.supportsCanvas=(function(){var u=document.createElement("canvas");return!!(n.isFunction(u.getContext)&&u.getContext("2d"))})(),n.isCanvasTainted=function(u){var f=!1;try{u.getContext("2d").getImageData(0,0,1,1)}catch{f=!0}return f},n.supportsAddEventListener=(function(){return!!(document.documentElement.addEventListener&&document.addEventListener)})(),n.supportsRemoveEventListener=(function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)})(),n.supportsEventListenerOptions=(function(){var u=0;if(n.supportsAddEventListener)try{var f={get capture(){return u++,!1},get once(){return u++,!1},get passive(){return u++,!1}};window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{u=0}return u>=3})(),n.getCurrentPixelDensityRatio=function(){if(n.supportsCanvas){var u=document.createElement("canvas").getContext("2d"),f=window.devicePixelRatio||1,h=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return Math.max(f,1)/h}else return 1},n.pixelDensityRatio=n.getCurrentPixelDensityRatio()})(v),(function(n){n.extend=function(){var h,c,m,g,y,x,_=arguments[0]||{},R=arguments.length,M=!1,C=1;for(typeof _=="boolean"&&(M=_,_=arguments[1]||{},C=2),typeof _!="object"&&!v.isFunction(_)&&(_={}),R===C&&(_=this,--C);C<R;C++)if(h=arguments[C],h!==null||h!==void 0)for(c in h){var H=Object.getOwnPropertyDescriptor(h,c);if(H!==void 0){if(H.get||H.set){Object.defineProperty(_,c,H);continue}g=H.value}else{n.console.warn('Could not copy inherited property "'+c+'".');continue}_!==g&&(M&&g&&(v.isPlainObject(g)||(y=v.isArray(g)))?(m=_[c],y?(y=!1,x=m&&v.isArray(m)?m:[]):x=m&&v.isPlainObject(m)?m:{},_[c]=v.extend(M,x,g)):g!==void 0&&(_[c]=g))}return _};var a=function(){if(typeof navigator!="object")return!1;var h=navigator.userAgent;return typeof h!="string"?!1:h.indexOf("iPhone")!==-1||h.indexOf("iPad")!==-1||h.indexOf("iPod")!==-1};n.extend(n,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(h,c){return function(){var m=arguments;return m===void 0&&(m=[]),c.apply(h,m)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(h){return n._viewers.get(this.getElement(h))},getElement:function(h){return typeof h=="string"&&(h=document.getElementById(h)),h},getElementPosition:function(h){var c=new n.Point,m,g;for(h=n.getElement(h),m=n.getElementStyle(h).position==="fixed",g=f(h,m);g;)c.x+=h.offsetLeft,c.y+=h.offsetTop,m&&(c=c.plus(n.getPageScroll())),h=g,m=n.getElementStyle(h).position==="fixed",g=f(h,m);return c},getElementOffset:function(h){h=n.getElement(h);var c=h&&h.ownerDocument,m,g,y={top:0,left:0};return c?(m=c.documentElement,typeof h.getBoundingClientRect<"u"&&(y=h.getBoundingClientRect()),g=c===c.window?c:c.nodeType===9?c.defaultView||c.parentWindow:!1,new n.Point(y.left+(g.pageXOffset||m.scrollLeft)-(m.clientLeft||0),y.top+(g.pageYOffset||m.scrollTop)-(m.clientTop||0))):new n.Point},getElementSize:function(h){return h=n.getElement(h),new n.Point(h.clientWidth,h.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(h){return h=n.getElement(h),h.currentStyle}:function(h){return h=n.getElement(h),window.getComputedStyle(h,"")},getCssPropertyWithVendorPrefix:function(h){var c={};return n.getCssPropertyWithVendorPrefix=function(m){if(c[m]!==void 0)return c[m];var g=document.createElement("div").style,y=null;if(g[m]!==void 0)y=m;else for(var x=["Webkit","Moz","MS","O","webkit","moz","ms","o"],_=n.capitalizeFirstLetter(m),R=0;R<x.length;R++){var M=x[R]+_;if(g[M]!==void 0){y=M;break}}return c[m]=y,y},n.getCssPropertyWithVendorPrefix(h)},capitalizeFirstLetter:function(h){return h.charAt(0).toUpperCase()+h.slice(1)},positiveModulo:function(h,c){var m=h%c;return m<0&&(m+=c),m},pointInElement:function(h,c){h=n.getElement(h);var m=n.getElementOffset(h),g=n.getElementSize(h);return c.x>=m.x&&c.x<m.x+g.x&&c.y<m.y+g.y&&c.y>=m.y},getMousePosition:function(h){if(typeof h.pageX=="number")n.getMousePosition=function(c){var m=new n.Point;return m.x=c.pageX,m.y=c.pageY,m};else if(typeof h.clientX=="number")n.getMousePosition=function(c){var m=new n.Point;return m.x=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,m.y=c.clientY+document.body.scrollTop+document.documentElement.scrollTop,m};else throw new Error("Unknown event mouse position, no known technique.");return n.getMousePosition(h)},getPageScroll:function(){var h=document.documentElement||{},c=document.body||{};if(typeof window.pageXOffset=="number")n.getPageScroll=function(){return new n.Point(window.pageXOffset,window.pageYOffset)};else if(c.scrollLeft||c.scrollTop)n.getPageScroll=function(){return new n.Point(document.body.scrollLeft,document.body.scrollTop)};else if(h.scrollLeft||h.scrollTop)n.getPageScroll=function(){return new n.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new n.Point(0,0);return n.getPageScroll()},setPageScroll:function(h){if(typeof window.scrollTo<"u")n.setPageScroll=function(g){window.scrollTo(g.x,g.y)};else{var c=n.getPageScroll();if(c.x===h.x&&c.y===h.y)return;document.body.scrollLeft=h.x,document.body.scrollTop=h.y;var m=n.getPageScroll();if(m.x!==c.x&&m.y!==c.y){n.setPageScroll=function(g){document.body.scrollLeft=g.x,document.body.scrollTop=g.y};return}if(document.documentElement.scrollLeft=h.x,document.documentElement.scrollTop=h.y,m=n.getPageScroll(),m.x!==c.x&&m.y!==c.y){n.setPageScroll=function(g){document.documentElement.scrollLeft=g.x,document.documentElement.scrollTop=g.y};return}n.setPageScroll=function(g){}}n.setPageScroll(h)},getWindowSize:function(){var h=document.documentElement||{},c=document.body||{};if(typeof window.innerWidth=="number")n.getWindowSize=function(){return new n.Point(window.innerWidth,window.innerHeight)};else if(h.clientWidth||h.clientHeight)n.getWindowSize=function(){return new n.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(c.clientWidth||c.clientHeight)n.getWindowSize=function(){return new n.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return n.getWindowSize()},makeCenteredNode:function(h){h=n.getElement(h);var c=[n.makeNeutralElement("div"),n.makeNeutralElement("div"),n.makeNeutralElement("div")];return n.extend(c[0].style,{display:"table",height:"100%",width:"100%"}),n.extend(c[1].style,{display:"table-row"}),n.extend(c[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),c[0].appendChild(c[1]),c[1].appendChild(c[2]),c[2].appendChild(h),c[0]},makeNeutralElement:function(h){var c=document.createElement(h),m=c.style;return m.background="transparent none",m.border="none",m.margin="0px",m.padding="0px",m.position="static",c},now:function(){return Date.now?n.now=Date.now:n.now=function(){return new Date().getTime()},n.now()},makeTransparentImage:function(h){var c=n.makeNeutralElement("img");return c.src=h,c},setElementOpacity:function(h,c,m){var g,y;h=n.getElement(h),m&&!n.Browser.alpha&&(c=Math.round(c)),n.Browser.opacity?h.style.opacity=c<1?c:"":c<1?(g=Math.round(100*c),y="alpha(opacity="+g+")",h.style.filter=y):h.style.filter=""},setElementTouchActionNone:function(h){h=n.getElement(h),typeof h.style.touchAction<"u"?h.style.touchAction="none":typeof h.style.msTouchAction<"u"&&(h.style.msTouchAction="none")},setElementPointerEvents:function(h,c){h=n.getElement(h),typeof h.style<"u"&&typeof h.style.pointerEvents<"u"&&(h.style.pointerEvents=c)},setElementPointerEventsNone:function(h){n.setElementPointerEvents(h,"none")},addClass:function(h,c){h=n.getElement(h),h.className?(" "+h.className+" ").indexOf(" "+c+" ")===-1&&(h.className+=" "+c):h.className=c},indexOf:function(h,c,m){return Array.prototype.indexOf?this.indexOf=function(g,y,x){return g.indexOf(y,x)}:this.indexOf=function(g,y,x){var _,R=x||0,M;if(!g)throw new TypeError;if(M=g.length,M===0||R>=M)return-1;for(R<0&&(R=M-Math.abs(R)),_=R;_<M;_++)if(g[_]===y)return _;return-1},this.indexOf(h,c,m)},removeClass:function(h,c){var m,g=[],y;for(h=n.getElement(h),m=h.className.split(/\s+/),y=0;y<m.length;y++)m[y]&&m[y]!==c&&g.push(m[y]);h.className=g.join(" ")},normalizeEventListenerOptions:function(h){var c;return typeof h<"u"?typeof h=="boolean"?c=n.supportsEventListenerOptions?{capture:h}:h:c=n.supportsEventListenerOptions?h:typeof h.capture<"u"?h.capture:!1:c=n.supportsEventListenerOptions?{capture:!1}:!1,c},addEvent:(function(){if(n.supportsAddEventListener)return function(h,c,m,g){g=n.normalizeEventListenerOptions(g),h=n.getElement(h),h.addEventListener(c,m,g)};if(document.documentElement.attachEvent&&document.attachEvent)return function(h,c,m){h=n.getElement(h),h.attachEvent("on"+c,m)};throw new Error("No known event model.")})(),removeEvent:(function(){if(n.supportsRemoveEventListener)return function(h,c,m,g){g=n.normalizeEventListenerOptions(g),h=n.getElement(h),h.removeEventListener(c,m,g)};if(document.documentElement.detachEvent&&document.detachEvent)return function(h,c,m){h=n.getElement(h),h.detachEvent("on"+c,m)};throw new Error("No known event model.")})(),cancelEvent:function(h){h.preventDefault()},eventIsCanceled:function(h){return h.defaultPrevented},stopEvent:function(h){h.stopPropagation()},createCallback:function(h,c){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var m=[],g;for(g=2;g<arguments.length;g++)m.push(arguments[g]);return function(){var y=m.concat([]),x;for(x=0;x<arguments.length;x++)y.push(arguments[x]);return c.apply(h,y)}},getUrlParameter:function(h){var c=u[h];return c||null},getUrlProtocol:function(h){var c=h.match(/^([a-z]+:)\/\//i);return c===null?window.location.protocol:c[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return n.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(h,c,m){var g,y,x,_;n.isPlainObject(h)&&(c=h.success,m=h.error,g=h.withCredentials,y=h.headers,x=h.responseType||null,_=h.postData||null,h=h.url);var R=n.getUrlProtocol(h),M=n.createAjaxRequest();if(!n.isFunction(c))throw new Error("makeAjaxRequest requires a success callback");M.onreadystatechange=function(){M.readyState===4&&(M.onreadystatechange=function(){},M.status>=200&&M.status<300||M.status===0&&R!=="http:"&&R!=="https:"?c(M):n.isFunction(m)?m(M):n.console.error("AJAX request returned %d: %s",M.status,h))};var C=_?"POST":"GET";try{if(M.open(C,h,!0),x&&(M.responseType=x),y)for(var H in y)Object.prototype.hasOwnProperty.call(y,H)&&y[H]&&M.setRequestHeader(H,y[H]);g&&(M.withCredentials=!0),M.send(_)}catch(U){n.console.error("%s while making AJAX request: %s",U.name,U.message),M.onreadystatechange=function(){},n.isFunction(m)&&m(M,U)}return M},jsonp:function(h){var c,m=h.url,g=document.head||document.getElementsByTagName("head")[0]||document.documentElement,y=h.callbackName||"openseadragon"+n.now(),x=window[y],_="$1"+y+"$2",R=h.param||"callback",M=h.callback;m=m.replace(/(=)\?(&|$)|\?\?/i,_),m+=(/\?/.test(m)?"&":"?")+R+"="+y,window[y]=function(C){if(x)window[y]=x;else try{delete window[y]}catch{}M&&n.isFunction(M)&&M(C)},c=document.createElement("script"),(h.async!==void 0||h.async!==!1)&&(c.async="async"),h.scriptCharset&&(c.charset=h.scriptCharset),c.src=m,c.onload=c.onreadystatechange=function(C,H){(H||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,g&&c.parentNode&&g.removeChild(c),c=void 0)},g.insertBefore(c,g.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(h){if(window.DOMParser)n.parseXml=function(c){var m=null,g;return g=new DOMParser,m=g.parseFromString(c,"text/xml"),m};else throw new Error("Browser doesn't support XML DOM.");return n.parseXml(h)},parseJSON:function(h){return n.parseJSON=window.JSON.parse,n.parseJSON(h)},imageFormatSupported:function(h){return h=h||"",!!l[h.toLowerCase()]},setImageFormatsSupported:function(h){n.extend(l,h)}});var o=function(h){};n.console=window.console||{log:o,debug:o,info:o,warn:o,error:o,assert:o},n.Browser={vendor:n.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},u={};(function(){var h=navigator.appVersion,c=navigator.userAgent,m;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(c.substring(c.indexOf("MSIE")+5,c.indexOf(";",c.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(c.indexOf("Edge")>=0?(n.Browser.vendor=n.BROWSERS.EDGE,n.Browser.version=parseFloat(c.substring(c.indexOf("Edge")+5))):c.indexOf("Edg")>=0?(n.Browser.vendor=n.BROWSERS.CHROMEEDGE,n.Browser.version=parseFloat(c.substring(c.indexOf("Edg")+4))):c.indexOf("Firefox")>=0?(n.Browser.vendor=n.BROWSERS.FIREFOX,n.Browser.version=parseFloat(c.substring(c.indexOf("Firefox")+8))):c.indexOf("Safari")>=0?(n.Browser.vendor=c.indexOf("Chrome")>=0?n.BROWSERS.CHROME:n.BROWSERS.SAFARI,n.Browser.version=parseFloat(c.substring(c.substring(0,c.indexOf("Safari")).lastIndexOf("/")+1,c.indexOf("Safari")))):(m=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),m.exec(c)!==null&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":n.Browser.vendor=n.BROWSERS.OPERA,n.Browser.version=parseFloat(h);break}var g=window.location.search.substring(1),y=g.split("&"),x,_,R;for(R=0;R<y.length;R++)if(x=y[R],_=x.indexOf("="),_>0){var M=x.substring(0,_),C=x.substring(_+1);try{u[M]=decodeURIComponent(C)}catch{n.console.error("Ignoring malformed URL parameter: %s=%s",M,C)}}n.Browser.alpha=!(n.Browser.vendor===n.BROWSERS.CHROME&&n.Browser.version<2),n.Browser.opacity=!0,n.Browser.vendor===n.BROWSERS.IE&&n.console.error("Internet Explorer is not supported by OpenSeadragon")})(),(function(h){var c=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame,m=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.msCancelAnimationFrame;if(c&&m)n.requestAnimationFrame=function(){return c.apply(h,arguments)},n.cancelAnimationFrame=function(){return m.apply(h,arguments)};else{var g=[],y=[],x=0,_;n.requestAnimationFrame=function(R){return g.push([++x,R]),_||(_=setInterval(function(){if(g.length){var M=n.now(),C=y;for(y=g,g=C;y.length;)y.shift()[1](M)}else clearInterval(_),_=void 0},1e3/50)),x},n.cancelAnimationFrame=function(R){var M,C;for(M=0,C=g.length;M<C;M+=1)if(g[M][0]===R){g.splice(M,1);return}for(M=0,C=y.length;M<C;M+=1)if(y[M][0]===R){y.splice(M,1);return}}}})(window);function f(h,c){return c&&h!==document.body?document.body:h.offsetParent}})(v),(function(n,a){p.exports?p.exports=a():n.OpenSeadragon=a()})(x0,function(){return v}),(function(n){class a{constructor(l){l||(l=[0,0,0,0,0,0,0,0,0]),this.values=l}static makeIdentity(){return new a([1,0,0,0,1,0,0,0,1])}static makeTranslation(l,u){return new a([1,0,0,0,1,0,l,u,1])}static makeRotation(l){var u=Math.cos(l),f=Math.sin(l);return new a([u,-f,0,f,u,0,0,0,1])}static makeScaling(l,u){return new a([l,0,0,0,u,0,0,0,1])}multiply(l){let u=this.values,f=l.values;var h=u[0],c=u[1],m=u[2],g=u[3],y=u[4],x=u[5],_=u[6],R=u[7],M=u[8],C=f[0],H=f[1],U=f[2],oe=f[3],Q=f[4],N=f[5],ae=f[6],pe=f[7],fe=f[8];return new a([C*h+H*g+U*_,C*c+H*y+U*R,C*m+H*x+U*M,oe*h+Q*g+N*_,oe*c+Q*y+N*R,oe*m+Q*x+N*M,ae*h+pe*g+fe*_,ae*c+pe*y+fe*R,ae*m+pe*x+fe*M])}}n.Mat3=a})(v),(function(n){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(o){return o.requestFullscreen().catch(function(l){n.console.error("Fullscreen request failed: ",l)})},a.exitFullScreen=function(){document.exitFullscreen().catch(function(o){n.console.error("Error while exiting fullscreen: ",o)})},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(o){return o.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(o){return o.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(o){return o.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(o){return o.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){n.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},n.extend(n,a)})(v),(function(n){n.EventSource=function(){this.events={},this._rejectedEventList={}},n.EventSource.prototype={addOnceHandler:function(a,o,l,u,f){var h=this;u=u||1;var c=0,m=function(g){return c++,c===u&&h.removeHandler(a,m),o(g)};return this.addHandler(a,m,l,f)},addHandler:function(a,o,l,u){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return n.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var f=this.events[a];if(f||(this.events[a]=f=[]),o&&n.isFunction(o)){var h=f.length,c={handler:o,userData:l||null,priority:u||0};for(f[h]=c;h>0&&f[h-1].priority<f[h].priority;)f[h]=f[h-1],f[h-1]=c,h--}return!0},removeHandler:function(a,o){var l=this.events[a],u=[],f;if(l&&n.isArray(l)){for(f=0;f<l.length;f++)l[f].handler!==o&&u.push(l[f]);this.events[a]=u}},numberOfHandlers:function(a){var o=this.events[a];return o?o.length:0},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var o in this.events)this.events[o]=[]},getHandler:function(a){var o=this.events[a];return!o||!o.length?null:(o=o.length===1?[o[0]]:Array.apply(null,o),function(l,u){var f,h=o.length;for(f=0;f<h;f++)o[f]&&(u.eventSource=l,u.userData=o[f].userData,o[f].handler(u))})},raiseEvent:function(a,o){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return n.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var l=this.getHandler(a);return l&&l(this,o||{}),!0},rejectEventHandler(a,o=""){this._rejectedEventList[a]=o},allowEventHandler(a){delete this._rejectedEventList[a]}}})(v),(function(n){var a={};n.MouseTracker=function(E){var S=arguments;n.isPlainObject(E)||(E={element:S[0],clickTimeThreshold:S[1],clickDistThreshold:S[2]}),this.hash=Math.random(),this.element=n.getElement(E.element),this.clickTimeThreshold=E.clickTimeThreshold||n.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=E.clickDistThreshold||n.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=E.dblClickTimeThreshold||n.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=E.dblClickDistThreshold||n.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=E.userData||null,this.stopDelay=E.stopDelay||50,this.preProcessEventHandler=E.preProcessEventHandler||null,this.contextMenuHandler=E.contextMenuHandler||null,this.enterHandler=E.enterHandler||null,this.leaveHandler=E.leaveHandler||null,this.exitHandler=E.exitHandler||null,this.overHandler=E.overHandler||null,this.outHandler=E.outHandler||null,this.pressHandler=E.pressHandler||null,this.nonPrimaryPressHandler=E.nonPrimaryPressHandler||null,this.releaseHandler=E.releaseHandler||null,this.nonPrimaryReleaseHandler=E.nonPrimaryReleaseHandler||null,this.moveHandler=E.moveHandler||null,this.scrollHandler=E.scrollHandler||null,this.clickHandler=E.clickHandler||null,this.dblClickHandler=E.dblClickHandler||null,this.dragHandler=E.dragHandler||null,this.dragEndHandler=E.dragEndHandler||null,this.pinchHandler=E.pinchHandler||null,this.stopHandler=E.stopHandler||null,this.keyDownHandler=E.keyDownHandler||null,this.keyUpHandler=E.keyUpHandler||null,this.keyHandler=E.keyHandler||null,this.focusHandler=E.focusHandler||null,this.blurHandler=E.blurHandler||null;var D=this;a[this.hash]={click:function(A){U(D,A)},dblclick:function(A){oe(D,A)},keydown:function(A){Q(D,A)},keyup:function(A){N(D,A)},keypress:function(A){ae(D,A)},focus:function(A){pe(D,A)},blur:function(A){fe(D,A)},contextmenu:function(A){Oe(D,A)},wheel:function(A){Le(D,A)},mousewheel:function(A){we(D,A)},DOMMouseScroll:function(A){we(D,A)},MozMousePixelScroll:function(A){we(D,A)},losecapture:function(A){Ne(D,A)},mouseenter:function(A){$(D,A)},mouseleave:function(A){de(D,A)},mouseover:function(A){Pe(D,A)},mouseout:function(A){Fe(D,A)},mousedown:function(A){Xe(D,A)},mouseup:function(A){xt(D,A)},mousemove:function(A){Zt(D,A)},touchstart:function(A){Ve(D,A)},touchend:function(A){j(D,A)},touchmove:function(A){le(D,A)},touchcancel:function(A){he(D,A)},gesturestart:function(A){Ue(D,A)},gesturechange:function(A){He(D,A)},gotpointercapture:function(A){B(D,A)},lostpointercapture:function(A){K(D,A)},pointerenter:function(A){$(D,A)},pointerleave:function(A){de(D,A)},pointerover:function(A){Pe(D,A)},pointerout:function(A){Fe(D,A)},pointerdown:function(A){Xe(D,A)},pointerup:function(A){xt(D,A)},pointermove:function(A){Zt(D,A)},pointercancel:function(A){Lt(D,A)},pointerupcaptured:function(A){pt(D,A)},pointermovecaptured:function(A){Hi(D,A)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,n.MouseTracker.havePointerEvents&&n.setElementPointerEvents(this.element,"auto"),this.exitHandler&&n.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),E.startDisabled||this.setTracking(!0)},n.MouseTracker.prototype={destroy:function(){h(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(E){return E?f(this):h(this),this},getActivePointersListByType:function(E){var S=a[this.hash],D,A=S?S.activePointersLists.length:0,W;for(D=0;D<A;D++)if(S.activePointersLists[D].type===E)return S.activePointersLists[D];return W=new n.MouseTracker.GesturePointList(E),S&&S.activePointersLists.push(W),W},getActivePointerCount:function(){var E=a[this.hash],S,D=E.activePointersLists.length,A=0;for(S=0;S<D;S++)A+=E.activePointersLists[S].getLength();return A},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var o=(function(){try{return window.self!==window.top}catch{return!0}})();function l(E){try{return E.addEventListener&&E.removeEventListener}catch{return!1}}n.MouseTracker.gesturePointVelocityTracker=(function(){var E=[],S=0,D=0,A=function(je,Me){return je.hash.toString()+Me.type+Me.id.toString()},W=function(){var je,Me=E.length,zt,Et,It=n.now(),Xi,Bi,di;for(Xi=It-D,D=It,je=0;je<Me;je++)zt=E[je],Et=zt.gPoint,Et.direction=Math.atan2(Et.currentPos.y-zt.lastPos.y,Et.currentPos.x-zt.lastPos.x),Bi=zt.lastPos.distanceTo(Et.currentPos),zt.lastPos=Et.currentPos,di=1e3*Bi/(Xi+1),Et.speed=.75*di+.25*Et.speed},ne=function(je,Me){var zt=A(je,Me);E.push({guid:zt,gPoint:Me,lastPos:Me.currentPos}),E.length===1&&(D=n.now(),S=window.setInterval(W,50))},Te=function(je,Me){var zt=A(je,Me),Et,It=E.length;for(Et=0;Et<It;Et++)if(E[Et].guid===zt){E.splice(Et,1),It--,It===0&&window.clearInterval(S);break}};return{addPoint:ne,removePoint:Te}})(),n.MouseTracker.captureElement=document,n.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",n.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",n.MouseTracker.wheelEventName],n.MouseTracker.wheelEventName==="DOMMouseScroll"&&n.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(n.MouseTracker.havePointerEvents=!0,n.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),n.MouseTracker.havePointerCapture=(function(){var E=document.createElement("div");return n.isFunction(E.setPointerCapture)&&n.isFunction(E.releasePointerCapture)})(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(n.MouseTracker.havePointerEvents=!1,n.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),n.MouseTracker.mousePointerId="legacy-mouse",n.MouseTracker.havePointerCapture=(function(){var E=document.createElement("div");return n.isFunction(E.setCapture)&&n.isFunction(E.releaseCapture)})(),n.MouseTracker.havePointerCapture&&n.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&n.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&n.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),n.MouseTracker.GesturePointList=function(E){this._gPoints=[],this.type=E,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},n.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(E){return this._gPoints.push(E)},removeById:function(E){var S,D=this._gPoints.length;for(S=0;S<D;S++)if(this._gPoints[S].id===E){this._gPoints.splice(S,1);break}return this._gPoints.length},getByIndex:function(E){return E<this._gPoints.length?this._gPoints[E]:null},getById:function(E){var S,D=this._gPoints.length;for(S=0;S<D;S++)if(this._gPoints[S].id===E)return this._gPoints[S];return null},getPrimary:function(E){var S,D=this._gPoints.length;for(S=0;S<D;S++)if(this._gPoints[S].isPrimary)return this._gPoints[S];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(n.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function u(E){var S=a[E.hash],D,A,W,ne,Te,je=S.activePointersLists.length;for(D=0;D<je;D++)if(W=S.activePointersLists[D],W.getLength()>0){for(Te=[],ne=W.asArray(),A=0;A<ne.length;A++)Te.push(ne[A]);for(A=0;A<Te.length;A++)fi(E,W,Te[A])}for(D=0;D<je;D++)S.activePointersLists.pop();S.sentDragEvent=!1}function f(E){var S=a[E.hash],D,A;if(!S.tracking){for(A=0;A<n.MouseTracker.subscribeEvents.length;A++)D=n.MouseTracker.subscribeEvents[A],n.addEvent(E.element,D,S[D],D===n.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);u(E),S.tracking=!0}}function h(E){var S=a[E.hash],D,A;if(S.tracking){for(A=0;A<n.MouseTracker.subscribeEvents.length;A++)D=n.MouseTracker.subscribeEvents[A],n.removeEvent(E.element,D,S[D],!1);u(E),S.tracking=!1}}function c(E,S){var D=a[E.hash];if(S==="pointerevent")return{upName:"pointerup",upHandler:D.pointerupcaptured,moveName:"pointermove",moveHandler:D.pointermovecaptured};if(S==="mouse")return{upName:"pointerup",upHandler:D.pointerupcaptured,moveName:"pointermove",moveHandler:D.pointermovecaptured};if(S==="touch")return{upName:"touchend",upHandler:D.touchendcaptured,moveName:"touchmove",moveHandler:D.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function m(E,S){var D;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents)try{E.element.setPointerCapture(S.id)}catch{n.console.warn("setPointerCapture() called on invalid pointer ID");return}else E.element.setCapture(!0);else D=c(E,n.MouseTracker.havePointerEvents?"pointerevent":S.type),o&&l(window.top)&&n.addEvent(window.top,D.upName,D.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,D.upName,D.upHandler,!0),n.addEvent(n.MouseTracker.captureElement,D.moveName,D.moveHandler,!0);V(E,S,!0)}function g(E,S){var D,A,W;if(n.MouseTracker.havePointerCapture)if(n.MouseTracker.havePointerEvents){if(A=E.getActivePointersListByType(S.type),W=A.getById(S.id),!W||!W.captured)return;try{E.element.releasePointerCapture(S.id)}catch{}}else E.element.releaseCapture();else D=c(E,n.MouseTracker.havePointerEvents?"pointerevent":S.type),o&&l(window.top)&&n.removeEvent(window.top,D.upName,D.upHandler,!0),n.removeEvent(n.MouseTracker.captureElement,D.moveName,D.moveHandler,!0),n.removeEvent(n.MouseTracker.captureElement,D.upName,D.upHandler,!0);V(E,S,!1)}function y(E){return n.MouseTracker.havePointerEvents?E.pointerId:n.MouseTracker.mousePointerId}function x(E){return n.MouseTracker.havePointerEvents&&E.pointerType?E.pointerType:"mouse"}function _(E){return n.MouseTracker.havePointerEvents?E.isPrimary:!0}function R(E){return n.getMousePosition(E)}function M(E,S){return C(R(E),S)}function C(E,S){var D=n.getElementOffset(S);return E.minus(D)}function H(E,S){return new n.Point((E.x+S.x)/2,(E.y+S.y)/2)}function U(E,S){var D={originalEvent:S,eventType:"click",pointerType:"mouse",isEmulated:!1};z(E,D),D.preventDefault&&!D.defaultPrevented&&n.cancelEvent(S),D.stopPropagation&&n.stopEvent(S)}function oe(E,S){var D={originalEvent:S,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};z(E,D),D.preventDefault&&!D.defaultPrevented&&n.cancelEvent(S),D.stopPropagation&&n.stopEvent(S)}function Q(E,S){var D=null,A={originalEvent:S,eventType:"keydown",pointerType:"",isEmulated:!1};z(E,A),E.keyDownHandler&&!A.preventGesture&&!A.defaultPrevented&&(D={eventSource:E,keyCode:S.keyCode?S.keyCode:S.charCode,ctrl:S.ctrlKey,shift:S.shiftKey,alt:S.altKey,meta:S.metaKey,originalEvent:S,preventDefault:A.preventDefault||A.defaultPrevented,userData:E.userData},E.keyDownHandler(D)),(D&&D.preventDefault||A.preventDefault&&!A.defaultPrevented)&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function N(E,S){var D=null,A={originalEvent:S,eventType:"keyup",pointerType:"",isEmulated:!1};z(E,A),E.keyUpHandler&&!A.preventGesture&&!A.defaultPrevented&&(D={eventSource:E,keyCode:S.keyCode?S.keyCode:S.charCode,ctrl:S.ctrlKey,shift:S.shiftKey,alt:S.altKey,meta:S.metaKey,originalEvent:S,preventDefault:A.preventDefault||A.defaultPrevented,userData:E.userData},E.keyUpHandler(D)),(D&&D.preventDefault||A.preventDefault&&!A.defaultPrevented)&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function ae(E,S){var D=null,A={originalEvent:S,eventType:"keypress",pointerType:"",isEmulated:!1};z(E,A),E.keyHandler&&!A.preventGesture&&!A.defaultPrevented&&(D={eventSource:E,keyCode:S.keyCode?S.keyCode:S.charCode,ctrl:S.ctrlKey,shift:S.shiftKey,alt:S.altKey,meta:S.metaKey,originalEvent:S,preventDefault:A.preventDefault||A.defaultPrevented,userData:E.userData},E.keyHandler(D)),(D&&D.preventDefault||A.preventDefault&&!A.defaultPrevented)&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function pe(E,S){var D={originalEvent:S,eventType:"focus",pointerType:"",isEmulated:!1};z(E,D),E.focusHandler&&!D.preventGesture&&E.focusHandler({eventSource:E,originalEvent:S,userData:E.userData})}function fe(E,S){var D={originalEvent:S,eventType:"blur",pointerType:"",isEmulated:!1};z(E,D),E.blurHandler&&!D.preventGesture&&E.blurHandler({eventSource:E,originalEvent:S,userData:E.userData})}function Oe(E,S){var D=null,A={originalEvent:S,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};z(E,A),E.contextMenuHandler&&!A.preventGesture&&!A.defaultPrevented&&(D={eventSource:E,position:C(R(S),E.element),originalEvent:A.originalEvent,preventDefault:A.preventDefault||A.defaultPrevented,userData:E.userData},E.contextMenuHandler(D)),(D&&D.preventDefault||A.preventDefault&&!A.defaultPrevented)&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function Le(E,S){Re(E,S,S)}function we(E,S){var D={target:S.target||S.srcElement,type:"wheel",shiftKey:S.shiftKey||!1,clientX:S.clientX,clientY:S.clientY,pageX:S.pageX?S.pageX:S.clientX,pageY:S.pageY?S.pageY:S.clientY,deltaMode:S.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};n.MouseTracker.wheelEventName==="mousewheel"?D.deltaY=-S.wheelDelta/n.DEFAULT_SETTINGS.pixelsPerWheelLine:D.deltaY=S.detail,Re(E,D,S)}function Re(E,S,D){var A=0,W,ne=null;A=S.deltaY?S.deltaY<0?1:-1:0,W={originalEvent:S,eventType:"wheel",pointerType:"mouse",isEmulated:S!==D},z(E,W),E.scrollHandler&&!W.preventGesture&&!W.defaultPrevented&&(ne={eventSource:E,pointerType:"mouse",position:M(S,E.element),scroll:A,shift:S.shiftKey,isTouchEvent:!1,originalEvent:D,preventDefault:W.preventDefault||W.defaultPrevented,userData:E.userData},E.scrollHandler(ne)),W.stopPropagation&&n.stopEvent(D),(ne&&ne.preventDefault||W.preventDefault&&!W.defaultPrevented)&&n.cancelEvent(D)}function Ne(E,S){var D={id:n.MouseTracker.mousePointerId,type:"mouse"},A={originalEvent:S,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};z(E,A),S.target===E.element&&V(E,D,!1),A.stopPropagation&&n.stopEvent(S)}function Ve(E,S){var D,A,W=S.changedTouches.length,ne,Te=E.getActivePointersListByType("touch");D=n.now(),Te.getLength()>S.touches.length-W&&n.console.warn("Tracked touch contact count doesn't match event.touches.length");var je={originalEvent:S,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(z(E,je),A=0;A<W;A++)ne={id:S.changedTouches[A].identifier,type:"touch",isPrimary:Te.getLength()===0,currentPos:R(S.changedTouches[A]),currentTime:D},re(E,je,ne),Ee(E,je,ne,0),V(E,ne,!0);je.preventDefault&&!je.defaultPrevented&&n.cancelEvent(S),je.stopPropagation&&n.stopEvent(S)}function j(E,S){var D,A,W=S.changedTouches.length,ne;D=n.now();var Te={originalEvent:S,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(z(E,Te),A=0;A<W;A++)ne={id:S.changedTouches[A].identifier,type:"touch",currentPos:R(S.changedTouches[A]),currentTime:D},Je(E,Te,ne,0),V(E,ne,!1),ue(E,Te,ne);Te.preventDefault&&!Te.defaultPrevented&&n.cancelEvent(S),Te.stopPropagation&&n.stopEvent(S)}function le(E,S){var D,A,W=S.changedTouches.length,ne;D=n.now();var Te={originalEvent:S,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(z(E,Te),A=0;A<W;A++)ne={id:S.changedTouches[A].identifier,type:"touch",currentPos:R(S.changedTouches[A]),currentTime:D},Ie(E,Te,ne);Te.preventDefault&&!Te.defaultPrevented&&n.cancelEvent(S),Te.stopPropagation&&n.stopEvent(S)}function he(E,S){var D=S.changedTouches.length,A,W,ne={originalEvent:S,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(z(E,ne),A=0;A<D;A++)W={id:S.changedTouches[A].identifier,type:"touch"},Ce(E,ne,W);ne.stopPropagation&&n.stopEvent(S)}function Ue(E,S){return n.eventIsCanceled(S)||S.preventDefault(),!1}function He(E,S){return n.eventIsCanceled(S)||S.preventDefault(),!1}function B(E,S){var D={originalEvent:S,eventType:"gotpointercapture",pointerType:x(S),isEmulated:!1};z(E,D),S.target===E.element&&V(E,{id:S.pointerId,type:x(S)},!0),D.stopPropagation&&n.stopEvent(S)}function K(E,S){var D={originalEvent:S,eventType:"lostpointercapture",pointerType:x(S),isEmulated:!1};z(E,D),S.target===E.element&&V(E,{id:S.pointerId,type:x(S)},!1),D.stopPropagation&&n.stopEvent(S)}function $(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A={originalEvent:S,eventType:"pointerenter",pointerType:D.type,isEmulated:!1};z(E,A),re(E,A,D)}function de(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A={originalEvent:S,eventType:"pointerleave",pointerType:D.type,isEmulated:!1};z(E,A),ue(E,A,D)}function Pe(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A={originalEvent:S,eventType:"pointerover",pointerType:D.type,isEmulated:!1};z(E,A),ve(E,A,D),A.preventDefault&&!A.defaultPrevented&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function Fe(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A={originalEvent:S,eventType:"pointerout",pointerType:D.type,isEmulated:!1};z(E,A),ie(E,A,D),A.preventDefault&&!A.defaultPrevented&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function Xe(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A=n.MouseTracker.havePointerEvents&&D.type==="touch",W={originalEvent:S,eventType:"pointerdown",pointerType:D.type,isEmulated:!1};z(E,W),Ee(E,W,D,S.button),W.preventDefault&&!W.defaultPrevented&&n.cancelEvent(S),W.stopPropagation&&n.stopEvent(S),W.shouldCapture&&(A?V(E,D,!0):m(E,D))}function xt(E,S){mt(E,S)}function pt(E,S){var D=E.getActivePointersListByType(x(S));D.getById(S.pointerId)&&mt(E,S),n.stopEvent(S)}function mt(E,S){var D;D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()};var A={originalEvent:S,eventType:"pointerup",pointerType:D.type,isEmulated:!1};z(E,A),Je(E,A,D,S.button),A.preventDefault&&!A.defaultPrevented&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S),A.shouldReleaseCapture&&(S.target===E.element?g(E,D):V(E,D,!1))}function Zt(E,S){Yi(E,S)}function Hi(E,S){var D=E.getActivePointersListByType(x(S));D.getById(S.pointerId)&&Yi(E,S),n.stopEvent(S)}function Yi(E,S){var D={id:y(S),type:x(S),isPrimary:_(S),currentPos:R(S),currentTime:n.now()},A={originalEvent:S,eventType:"pointermove",pointerType:D.type,isEmulated:!1};z(E,A),Ie(E,A,D),A.preventDefault&&!A.defaultPrevented&&n.cancelEvent(S),A.stopPropagation&&n.stopEvent(S)}function Lt(E,S){var D={id:S.pointerId,type:x(S)},A={originalEvent:S,eventType:"pointercancel",pointerType:D.type,isEmulated:!1};z(E,A),Ce(E,A,D),A.stopPropagation&&n.stopEvent(S)}function Di(E,S){return S.speed=0,S.direction=0,S.contactPos=S.currentPos,S.contactTime=S.currentTime,S.lastPos=S.currentPos,S.lastTime=S.currentTime,E.add(S)}function fi(E,S,D){var A,W=S.getById(D.id);return W?(W.captured&&(n.console.warn("stopTrackingPointer() called on captured pointer"),g(E,W)),S.removeContact(),A=S.removeById(D.id)):A=S.getLength(),A}function T(E,S){switch(S.eventType){case"pointermove":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!1,S.preventGesture=!E.hasGestureHandlers,S.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!1,S.preventGesture=!1,S.stopPropagation=!1;break;case"pointerdown":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!1,S.preventGesture=!E.hasGestureHandlers,S.stopPropagation=!1;break;case"pointerup":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!1,S.preventGesture=!E.hasGestureHandlers,S.stopPropagation=!1;break;case"wheel":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!1,S.preventGesture=!E.hasScrollHandler,S.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":S.isStoppable=!0,S.isCancelable=!1,S.preventDefault=!1,S.preventGesture=!1,S.stopPropagation=!1;break;case"click":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!!E.clickHandler,S.preventGesture=!1,S.stopPropagation=!1;break;case"dblclick":S.isStoppable=!0,S.isCancelable=!0,S.preventDefault=!!E.dblClickHandler,S.preventGesture=!1,S.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:S.isStoppable=!1,S.isCancelable=!1,S.preventDefault=!1,S.preventGesture=!1,S.stopPropagation=!1;break}}function z(E,S){S.eventSource=E,S.eventPhase=S.originalEvent&&typeof S.originalEvent.eventPhase<"u"?S.originalEvent.eventPhase:0,S.defaultPrevented=n.eventIsCanceled(S.originalEvent),S.shouldCapture=!1,S.shouldReleaseCapture=!1,S.userData=E.userData,T(E,S),E.preProcessEventHandler&&E.preProcessEventHandler(S)}function V(E,S,D){var A=E.getActivePointersListByType(S.type),W=A.getById(S.id);W?D&&!W.captured?(W.captured=!0,A.captureCount++):!D&&W.captured&&(W.captured=!1,A.captureCount--,A.captureCount<0&&(A.captureCount=0,n.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):n.console.warn("updatePointerCaptured() called on untracked pointer")}function re(E,S,D){var A=E.getActivePointersListByType(D.type),W;W=A.getById(D.id),W?(W.insideElement=!0,W.lastPos=W.currentPos,W.lastTime=W.currentTime,W.currentPos=D.currentPos,W.currentTime=D.currentTime,D=W):(D.captured=!1,D.insideElementPressed=!1,D.insideElement=!0,Di(A,D)),E.enterHandler&&E.enterHandler({eventSource:E,pointerType:D.type,position:C(D.currentPos,E.element),buttons:A.buttons,pointers:E.getActivePointerCount(),insideElementPressed:D.insideElementPressed,buttonDownAny:A.buttons!==0,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData})}function ue(E,S,D){var A=E.getActivePointersListByType(D.type),W,ne;W=A.getById(D.id),W?(W.captured?(W.insideElement=!1,W.lastPos=W.currentPos,W.lastTime=W.currentTime,W.currentPos=D.currentPos,W.currentTime=D.currentTime):fi(E,A,W),D=W):(D.captured=!1,D.insideElementPressed=!1),(E.leaveHandler||E.exitHandler)&&(ne={eventSource:E,pointerType:D.type,position:D.currentPos&&C(D.currentPos,E.element),buttons:A.buttons,pointers:E.getActivePointerCount(),insideElementPressed:D.insideElementPressed,buttonDownAny:A.buttons!==0,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData},E.leaveHandler&&E.leaveHandler(ne),E.exitHandler&&E.exitHandler(ne))}function ve(E,S,D){var A,W;A=E.getActivePointersListByType(D.type),W=A.getById(D.id),W?D=W:(D.captured=!1,D.insideElementPressed=!1),E.overHandler&&E.overHandler({eventSource:E,pointerType:D.type,position:C(D.currentPos,E.element),buttons:A.buttons,pointers:E.getActivePointerCount(),insideElementPressed:D.insideElementPressed,buttonDownAny:A.buttons!==0,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData})}function ie(E,S,D){var A,W;A=E.getActivePointersListByType(D.type),W=A.getById(D.id),W?D=W:(D.captured=!1,D.insideElementPressed=!1),E.outHandler&&E.outHandler({eventSource:E,pointerType:D.type,position:D.currentPos&&C(D.currentPos,E.element),buttons:A.buttons,pointers:E.getActivePointerCount(),insideElementPressed:D.insideElementPressed,buttonDownAny:A.buttons!==0,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData})}function Ee(E,S,D,A){var W=a[E.hash],ne=E.getActivePointersListByType(D.type),Te;if(typeof S.originalEvent.buttons<"u"?ne.buttons=S.originalEvent.buttons:A===0?ne.buttons|=1:A===1?ne.buttons|=4:A===2?ne.buttons|=2:A===3?ne.buttons|=8:A===4?ne.buttons|=16:A===5&&(ne.buttons|=32),A!==0){S.shouldCapture=!1,S.shouldReleaseCapture=!1,E.nonPrimaryPressHandler&&!S.preventGesture&&!S.defaultPrevented&&(S.preventDefault=!0,E.nonPrimaryPressHandler({eventSource:E,pointerType:D.type,position:C(D.currentPos,E.element),button:A,buttons:ne.buttons,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData}));return}Te=ne.getById(D.id),Te?(Te.insideElementPressed=!0,Te.insideElement=!0,Te.originalTarget=S.originalEvent.target,Te.contactPos=D.currentPos,Te.contactTime=D.currentTime,Te.lastPos=Te.currentPos,Te.lastTime=Te.currentTime,Te.currentPos=D.currentPos,Te.currentTime=D.currentTime,D=Te):(D.captured=!1,D.insideElementPressed=!0,D.insideElement=!0,D.originalTarget=S.originalEvent.target,Di(ne,D)),ne.addContact(),!S.preventGesture&&!S.defaultPrevented?(S.shouldCapture=!0,S.shouldReleaseCapture=!1,S.preventDefault=!0,(E.dragHandler||E.dragEndHandler||E.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.addPoint(E,D),ne.contacts===1?E.pressHandler&&!S.preventGesture&&E.pressHandler({eventSource:E,pointerType:D.type,position:C(D.contactPos,E.element),buttons:ne.buttons,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData}):ne.contacts===2&&E.pinchHandler&&D.type==="touch"&&(W.pinchGPoints=ne.asArray(),W.lastPinchDist=W.currentPinchDist=W.pinchGPoints[0].currentPos.distanceTo(W.pinchGPoints[1].currentPos),W.lastPinchCenter=W.currentPinchCenter=H(W.pinchGPoints[0].currentPos,W.pinchGPoints[1].currentPos))):(S.shouldCapture=!1,S.shouldReleaseCapture=!1)}function Je(E,S,D,A){var W=a[E.hash],ne=E.getActivePointersListByType(D.type),Te,je,Me,zt=!1,Et;if(typeof S.originalEvent.buttons<"u"?ne.buttons=S.originalEvent.buttons:A===0?ne.buttons^=-2:A===1?ne.buttons^=-5:A===2?ne.buttons^=-3:A===3?ne.buttons^=-9:A===4?ne.buttons^=-17:A===5&&(ne.buttons^=-33),S.shouldCapture=!1,A!==0){S.shouldReleaseCapture=!1,E.nonPrimaryReleaseHandler&&!S.preventGesture&&!S.defaultPrevented&&(S.preventDefault=!0,E.nonPrimaryReleaseHandler({eventSource:E,pointerType:D.type,position:C(D.currentPos,E.element),button:A,buttons:ne.buttons,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData}));return}Me=ne.getById(D.id),Me?(ne.removeContact(),Me.captured&&(zt=!0),Me.lastPos=Me.currentPos,Me.lastTime=Me.currentTime,Me.currentPos=D.currentPos,Me.currentTime=D.currentTime,Me.insideElement||fi(E,ne,Me),Te=Me.currentPos,je=Me.currentTime):(D.captured=!1,D.insideElementPressed=!1,D.insideElement=!0,Di(ne,D),Me=D),!S.preventGesture&&!S.defaultPrevented&&(zt?(S.shouldReleaseCapture=!0,S.preventDefault=!0,(E.dragHandler||E.dragEndHandler||E.pinchHandler)&&n.MouseTracker.gesturePointVelocityTracker.removePoint(E,Me),ne.contacts===0?(E.releaseHandler&&Te&&E.releaseHandler({eventSource:E,pointerType:Me.type,position:C(Te,E.element),buttons:ne.buttons,insideElementPressed:Me.insideElementPressed,insideElementReleased:Me.insideElement,isTouchEvent:Me.type==="touch",originalEvent:S.originalEvent,userData:E.userData}),E.dragEndHandler&&W.sentDragEvent&&E.dragEndHandler({eventSource:E,pointerType:Me.type,position:C(Me.currentPos,E.element),speed:Me.speed,direction:Me.direction,shift:S.originalEvent.shiftKey,isTouchEvent:Me.type==="touch",originalEvent:S.originalEvent,userData:E.userData}),W.sentDragEvent=!1,(E.clickHandler||E.dblClickHandler)&&Me.insideElement&&(Et=je-Me.contactTime<=E.clickTimeThreshold&&Me.contactPos.distanceTo(Te)<=E.clickDistThreshold,E.clickHandler&&E.clickHandler({eventSource:E,pointerType:Me.type,position:C(Me.currentPos,E.element),quick:Et,shift:S.originalEvent.shiftKey,isTouchEvent:Me.type==="touch",originalEvent:S.originalEvent,originalTarget:Me.originalTarget,userData:E.userData}),E.dblClickHandler&&Et&&(ne.clicks++,ne.clicks===1?(W.lastClickPos=Te,W.dblClickTimeOut=setTimeout(function(){ne.clicks=0},E.dblClickTimeThreshold)):ne.clicks===2&&(clearTimeout(W.dblClickTimeOut),ne.clicks=0,W.lastClickPos.distanceTo(Te)<=E.dblClickDistThreshold&&E.dblClickHandler({eventSource:E,pointerType:Me.type,position:C(Me.currentPos,E.element),shift:S.originalEvent.shiftKey,isTouchEvent:Me.type==="touch",originalEvent:S.originalEvent,userData:E.userData}),W.lastClickPos=null)))):ne.contacts===2&&E.pinchHandler&&Me.type==="touch"&&(W.pinchGPoints=ne.asArray(),W.lastPinchDist=W.currentPinchDist=W.pinchGPoints[0].currentPos.distanceTo(W.pinchGPoints[1].currentPos),W.lastPinchCenter=W.currentPinchCenter=H(W.pinchGPoints[0].currentPos,W.pinchGPoints[1].currentPos))):(S.shouldReleaseCapture=!1,E.releaseHandler&&Te&&(E.releaseHandler({eventSource:E,pointerType:Me.type,position:C(Te,E.element),buttons:ne.buttons,insideElementPressed:Me.insideElementPressed,insideElementReleased:Me.insideElement,isTouchEvent:Me.type==="touch",originalEvent:S.originalEvent,userData:E.userData}),S.preventDefault=!0)))}function Ie(E,S,D){var A=a[E.hash],W=E.getActivePointersListByType(D.type),ne,Te,je;if(typeof S.originalEvent.buttons<"u"&&(W.buttons=S.originalEvent.buttons),ne=W.getById(D.id),ne)ne.lastPos=ne.currentPos,ne.lastTime=ne.currentTime,ne.currentPos=D.currentPos,ne.currentTime=D.currentTime;else return;S.shouldCapture=!1,S.shouldReleaseCapture=!1,E.stopHandler&&D.type==="mouse"&&(clearTimeout(E.stopTimeOut),E.stopTimeOut=setTimeout(function(){ot(E,S.originalEvent,D.type)},E.stopDelay)),W.contacts===0?E.moveHandler&&E.moveHandler({eventSource:E,pointerType:D.type,position:C(D.currentPos,E.element),buttons:W.buttons,isTouchEvent:D.type==="touch",originalEvent:S.originalEvent,userData:E.userData}):W.contacts===1?(E.moveHandler&&(ne=W.asArray()[0],E.moveHandler({eventSource:E,pointerType:ne.type,position:C(ne.currentPos,E.element),buttons:W.buttons,isTouchEvent:ne.type==="touch",originalEvent:S.originalEvent,userData:E.userData})),E.dragHandler&&!S.preventGesture&&!S.defaultPrevented&&(ne=W.asArray()[0],je=ne.currentPos.minus(ne.lastPos),E.dragHandler({eventSource:E,pointerType:ne.type,position:C(ne.currentPos,E.element),buttons:W.buttons,delta:je,speed:ne.speed,direction:ne.direction,shift:S.originalEvent.shiftKey,isTouchEvent:ne.type==="touch",originalEvent:S.originalEvent,userData:E.userData}),S.preventDefault=!0,A.sentDragEvent=!0)):W.contacts===2&&(E.moveHandler&&(Te=W.asArray(),E.moveHandler({eventSource:E,pointerType:Te[0].type,position:C(H(Te[0].currentPos,Te[1].currentPos),E.element),buttons:W.buttons,isTouchEvent:Te[0].type==="touch",originalEvent:S.originalEvent,userData:E.userData})),E.pinchHandler&&D.type==="touch"&&!S.preventGesture&&!S.defaultPrevented&&(je=A.pinchGPoints[0].currentPos.distanceTo(A.pinchGPoints[1].currentPos),je!==A.currentPinchDist&&(A.lastPinchDist=A.currentPinchDist,A.currentPinchDist=je,A.lastPinchCenter=A.currentPinchCenter,A.currentPinchCenter=H(A.pinchGPoints[0].currentPos,A.pinchGPoints[1].currentPos),E.pinchHandler({eventSource:E,pointerType:"touch",gesturePoints:A.pinchGPoints,lastCenter:C(A.lastPinchCenter,E.element),center:C(A.currentPinchCenter,E.element),lastDistance:A.lastPinchDist,distance:A.currentPinchDist,shift:S.originalEvent.shiftKey,originalEvent:S.originalEvent,userData:E.userData}),S.preventDefault=!0)))}function Ce(E,S,D){var A=E.getActivePointersListByType(D.type),W;W=A.getById(D.id),W&&fi(E,A,W)}function ot(E,S,D){E.stopHandler&&E.stopHandler({eventSource:E,pointerType:D,position:M(S,E.element),buttons:E.getActivePointersListByType(D).buttons,isTouchEvent:D==="touch",originalEvent:S,userData:E.userData})}})(v),(function(n){n.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},n.Control=function(a,o,l){var u=a.parentNode;typeof o=="number"&&(n.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),o={anchor:o}),o.attachToViewer=typeof o.attachToViewer>"u"?!0:o.attachToViewer,this.autoFade=typeof o.autoFade>"u"?!0:o.autoFade,this.element=a,this.anchor=o.anchor,this.container=l,this.anchor===n.ControlAnchor.ABSOLUTE?(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof o.top=="number"?o.top+"px":o.top,this.wrapper.style.left=typeof o.left=="number"?o.left+"px":o.left,this.wrapper.style.height=typeof o.height=="number"?o.height+"px":o.height,this.wrapper.style.width=typeof o.width=="number"?o.width+"px":o.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=n.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===n.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),o.attachToViewer?this.anchor===n.ControlAnchor.TOP_RIGHT||this.anchor===n.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):u.appendChild(this.wrapper)},n.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==n.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===n.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){n.setElementOpacity(this.wrapper,a,!0)}}})(v),(function(n){n.ControlDock=function(o){var l=["topleft","topright","bottomright","bottomleft"],u,f;for(n.extend(!0,this,{id:"controldock-"+n.now()+"-"+Math.floor(Math.random()*1e6),container:n.makeNeutralElement("div"),controls:[]},o),this.container.onsubmit=function(){return!1},this.element&&(this.element=n.getElement(this.element),this.element.appendChild(this.container),n.getElementStyle(this.element).position==="static"&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),f=0;f<l.length;f++)u=l[f],this.controls[u]=n.makeNeutralElement("div"),this.controls[u].style.position="absolute",u.match("left")&&(this.controls[u].style.left="0px"),u.match("right")&&(this.controls[u].style.right="0px"),u.match("top")&&(this.controls[u].style.top="0px"),u.match("bottom")&&(this.controls[u].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},n.ControlDock.prototype={addControl:function(o,l){o=n.getElement(o);var u=null;if(!(a(this,o)>=0)){switch(l.anchor){case n.ControlAnchor.TOP_RIGHT:u=this.controls.topright,o.style.position="relative",o.style.paddingRight="0px",o.style.paddingTop="0px";break;case n.ControlAnchor.BOTTOM_RIGHT:u=this.controls.bottomright,o.style.position="relative",o.style.paddingRight="0px",o.style.paddingBottom="0px";break;case n.ControlAnchor.BOTTOM_LEFT:u=this.controls.bottomleft,o.style.position="relative",o.style.paddingLeft="0px",o.style.paddingBottom="0px";break;case n.ControlAnchor.TOP_LEFT:u=this.controls.topleft,o.style.position="relative",o.style.paddingLeft="0px",o.style.paddingTop="0px";break;case n.ControlAnchor.ABSOLUTE:u=this.container,o.style.margin="0px",o.style.padding="0px";break;default:case n.ControlAnchor.NONE:u=this.container,o.style.margin="0px",o.style.padding="0px";break}this.controls.push(new n.Control(o,l,u)),o.style.display="inline-block"}},removeControl:function(o){o=n.getElement(o);var l=a(this,o);return l>=0&&(this.controls[l].destroy(),this.controls.splice(l,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var o;for(o=this.controls.length-1;o>=0;o--)if(this.controls[o].isVisible())return!0;return!1},setControlsEnabled:function(o){var l;for(l=this.controls.length-1;l>=0;l--)this.controls[l].setVisible(o);return this}};function a(o,l){var u=o.controls,f;for(f=u.length-1;f>=0;f--)if(u[f].element===l)return f;return-1}})(v),(function(n){n.Placement=n.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})})(v),(function(n){var a={},o=1;n.Viewer=function(T){var z=arguments,V=this,re;n.isPlainObject(T)||(T={id:z[0],xmlPath:z.length>1?z[1]:void 0,prefixUrl:z.length>2?z[2]:void 0,controls:z.length>3?z[3]:void 0,overlays:z.length>4?z[4]:void 0}),T.config&&(n.extend(!0,T,T.config),delete T.config);let ue=["useCanvas"];if(T.drawerOptions=Object.assign({},ue.reduce((ie,Ee)=>(ie[Ee]=T[Ee],delete T[Ee],ie),{}),T.drawerOptions),n.extend(!0,this,{id:T.id,hash:T.hash||o++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},n.DEFAULT_SETTINGS,T),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");typeof a[this.hash]<"u"&&n.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new n.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=n.now(),n.EventSource.call(this),this.addHandler("open-failed",function(ie){var Ee=n.getString("Errors.OpenFailed",ie.eventSource,ie.message);V._showMessage(Ee)}),n.ControlDock.call(this,T),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=n.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(function(ie){ie.width="100%",ie.height="100%",ie.overflow="hidden",ie.position="absolute",ie.top="0px",ie.left="0px"})(this.canvas.style),n.setElementTouchActionNone(this.canvas),T.tabIndex!==""&&(this.canvas.tabIndex=T.tabIndex===void 0?0:T.tabIndex),this.container.className="openseadragon-container",(function(ie){ie.width="100%",ie.height="100%",ie.position="relative",ie.overflow="hidden",ie.left="0px",ie.top="0px",ie.textAlign="left"})(this.container.style),n.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new n.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:n.delegate(this,M),keyDownHandler:n.delegate(this,C),keyHandler:n.delegate(this,H),clickHandler:n.delegate(this,U),dblClickHandler:n.delegate(this,oe),dragHandler:n.delegate(this,Q),dragEndHandler:n.delegate(this,N),enterHandler:n.delegate(this,ae),leaveHandler:n.delegate(this,pe),pressHandler:n.delegate(this,fe),releaseHandler:n.delegate(this,Oe),nonPrimaryPressHandler:n.delegate(this,Le),nonPrimaryReleaseHandler:n.delegate(this,we),scrollHandler:n.delegate(this,j),pinchHandler:n.delegate(this,Re),focusHandler:n.delegate(this,Ne),blurHandler:n.delegate(this,Ve)}),this.outerTracker=new n.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:n.delegate(this,le),leaveHandler:n.delegate(this,he)}),this.toolbar&&(this.toolbar=new n.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=l(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){a[V.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new n.World({viewer:this}),this.world.addHandler("add-item",function(ie){V.source=V.world.getItemAt(0).source,a[V.hash].forceRedraw=!0,V._updateRequestId||(V._updateRequestId=c(V,Ue))}),this.world.addHandler("remove-item",function(ie){V.world.getItemCount()?V.source=V.world.getItemAt(0).source:V.source=null,a[V.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ie){V.viewport&&V.viewport._setContentBounds(V.world.getHomeBounds(),V.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ie){V.source=V.world.getItemAt(0).source}),this.viewport=new n.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new n.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:T.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new n.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(n.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=n.HTMLDrawer),delete this.drawerOptions.useCanvas);let ve=Array.isArray(this.drawer)?this.drawer:[this.drawer];ve.length===0&&(ve=[n.DEFAULT_SETTINGS.drawer].flat(),n.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const ie of ve)if(this.requestDrawer(ie,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw n.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=n.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(re=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(re,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(re=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(re,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new n.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),re=0;re<this.customControls.length;re++)this.addControl(this.customControls[re].id,{anchor:this.customControls[re].anchor});n.requestAnimationFrame(function(){g(V)}),n._viewers.set(this.element,this)},n.extend(n.Viewer.prototype,n.EventSource.prototype,n.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(T){return n.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(T)},openTileSource:function(T){return n.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(T)},get buttons(){return n.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(T,z){var V=this;if(this.close(),!T)return this;if(this.sequenceMode&&n.isArray(T))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof z<"u"&&!isNaN(z)&&(this.initialPage=z),this.tileSources=T,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(n.isArray(T)||(T=[T]),!T.length)return this;this._opening=!0;for(var re=T.length,ue=0,ve=0,ie,Ee=function(){if(ue+ve===re)if(ue){(V._firstOpen||!V.preserveViewport)&&(V.viewport.goHome(!0),V.viewport.update()),V._firstOpen=!1;var Ce=T[0];if(Ce.tileSource&&(Ce=Ce.tileSource),V.overlays&&!V.preserveOverlays)for(var ot=0;ot<V.overlays.length;ot++)V.currentOverlays[ot]=f(V,V.overlays[ot]);V._drawOverlays(),V._opening=!1,V.raiseEvent("open",{source:Ce})}else V._opening=!1,V.raiseEvent("open-failed",ie)},Je=function(Ce){(!n.isPlainObject(Ce)||!Ce.tileSource)&&(Ce={tileSource:Ce}),Ce.index!==void 0&&(n.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Ce.index),Ce.collectionImmediately===void 0&&(Ce.collectionImmediately=!0);var ot=Ce.success;Ce.success=function(S){if(ue++,Ce.tileSource.overlays)for(var D=0;D<Ce.tileSource.overlays.length;D++)V.addOverlay(Ce.tileSource.overlays[D]);ot&&ot(S),Ee()};var E=Ce.error;Ce.error=function(S){ve++,ie||(ie=S),E&&E(S),Ee()},V.addTiledImage(Ce)},Ie=0;Ie<T.length;Ie++)Je(T[Ie]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(n.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,n._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(T,z){const V={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};z=n.extend(!0,V,z);const re=z.mainDrawer,ue=z.redrawImmediately,ve=z.drawerOptions,ie=this.drawer;let Ee=null;if(T&&T.prototype instanceof n.DrawerBase?(Ee=T,T="custom"):typeof T=="string"&&(Ee=n.determineDrawer(T)),Ee||n.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),Ee&&Ee.isSupported()){ie&&re&&ie.destroy();const Je=new Ee({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:ve||this.drawerOptions[T]});return re&&(this.drawer=Je,ue&&this.forceRedraw()),Je}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(T){return this.innerTracker.setTracking(T),this.outerTracker.setTracking(T),this.raiseEvent("mouse-enabled",{enabled:T}),this},areControlsEnabled:function(){var T=this.controls.length,z;for(z=0;z<this.controls.length;z++)T=T&&this.controls[z].isVisible();return T},setControlsEnabled:function(T){return T?x(this):g(this),this.raiseEvent("controls-enabled",{enabled:T}),this},setDebugMode:function(T){for(var z=0;z<this.world.getItemCount();z++)this.world.getItemAt(z).debugMode=T;this.debugMode=T,this.forceRedraw()},setAjaxHeaders:function(T,z){if(T===null&&(T={}),!n.isPlainObject(T)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(z===void 0&&(z=!0),this.ajaxHeaders=T,z){for(var V=0;V<this.world.getItemCount();V++)this.world.getItemAt(V)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var re in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[re].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(T){this.buttonGroup.addButton(T)},isFullPage:function(){return a[this.hash]&&a[this.hash].fullPage},setFullPage:function(T){var z=document.body,V=z.style,re=document.documentElement.style,ue=this,ve,ie;if(T===this.isFullPage())return this;var Ee={fullPage:T,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Ee),Ee.preventDefaultAction)return this;if(T&&this.element){for(this.elementSize=n.getElementSize(this.element),this.pageScroll=n.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=V.margin,this.docMargin=re.margin,V.margin="0",re.margin="0",this.bodyPadding=V.padding,this.docPadding=re.padding,V.padding="0",re.padding="0",this.bodyWidth=V.width,this.docWidth=re.width,V.width="100%",re.width="100%",this.bodyHeight=V.height,this.docHeight=re.height,V.height="100%",re.height="100%",this.bodyDisplay=V.display,V.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,ve=z.childNodes.length,ie=0;ie<ve;ie++)this.previousBody.push(z.childNodes[0]),z.removeChild(z.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,z.appendChild(this.toolbar.element),n.addClass(this.toolbar.element,"fullpage")),n.addClass(this.element,"fullpage"),z.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=n.getElementSize(this.element).y-n.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,n.delegate(this,le)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,V.margin=this.bodyMargin,re.margin=this.docMargin,V.padding=this.bodyPadding,re.padding=this.docPadding,V.width=this.bodyWidth,re.width=this.docWidth,V.height=this.bodyHeight,re.height=this.docHeight,V.display=this.bodyDisplay,z.removeChild(this.element),ve=this.previousBody.length,ie=0;ie<ve;ie++)z.appendChild(this.previousBody.shift());n.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(z.removeChild(this.toolbar.element),n.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var Je=0,Ie=function(){n.setPageScroll(ue.pageScroll);var Ce=n.getPageScroll();Je++,Je<10&&(Ce.x!==ue.pageScroll.x||Ce.y!==ue.pageScroll.y)&&n.requestAnimationFrame(Ie)};n.requestAnimationFrame(Ie),a[this.hash].fullPage=!1,n.delegate(this,he)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:T}),this},setFullScreen:function(T){var z=this;if(!n.supportsFullScreen)return this.setFullPage(T);if(n.isFullScreen()===T)return this;var V={fullScreen:T,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",V),V.preventDefaultAction)return this;if(T){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var re=function(){var ue=n.isFullScreen();ue||(n.removeEvent(document,n.fullScreenEventName,re),n.removeEvent(document,n.fullScreenErrorEventName,re),z.setFullPage(!1),z.isFullPage()&&(z.element.style.width=z.fullPageStyleWidth,z.element.style.height=z.fullPageStyleHeight)),z.navigator&&z.viewport&&setTimeout(function(){z.navigator.update(z.viewport)}),z.raiseEvent("full-screen",{fullScreen:ue})};n.addEvent(document,n.fullScreenEventName,re),n.addEvent(document,n.fullScreenErrorEventName,re),n.requestFullScreen(document.body)}else n.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return n.isFullScreen()&&this.isFullPage()},setVisible:function(T){return this.container.style.visibility=T?"":"hidden",this.raiseEvent("visible",{visible:T}),this},addTiledImage:function(T){n.console.assert(T,"[Viewer.addTiledImage] options is required"),n.console.assert(T.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),n.console.assert(!T.replace||T.index>-1&&T.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var z=this;T.replace&&(T.replaceItem=z.world.getItemAt(T.index)),this._hideMessage(),T.placeholderFillStyle===void 0&&(T.placeholderFillStyle=this.placeholderFillStyle),T.opacity===void 0&&(T.opacity=this.opacity),T.preload===void 0&&(T.preload=this.preload),T.compositeOperation===void 0&&(T.compositeOperation=this.compositeOperation),T.crossOriginPolicy===void 0&&(T.crossOriginPolicy=T.tileSource.crossOriginPolicy!==void 0?T.tileSource.crossOriginPolicy:this.crossOriginPolicy),T.ajaxWithCredentials===void 0&&(T.ajaxWithCredentials=this.ajaxWithCredentials),T.loadTilesWithAjax===void 0&&(T.loadTilesWithAjax=this.loadTilesWithAjax),n.isPlainObject(T.ajaxHeaders)||(T.ajaxHeaders={});var V={options:T};function re(ie){for(var Ee=0;Ee<z._loadQueue.length;Ee++)if(z._loadQueue[Ee]===V){z._loadQueue.splice(Ee,1);break}z._loadQueue.length===0&&ue(V),z.raiseEvent("add-item-failed",ie),T.error&&T.error(ie)}function ue(ie){z.collectionMode&&(z.world.arrange({immediately:ie.options.collectionImmediately,rows:z.collectionRows,columns:z.collectionColumns,layout:z.collectionLayout,tileSize:z.collectionTileSize,tileMargin:z.collectionTileMargin}),z.world.setAutoRefigureSizes(!0))}if(n.isArray(T.tileSource)){setTimeout(function(){re({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:T.tileSource,options:T})});return}this._loadQueue.push(V);function ve(){for(var ie,Ee,Je;z._loadQueue.length&&(ie=z._loadQueue[0],!!ie.tileSource);){if(z._loadQueue.splice(0,1),ie.options.replace){var Ie=z.world.getIndexOfItem(ie.options.replaceItem);Ie!==-1&&(ie.options.index=Ie),z.world.removeItem(ie.options.replaceItem)}Ee=new n.TiledImage({viewer:z,source:ie.tileSource,viewport:z.viewport,drawer:z.drawer,tileCache:z.tileCache,imageLoader:z.imageLoader,x:ie.options.x,y:ie.options.y,width:ie.options.width,height:ie.options.height,fitBounds:ie.options.fitBounds,fitBoundsPlacement:ie.options.fitBoundsPlacement,clip:ie.options.clip,placeholderFillStyle:ie.options.placeholderFillStyle,opacity:ie.options.opacity,preload:ie.options.preload,degrees:ie.options.degrees,flipped:ie.options.flipped,compositeOperation:ie.options.compositeOperation,springStiffness:z.springStiffness,animationTime:z.animationTime,minZoomImageRatio:z.minZoomImageRatio,wrapHorizontal:z.wrapHorizontal,wrapVertical:z.wrapVertical,maxTilesPerFrame:z.maxTilesPerFrame,immediateRender:z.immediateRender,blendTime:z.blendTime,alwaysBlend:z.alwaysBlend,minPixelRatio:z.minPixelRatio,smoothTileEdgesMinZoom:z.smoothTileEdgesMinZoom,iOSDevice:z.iOSDevice,crossOriginPolicy:ie.options.crossOriginPolicy,ajaxWithCredentials:ie.options.ajaxWithCredentials,loadTilesWithAjax:ie.options.loadTilesWithAjax,ajaxHeaders:ie.options.ajaxHeaders,debugMode:z.debugMode,subPixelRoundingForTransparency:z.subPixelRoundingForTransparency}),z.collectionMode&&z.world.setAutoRefigureSizes(!1),z.navigator&&(Je=n.extend({},ie.options,{replace:!1,originalTiledImage:Ee,tileSource:ie.tileSource}),z.navigator.addTiledImage(Je)),z.world.addItem(Ee,{index:ie.options.index}),z._loadQueue.length===0&&ue(ie),z.world.getItemCount()===1&&!z.preserveViewport&&z.viewport.goHome(!0),ie.options.success&&ie.options.success({item:Ee})}}u(this,T.tileSource,T,function(ie){V.tileSource=ie,ve()},function(ie){ie.options=T,re(ie),ve()})},addSimpleImage:function(T){n.console.assert(T,"[Viewer.addSimpleImage] options is required"),n.console.assert(T.url,"[Viewer.addSimpleImage] options.url is required");var z=n.extend({},T,{tileSource:{type:"image",url:T.url}});delete z.url,this.addTiledImage(z)},addLayer:function(T){var z=this;n.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var V=n.extend({},T,{success:function(re){z.raiseEvent("add-layer",{options:T,drawer:re.item})},error:function(re){z.raiseEvent("add-layer-failed",re)}});return this.addTiledImage(V),this},getLayerAtLevel:function(T){return n.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(T)},getLevelOfLayer:function(T){return n.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(T)},getLayersCount:function(){return n.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(T,z){return n.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(T,z)},removeLayer:function(T){return n.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(T)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},forceResize:function(){a[this.hash].needsResize=!0,a[this.hash].forceResize=!0},bindSequenceControls:function(){var T=n.delegate(this,_),z=n.delegate(this,R),V=n.delegate(this,this.goToNextPage),re=n.delegate(this,this.goToPreviousPage),ue=this.navImages,ve=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ve=!1),this.previousButton=new n.Button({element:this.previousButton?n.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.PreviousPage"),srcRest:$(this.prefixUrl,ue.previous.REST),srcGroup:$(this.prefixUrl,ue.previous.GROUP),srcHover:$(this.prefixUrl,ue.previous.HOVER),srcDown:$(this.prefixUrl,ue.previous.DOWN),onRelease:re,onFocus:T,onBlur:z}),this.nextButton=new n.Button({element:this.nextButton?n.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.NextPage"),srcRest:$(this.prefixUrl,ue.next.REST),srcGroup:$(this.prefixUrl,ue.next.GROUP),srcHover:$(this.prefixUrl,ue.next.HOVER),srcDown:$(this.prefixUrl,ue.next.DOWN),onRelease:V,onFocus:T,onBlur:z}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ve&&(this.paging=new n.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:n.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||n.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var T=n.delegate(this,de),z=n.delegate(this,Fe),V=n.delegate(this,pt),re=n.delegate(this,Pe),ue=n.delegate(this,mt),ve=n.delegate(this,Hi),ie=n.delegate(this,Yi),Ee=n.delegate(this,Lt),Je=n.delegate(this,Di),Ie=n.delegate(this,fi),Ce=n.delegate(this,_),ot=n.delegate(this,R),E=this.navImages,S=[],D=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(D=!1),this.showZoomControl&&(S.push(this.zoomInButton=new n.Button({element:this.zoomInButton?n.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomIn"),srcRest:$(this.prefixUrl,E.zoomIn.REST),srcGroup:$(this.prefixUrl,E.zoomIn.GROUP),srcHover:$(this.prefixUrl,E.zoomIn.HOVER),srcDown:$(this.prefixUrl,E.zoomIn.DOWN),onPress:T,onRelease:z,onClick:V,onEnter:T,onExit:z,onFocus:Ce,onBlur:ot})),S.push(this.zoomOutButton=new n.Button({element:this.zoomOutButton?n.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomOut"),srcRest:$(this.prefixUrl,E.zoomOut.REST),srcGroup:$(this.prefixUrl,E.zoomOut.GROUP),srcHover:$(this.prefixUrl,E.zoomOut.HOVER),srcDown:$(this.prefixUrl,E.zoomOut.DOWN),onPress:re,onRelease:z,onClick:ue,onEnter:re,onExit:z,onFocus:Ce,onBlur:ot}))),this.showHomeControl&&S.push(this.homeButton=new n.Button({element:this.homeButton?n.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Home"),srcRest:$(this.prefixUrl,E.home.REST),srcGroup:$(this.prefixUrl,E.home.GROUP),srcHover:$(this.prefixUrl,E.home.HOVER),srcDown:$(this.prefixUrl,E.home.DOWN),onRelease:ve,onFocus:Ce,onBlur:ot})),this.showFullPageControl&&S.push(this.fullPageButton=new n.Button({element:this.fullPageButton?n.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.FullPage"),srcRest:$(this.prefixUrl,E.fullpage.REST),srcGroup:$(this.prefixUrl,E.fullpage.GROUP),srcHover:$(this.prefixUrl,E.fullpage.HOVER),srcDown:$(this.prefixUrl,E.fullpage.DOWN),onRelease:ie,onFocus:Ce,onBlur:ot})),this.showRotationControl&&(S.push(this.rotateLeftButton=new n.Button({element:this.rotateLeftButton?n.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateLeft"),srcRest:$(this.prefixUrl,E.rotateleft.REST),srcGroup:$(this.prefixUrl,E.rotateleft.GROUP),srcHover:$(this.prefixUrl,E.rotateleft.HOVER),srcDown:$(this.prefixUrl,E.rotateleft.DOWN),onRelease:Ee,onFocus:Ce,onBlur:ot})),S.push(this.rotateRightButton=new n.Button({element:this.rotateRightButton?n.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.RotateRight"),srcRest:$(this.prefixUrl,E.rotateright.REST),srcGroup:$(this.prefixUrl,E.rotateright.GROUP),srcHover:$(this.prefixUrl,E.rotateright.HOVER),srcDown:$(this.prefixUrl,E.rotateright.DOWN),onRelease:Je,onFocus:Ce,onBlur:ot}))),this.showFlipControl&&S.push(this.flipButton=new n.Button({element:this.flipButton?n.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Flip"),srcRest:$(this.prefixUrl,E.flip.REST),srcGroup:$(this.prefixUrl,E.flip.GROUP),srcHover:$(this.prefixUrl,E.flip.HOVER),srcDown:$(this.prefixUrl,E.flip.DOWN),onRelease:Ie,onFocus:Ce,onBlur:ot})),D?(this.buttonGroup=new n.ButtonGroup({buttons:S,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",n.delegate(this,Zt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||n.ControlAnchor.TOP_LEFT})):this.customButtons=S),this},currentPage:function(){return this._sequenceIndex},goToPage:function(T){return this.tileSources&&T>=0&&T<this.tileSources.length&&(this._sequenceIndex=T,this._updateSequenceButtons(T),this.open(this.tileSources[T]),this.referenceStrip&&this.referenceStrip.setFocus(T),this.raiseEvent("page",{page:T})),this},addOverlay:function(T,z,V,re){var ue;if(n.isPlainObject(T)?ue=T:ue={element:T,location:z,placement:V,onDraw:re},T=n.getElement(ue.element),h(this.currentOverlays,T)>=0)return this;var ve=f(this,ue);return this.currentOverlays.push(ve),ve.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:T,location:ue.location,placement:ue.placement}),this},updateOverlay:function(T,z,V){var re;return T=n.getElement(T),re=h(this.currentOverlays,T),re>=0&&(this.currentOverlays[re].update(z,V),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:T,location:z,placement:V})),this},removeOverlay:function(T){var z;return T=n.getElement(T),z=h(this.currentOverlays,T),z>=0&&(this.currentOverlays[z].destroy(),this.currentOverlays.splice(z,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:T})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(T){var z;return T=n.getElement(T),z=h(this.currentOverlays,T),z>=0?this.currentOverlays[z]:null},_updateSequenceButtons:function(T){this.nextButton&&(!this.tileSources||this.tileSources.length-1===T?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(T>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(T){this._hideMessage();var z=n.makeNeutralElement("div");z.appendChild(document.createTextNode(T)),this.messageDiv=n.makeCenteredNode(z),n.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var T=this.messageDiv;T&&(T.parentNode.removeChild(T),delete this.messageDiv)},gestureSettingsByDeviceType:function(T){switch(T){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var T,z=this.currentOverlays.length;for(T=0;T<z;T++)this.currentOverlays[T].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new n.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else n.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),n.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){n.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var T=n.pixelDensityRatio,z=n.getCurrentPixelDensityRatio();T!==z&&(n.pixelDensityRatio=z,this.forceResize())},goToPreviousPage:function(){var T=this._sequenceIndex-1;this.navPrevNextWrap&&T<0&&(T+=this.tileSources.length),this.goToPage(T)},goToNextPage:function(){var T=this._sequenceIndex+1;this.navPrevNextWrap&&T>=this.tileSources.length&&(T=0),this.goToPage(T)},isAnimating:function(){return a[this.hash].animating}});function l(T){return T=n.getElement(T),new n.Point(T.clientWidth===0?1:T.clientWidth,T.clientHeight===0?1:T.clientHeight)}function u(T,z,V,re,ue){var ve=T;if(n.type(z)==="string"){if(z.match(/^\s*<.*>\s*$/))z=n.parseXml(z);else if(z.match(/^\s*[{[].*[}\]]\s*$/))try{var ie=n.parseJSON(z);z=ie}catch{}}function Ee(Je,Ie){Je.ready?re(Je):(Je.addHandler("ready",function(){re(Je)}),Je.addHandler("open-failed",function(Ce){ue({message:Ce.message,source:Ie})}))}setTimeout(function(){if(n.type(z)==="string")z=new n.TileSource({url:z,crossOriginPolicy:V.crossOriginPolicy!==void 0?V.crossOriginPolicy:T.crossOriginPolicy,ajaxWithCredentials:T.ajaxWithCredentials,ajaxHeaders:V.ajaxHeaders?V.ajaxHeaders:T.ajaxHeaders,splitHashDataForPost:T.splitHashDataForPost,success:function(ot){re(ot.tileSource)}}),z.addHandler("open-failed",function(ot){ue(ot)});else if(n.isPlainObject(z)||z.nodeType)if(z.crossOriginPolicy===void 0&&(V.crossOriginPolicy!==void 0||T.crossOriginPolicy!==void 0)&&(z.crossOriginPolicy=V.crossOriginPolicy!==void 0?V.crossOriginPolicy:T.crossOriginPolicy),z.ajaxWithCredentials===void 0&&(z.ajaxWithCredentials=T.ajaxWithCredentials),n.isFunction(z.getTileUrl)){var Je=new n.TileSource(z);Je.getTileUrl=z.getTileUrl,re(Je)}else{var Ie=n.TileSource.determineType(ve,z);if(!Ie){ue({message:"Unable to load TileSource",source:z});return}var Ce=Ie.prototype.configure.apply(ve,[z]);Ee(new Ie(Ce),z)}else Ee(z,z)})}function f(T,z){if(z instanceof n.Overlay)return z;var V=null;if(z.element)V=n.getElement(z.element);else{var re=z.id?z.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);V=n.getElement(z.id),V||(V=document.createElement("a"),V.href="#/overlay/"+re),V.id=re,n.addClass(V,z.className?z.className:"openseadragon-overlay")}var ue=z.location,ve=z.width,ie=z.height;if(!ue){var Ee=z.x,Je=z.y;if(z.px!==void 0){var Ie=T.viewport.imageToViewportRectangle(new n.Rect(z.px,z.py,ve||0,ie||0));Ee=Ie.x,Je=Ie.y,ve=ve!==void 0?Ie.width:void 0,ie=ie!==void 0?Ie.height:void 0}ue=new n.Point(Ee,Je)}var Ce=z.placement;return Ce&&n.type(Ce)==="string"&&(Ce=n.Placement[z.placement.toUpperCase()]),new n.Overlay({element:V,location:ue,placement:Ce,onDraw:z.onDraw,checkResize:z.checkResize,width:ve,height:ie,rotationMode:z.rotationMode})}function h(T,z){var V;for(V=T.length-1;V>=0;V--)if(T[V].element===z)return V;return-1}function c(T,z){return n.requestAnimationFrame(function(){z(T)})}function m(T){n.requestAnimationFrame(function(){y(T)})}function g(T){T.autoHideControls&&(T.controlsShouldFade=!0,T.controlsFadeBeginTime=n.now()+T.controlsFadeDelay,window.setTimeout(function(){m(T)},T.controlsFadeDelay))}function y(T){var z,V,re,ue;if(T.controlsShouldFade){for(z=n.now(),V=z-T.controlsFadeBeginTime,re=1-V/T.controlsFadeLength,re=Math.min(1,re),re=Math.max(0,re),ue=T.controls.length-1;ue>=0;ue--)T.controls[ue].autoFade&&T.controls[ue].setOpacity(re);re>0&&m(T)}}function x(T){var z;for(T.controlsShouldFade=!1,z=T.controls.length-1;z>=0;z--)T.controls[z].setOpacity(1)}function _(){x(this)}function R(){g(this)}function M(T){var z={tracker:T.eventSource,position:T.position,originalEvent:T.originalEvent,preventDefault:T.preventDefault};this.raiseEvent("canvas-contextmenu",z),T.preventDefault=z.preventDefault}function C(T){var z={originalEvent:T.originalEvent,preventDefaultAction:!1,preventVerticalPan:T.preventVerticalPan||!this.panVertical,preventHorizontalPan:T.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",z),!z.preventDefaultAction&&!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 38:z.preventVerticalPan||(T.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 40:z.preventVerticalPan||(T.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 37:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 39:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 87:z.preventVerticalPan||(T.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,-40))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 83:z.preventVerticalPan||(T.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(0,40))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 65:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(-40,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 68:z.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new n.Point(40,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 82:T.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),T.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:T.preventDefault=!1;break}else T.preventDefault=!1}function H(T){var z={originalEvent:T.originalEvent};this.raiseEvent("canvas-key-press",z)}function U(T){var z,V=document.activeElement===this.canvas;V||this.canvas.focus(),this.viewport.flipped&&(T.position.x=this.viewport.getContainerSize().x-T.position.x);var re={tracker:T.eventSource,position:T.position,quick:T.quick,shift:T.shift,originalEvent:T.originalEvent,originalTarget:T.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",re),!re.preventDefaultAction&&this.viewport&&T.quick&&(z=this.gestureSettingsByDeviceType(T.pointerType),z.clickToZoom===!0&&(this.viewport.zoomBy(T.shift?1/this.zoomPerClick:this.zoomPerClick,z.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints()),z.dblClickDragToZoom&&(a[this.hash].draggingToZoom===!0?(a[this.hash].lastClickTime=null,a[this.hash].draggingToZoom=!1):a[this.hash].lastClickTime=n.now()))}function oe(T){var z,V={tracker:T.eventSource,position:T.position,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",V),!V.preventDefaultAction&&this.viewport&&(z=this.gestureSettingsByDeviceType(T.pointerType),z.dblClickToZoom&&(this.viewport.zoomBy(T.shift?1/this.zoomPerClick:this.zoomPerClick,z.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints()))}function Q(T){var z,V={tracker:T.eventSource,pointerType:T.pointerType,position:T.position,delta:T.delta,speed:T.speed,direction:T.direction,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",V),z=this.gestureSettingsByDeviceType(T.pointerType),!V.preventDefaultAction&&this.viewport){if(z.dblClickDragToZoom&&a[this.hash].draggingToZoom){var re=Math.pow(this.zoomPerDblClickDrag,T.delta.y/50);this.viewport.zoomBy(re)}else if(z.dragToPan&&!a[this.hash].draggingToZoom){if(this.panHorizontal||(T.delta.x=0),this.panVertical||(T.delta.y=0),this.viewport.flipped&&(T.delta.x=-T.delta.x),this.constrainDuringPan){var ue=this.viewport.deltaPointsFromPixels(T.delta.negate());this.viewport.centerSpringX.target.value+=ue.x,this.viewport.centerSpringY.target.value+=ue.y;var ve=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ue.x,this.viewport.centerSpringY.target.value-=ue.y,ve.xConstrained&&(T.delta.x=0),ve.yConstrained&&(T.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(T.delta.negate()),z.flickEnabled&&!this.constrainDuringPan)}}}function N(T){var z,V={tracker:T.eventSource,pointerType:T.pointerType,position:T.position,speed:T.speed,direction:T.direction,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",V),z=this.gestureSettingsByDeviceType(T.pointerType),!V.preventDefaultAction&&this.viewport){if(!a[this.hash].draggingToZoom&&z.dragToPan&&z.flickEnabled&&T.speed>=z.flickMinSpeed){var re=0;this.panHorizontal&&(re=z.flickMomentum*T.speed*Math.cos(T.direction));var ue=0;this.panVertical&&(ue=z.flickMomentum*T.speed*Math.sin(T.direction));var ve=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ie=this.viewport.pointFromPixel(new n.Point(ve.x-re,ve.y-ue));this.viewport.panTo(ie,!1)}this.viewport.applyConstraints()}z.dblClickDragToZoom&&a[this.hash].draggingToZoom===!0&&(a[this.hash].draggingToZoom=!1)}function ae(T){this.raiseEvent("canvas-enter",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function pe(T){this.raiseEvent("canvas-exit",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function fe(T){var z;if(this.raiseEvent("canvas-press",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,insideElementPressed:T.insideElementPressed,insideElementReleased:T.insideElementReleased,originalEvent:T.originalEvent}),z=this.gestureSettingsByDeviceType(T.pointerType),z.dblClickDragToZoom){var V=a[this.hash].lastClickTime,re=n.now();if(V===null)return;re-V<this.dblClickTimeThreshold&&(a[this.hash].draggingToZoom=!0),a[this.hash].lastClickTime=null}}function Oe(T){this.raiseEvent("canvas-release",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,insideElementPressed:T.insideElementPressed,insideElementReleased:T.insideElementReleased,originalEvent:T.originalEvent})}function Le(T){this.raiseEvent("canvas-nonprimary-press",{tracker:T.eventSource,position:T.position,pointerType:T.pointerType,button:T.button,buttons:T.buttons,originalEvent:T.originalEvent})}function we(T){this.raiseEvent("canvas-nonprimary-release",{tracker:T.eventSource,position:T.position,pointerType:T.pointerType,button:T.button,buttons:T.buttons,originalEvent:T.originalEvent})}function Re(T){var z,V,re,ue,ve={tracker:T.eventSource,pointerType:T.pointerType,gesturePoints:T.gesturePoints,lastCenter:T.lastCenter,center:T.center,lastDistance:T.lastDistance,distance:T.distance,shift:T.shift,originalEvent:T.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ve),this.viewport&&(z=this.gestureSettingsByDeviceType(T.pointerType),z.pinchToZoom&&(!ve.preventDefaultPanAction||!ve.preventDefaultZoomAction)&&(V=this.viewport.pointFromPixel(T.center,!0),z.zoomToRefPoint&&!ve.preventDefaultPanAction&&(re=this.viewport.pointFromPixel(T.lastCenter,!0),ue=re.minus(V),this.panHorizontal||(ue.x=0),this.panVertical||(ue.y=0),this.viewport.panBy(ue,!0)),ve.preventDefaultZoomAction||this.viewport.zoomBy(T.distance/T.lastDistance,V,!0),this.viewport.applyConstraints()),z.pinchRotate&&!ve.preventDefaultRotateAction)){var ie=Math.atan2(T.gesturePoints[0].currentPos.y-T.gesturePoints[1].currentPos.y,T.gesturePoints[0].currentPos.x-T.gesturePoints[1].currentPos.x),Ee=Math.atan2(T.gesturePoints[0].lastPos.y-T.gesturePoints[1].lastPos.y,T.gesturePoints[0].lastPos.x-T.gesturePoints[1].lastPos.x);V=this.viewport.pointFromPixel(T.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(ie-Ee)*(180/Math.PI),V,!0)}}function Ne(T){this.raiseEvent("canvas-focus",{tracker:T.eventSource,originalEvent:T.originalEvent})}function Ve(T){this.raiseEvent("canvas-blur",{tracker:T.eventSource,originalEvent:T.originalEvent})}function j(T){var z,V,re,ue,ve;ue=n.now(),ve=ue-this._lastScrollTime,ve>this.minScrollDeltaTime?(this._lastScrollTime=ue,z={tracker:T.eventSource,position:T.position,scroll:T.scroll,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",z),!z.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(T.position.x=this.viewport.getContainerSize().x-T.position.x),V=this.gestureSettingsByDeviceType(T.pointerType),V.scrollToZoom&&(re=Math.pow(this.zoomPerScroll,T.scroll),this.viewport.zoomBy(re,V.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints())),T.preventDefault=z.preventDefault):T.preventDefault=!0}function le(T){a[this.hash].mouseInside=!0,x(this),this.raiseEvent("container-enter",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function he(T){T.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||g(this)),this.raiseEvent("container-exit",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function Ue(T){B(T),T.isOpen()?T._updateRequestId=c(T,Ue):T._updateRequestId=!1}function He(T,z){var V=T.viewport,re=V.getZoom(),ue=V.getCenter();V.resize(z,T.preserveImageSizeOnResize),V.panTo(ue,!0);var ve;if(T.preserveImageSizeOnResize)ve=a[T.hash].prevContainerSize.x/z.x;else{var ie=new n.Point(0,0),Ee=new n.Point(a[T.hash].prevContainerSize.x,a[T.hash].prevContainerSize.y).distanceTo(ie),Je=new n.Point(z.x,z.y).distanceTo(ie);ve=Je/Ee*a[T.hash].prevContainerSize.x/z.x}V.zoomTo(re*ve,null,!0),a[T.hash].prevContainerSize=z,a[T.hash].forceRedraw=!0,a[T.hash].needsResize=!1,a[T.hash].forceResize=!1}function B(T){if(!(T._opening||!a[T.hash])){if(T.autoResize||a[T.hash].forceResize){var z;if(T._autoResizePolling){z=l(T.container);var V=a[T.hash].prevContainerSize;z.equals(V)||(a[T.hash].needsResize=!0)}a[T.hash].needsResize&&He(T,z||l(T.container))}var re=T.viewport.update(),ue=T.world.update(re)||re;re&&T.raiseEvent("viewport-change"),T.referenceStrip&&(ue=T.referenceStrip.update(T.viewport)||ue);var ve=a[T.hash].animating;!ve&&ue&&(T.raiseEvent("animation-start"),x(T));var ie=ve&&!ue;ie&&(a[T.hash].animating=!1),(ue||ie||a[T.hash].forceRedraw||T.world.needsDraw())&&(K(T),T._drawOverlays(),T.navigator&&T.navigator.update(T.viewport),a[T.hash].forceRedraw=!1,ue&&T.raiseEvent("animation")),ie&&(T.raiseEvent("animation-finish"),a[T.hash].mouseInside||g(T)),a[T.hash].animating=ue}}function K(T){T.imageLoader.clear(),T.world.draw(),T.raiseEvent("update-viewport",{})}function $(T,z){return T?T+z:z}function de(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,Xe(this)}function Pe(){a[this.hash].lastZoomTime=n.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,Xe(this)}function Fe(){a[this.hash].zooming=!1}function Xe(T){n.requestAnimationFrame(n.delegate(T,xt))}function xt(){var T,z,V;a[this.hash].zooming&&this.viewport&&(T=n.now(),z=T-a[this.hash].lastZoomTime,V=Math.pow(a[this.hash].zoomFactor,z/1e3),this.viewport.zoomBy(V),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=T,Xe(this))}function pt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function mt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Zt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Hi(){this.viewport&&this.viewport.goHome()}function Yi(){this.isFullPage()&&!n.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Lt(){if(this.viewport){var T=this.viewport.getRotation();this.viewport.flipped?T+=this.rotationIncrement:T-=this.rotationIncrement,this.viewport.setRotation(T)}}function Di(){if(this.viewport){var T=this.viewport.getRotation();this.viewport.flipped?T-=this.rotationIncrement:T+=this.rotationIncrement,this.viewport.setRotation(T)}}function fi(){this.viewport.toggleFlip()}n.determineDrawer=function(T){for(let z in v){const V=v[z],re=V.prototype;if(re&&re instanceof v.DrawerBase&&n.isFunction(re.getType)&&re.getType.call(V)===T)return V}return null}})(v),(function(n){n.Navigator=function(c){var m=c.viewer,g=this,y,x;c.element||c.id?(c.element?(c.id&&n.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),c.element.id?c.id=c.element.id:c.id="navigator-"+n.now(),this.element=c.element):this.element=document.getElementById(c.id),c.controlOptions={anchor:n.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(c.id="navigator-"+n.now(),this.element=n.makeNeutralElement("div"),c.controlOptions={anchor:n.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:c.autoFade},c.position&&(c.position==="BOTTOM_RIGHT"?c.controlOptions.anchor=n.ControlAnchor.BOTTOM_RIGHT:c.position==="BOTTOM_LEFT"?c.controlOptions.anchor=n.ControlAnchor.BOTTOM_LEFT:c.position==="TOP_RIGHT"?c.controlOptions.anchor=n.ControlAnchor.TOP_RIGHT:c.position==="TOP_LEFT"?c.controlOptions.anchor=n.ControlAnchor.TOP_LEFT:c.position==="ABSOLUTE"&&(c.controlOptions.anchor=n.ControlAnchor.ABSOLUTE,c.controlOptions.top=c.top,c.controlOptions.left=c.left,c.controlOptions.height=c.height,c.controlOptions.width=c.width))),this.element.id=c.id,this.element.className+=" navigator",c=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.navigatorSizeRatio},c,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:c.animationTime,autoResize:!1,minZoomImageRatio:1,background:c.background,opacity:c.opacity,borderColor:c.borderColor,displayRegionColor:c.displayRegionColor}),c.minPixelRatio=this.minPixelRatio=m.minPixelRatio,n.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new n.Point(1,1),this.totalBorderWidths=new n.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),c.controlOptions.anchor!==n.ControlAnchor.NONE&&(function(M,C){M.margin="0px",M.border=C+"px solid "+c.borderColor,M.padding="0px",M.background=c.background,M.opacity=c.opacity,M.overflow="hidden"})(this.element.style,this.borderWidth),this.displayRegion=n.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",(function(M,C){M.position="relative",M.top="0px",M.left="0px",M.fontSize="0px",M.overflow="hidden",M.border=C+"px solid "+c.displayRegionColor,M.margin="0px",M.padding="0px",M.background="transparent",M.float="left",M.cssFloat="left",M.zIndex=999999999,M.cursor="default",M.boxSizing="content-box"})(this.displayRegion.style,this.borderWidth),n.setElementPointerEventsNone(this.displayRegion),n.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=n.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",n.setElementPointerEventsNone(this.displayRegionContainer),n.setElementTouchActionNone(this.displayRegionContainer),m.addControl(this.element,c.controlOptions),this._resizeWithViewer=c.controlOptions.anchor!==n.ControlAnchor.ABSOLUTE&&c.controlOptions.anchor!==n.ControlAnchor.NONE,c.width&&c.height?(this.setWidth(c.width),this.setHeight(c.height)):this._resizeWithViewer&&(y=n.getElementSize(m.element),this.element.style.height=Math.round(y.y*c.sizeRatio)+"px",this.element.style.width=Math.round(y.x*c.sizeRatio)+"px",this.oldViewerSize=y,x=n.getElementSize(this.element),this.elementArea=x.x*x.y),this.oldContainerSize=new n.Point(0,0),n.Viewer.apply(this,[c]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function _(M,C){f(g.displayRegionContainer,M),f(g.displayRegion,-M),g.viewport.setRotation(M,C)}if(c.navigatorRotate){var R=c.viewer.viewport?c.viewer.viewport.getRotation():c.viewer.degrees||0;_(R,!0),c.viewer.addHandler("rotate",function(M){_(M.degrees,M.immediately)})}this.innerTracker.destroy(),this.innerTracker=new n.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:n.delegate(this,o),clickHandler:n.delegate(this,a),releaseHandler:n.delegate(this,l),scrollHandler:n.delegate(this,u),preProcessEventHandler:function(M){M.eventType==="wheel"&&(M.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",n.setElementPointerEventsNone(this.canvas),n.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){g.viewport&&g.viewport.goHome(!0)}),m.world.addHandler("item-index-change",function(M){window.setTimeout(function(){var C=g.world.getItemAt(M.previousIndex);g.world.setItemIndex(C,M.newIndex)},1)}),m.world.addHandler("remove-item",function(M){var C=M.item,H=g._getMatchingItem(C);H&&g.world.removeItem(H)}),this.update(m.viewport)},n.extend(n.Navigator.prototype,n.EventSource.prototype,n.Viewer.prototype,{updateSize:function(){if(this.viewport){var c=new n.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);c.equals(this.oldContainerSize)||(this.viewport.resize(c,!0),this.viewport.goHome(!0),this.oldContainerSize=c,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(c){this.width=c,this.element.style.width=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(c){this.height=c,this.element.style.height=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(c){return this.viewport.setFlip(c),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(c){h(this.canvas,c),h(this.element,c)},update:function(c){var m,g,y,x,_,R;if(c||(c=this.viewer.viewport),m=n.getElementSize(this.viewer.element),this._resizeWithViewer&&m.x&&m.y&&!m.equals(this.oldViewerSize)&&(this.oldViewerSize=m,this.maintainSizeRatio||!this.elementArea?(g=m.x*this.sizeRatio,y=m.y*this.sizeRatio):(g=Math.sqrt(this.elementArea*(m.x/m.y)),y=this.elementArea/g),this.element.style.width=Math.round(g)+"px",this.element.style.height=Math.round(y)+"px",this.elementArea||(this.elementArea=g*y),this.updateSize()),c&&this.viewport){if(x=c.getBoundsNoRotate(!0),_=this.viewport.pixelFromPointNoRotate(x.getTopLeft(),!1),R=this.viewport.pixelFromPointNoRotate(x.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var M=c.getRotation(!0);f(this.displayRegion,-M)}var C=this.displayRegion.style;C.display=this.world.getItemCount()?"block":"none",C.top=_.y.toFixed(2)+"px",C.left=_.x.toFixed(2)+"px";var H=R.x-_.x,U=R.y-_.y;C.width=Math.round(Math.max(H,0))+"px",C.height=Math.round(Math.max(U,0))+"px"}},addTiledImage:function(c){var m=this,g=c.originalTiledImage;delete c.original;var y=n.extend({},c,{success:function(x){var _=x.item;_._originalForNavigator=g,m._matchBounds(_,g,!0),m._matchOpacity(_,g),m._matchCompositeOperation(_,g);function R(){m._matchBounds(_,g)}function M(){m._matchOpacity(_,g)}function C(){m._matchCompositeOperation(_,g)}g.addHandler("bounds-change",R),g.addHandler("clip-change",R),g.addHandler("opacity-change",M),g.addHandler("composite-operation-change",C)}});return n.Viewer.prototype.addTiledImage.apply(this,[y])},destroy:function(){return n.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(c){for(var m=this.world.getItemCount(),g,y=0;y<m;y++)if(g=this.world.getItemAt(y),g._originalForNavigator===c)return g;return null},_matchBounds:function(c,m,g){var y=m.getBoundsNoRotate();c.setPosition(y.getTopLeft(),g),c.setWidth(y.width,g),c.setRotation(m.getRotation(),g),c.setClip(m.getClip()),c.setFlip(m.getFlip())},_matchOpacity:function(c,m){c.setOpacity(m.opacity)},_matchCompositeOperation:function(c,m){c.setCompositeOperation(m.compositeOperation)}});function a(c){var m={tracker:c.eventSource,position:c.position,quick:c.quick,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",m),!m.preventDefaultAction&&c.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(c.position.x=this.viewport.getContainerSize().x-c.position.x);var g=this.viewport.pointFromPixel(c.position);this.panVertical?this.panHorizontal||(g.x=this.viewer.viewport.getCenter(!0).x):g.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(g),this.viewer.viewport.applyConstraints()}}function o(c){var m={tracker:c.eventSource,position:c.position,delta:c.delta,speed:c.speed,direction:c.direction,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",m),!m.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(c.delta.x=0),this.panVertical||(c.delta.y=0),this.viewer.viewport.flipped&&(c.delta.x=-c.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(c.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function l(c){c.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function u(c){var m={tracker:c.eventSource,position:c.position,scroll:c.scroll,shift:c.shift,originalEvent:c.originalEvent,preventDefault:c.preventDefault};this.viewer.raiseEvent("navigator-scroll",m),c.preventDefault=m.preventDefault}function f(c,m){h(c,"rotate("+m+"deg)")}function h(c,m){c.style.webkitTransform=m,c.style.mozTransform=m,c.style.msTransform=m,c.style.oTransform=m,c.style.transform=m}})(v),(function(n){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};n.extend(n,{getString:function(o){var l=o.split("."),u=null,f=arguments,h=a,c;for(c=0;c<l.length-1;c++)h=h[l[c]]||{};return u=h[l[c]],typeof u!="string"&&(n.console.error("Untranslated source string:",o),u=""),u.replace(/\{\d+\}/g,function(m){var g=parseInt(m.match(/\d+/),10)+1;return g<f.length?f[g]:""})},setString:function(o,l){var u=o.split("."),f=a,h;for(h=0;h<u.length-1;h++)f[u[h]]||(f[u[h]]={}),f=f[u[h]];f[u[h]]=l}})})(v),(function(n){n.Point=function(a,o){this.x=typeof a=="number"?a:0,this.y=typeof o=="number"?o:0},n.Point.prototype={clone:function(){return new n.Point(this.x,this.y)},plus:function(a){return new n.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new n.Point(this.x-a.x,this.y-a.y)},times:function(a){return new n.Point(this.x*a,this.y*a)},divide:function(a){return new n.Point(this.x/a,this.y/a)},negate:function(){return new n.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new n.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof n.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,o){o=o||new n.Point(0,0);var l,u;if(a%90===0){var f=n.positiveModulo(a,360);switch(f){case 0:l=1,u=0;break;case 90:l=0,u=1;break;case 180:l=-1,u=0;break;case 270:l=0,u=-1;break}}else{var h=a*Math.PI/180;l=Math.cos(h),u=Math.sin(h)}var c=l*(this.x-o.x)-u*(this.y-o.y)+o.x,m=u*(this.x-o.x)+l*(this.y-o.y)+o.y;return new n.Point(c,m)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}})(v),(function(n){n.TileSource=function(o,l,u,f,h,c){var m=this,g=arguments,y,x;if(n.isPlainObject(o)?y=o:y={width:g[0],height:g[1],tileSize:g[2],tileOverlap:g[3],minLevel:g[4],maxLevel:g[5]},n.EventSource.call(this),n.extend(!0,this,y),!this.success){for(x=0;x<arguments.length;x++)if(n.isFunction(arguments[x])){this.success=arguments[x];break}}this.success&&this.addHandler("ready",function(_){m.success(_)}),n.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new n.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=y.width&&y.height?y.width/y.height:1,this.dimensions=new n.Point(y.width,y.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=y.tileOverlap?y.tileOverlap:0,this.minLevel=y.minLevel?y.minLevel:0,this.maxLevel=y.maxLevel!==void 0&&y.maxLevel!==null?y.maxLevel:y.width&&y.height?Math.ceil(Math.log(Math.max(y.width,y.height))/Math.log(2)):0,this.success&&n.isFunction(this.success)&&this.success(this))},n.TileSource.prototype={getTileSize:function(o){return n.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(o){return this._tileWidth?this._tileWidth:this.getTileSize(o)},getTileHeight:function(o){return this._tileHeight?this._tileHeight:this.getTileSize(o)},setMaxLevel:function(o){this.maxLevel=o,this._memoizeLevelScale()},getLevelScale:function(o){return this._memoizeLevelScale(),this.getLevelScale(o)},_memoizeLevelScale:function(){var o={},l;for(l=0;l<=this.maxLevel;l++)o[l]=1/Math.pow(2,this.maxLevel-l);this.getLevelScale=function(u){return o[u]}},getNumTiles:function(o){var l=this.getLevelScale(o),u=Math.ceil(l*this.dimensions.x/this.getTileWidth(o)),f=Math.ceil(l*this.dimensions.y/this.getTileHeight(o));return new n.Point(u,f)},getPixelRatio:function(o){var l=this.dimensions.times(this.getLevelScale(o)),u=1/l.x*n.pixelDensityRatio,f=1/l.y*n.pixelDensityRatio;return new n.Point(u,f)},getClosestLevel:function(){var o,l;for(o=this.minLevel+1;o<=this.maxLevel&&(l=this.getNumTiles(o),!(l.x>1||l.y>1));o++);return o-1},getTileAtPoint:function(o,l){var u=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;n.console.assert(u,"[TileSource.getTileAtPoint] must be called with a valid point.");var f=this.dimensions.x*this.getLevelScale(o),h=l.x*f,c=l.y*f,m=Math.floor(h/this.getTileWidth(o)),g=Math.floor(c/this.getTileHeight(o));l.x>=1&&(m=this.getNumTiles(o).x-1);var y=1e-15;return l.y>=1/this.aspectRatio-y&&(g=this.getNumTiles(o).y-1),new n.Point(m,g)},getTileBounds:function(o,l,u,f){var h=this.dimensions.times(this.getLevelScale(o)),c=this.getTileWidth(o),m=this.getTileHeight(o),g=l===0?0:c*l-this.tileOverlap,y=u===0?0:m*u-this.tileOverlap,x=c+(l===0?1:2)*this.tileOverlap,_=m+(u===0?1:2)*this.tileOverlap,R=1/h.x;return x=Math.min(x,h.x-g),_=Math.min(_,h.y-y),f?new n.Rect(0,0,x,_):new n.Rect(g*R,y*R,x*R,_*R)},getImageInfo:function(o){var l=this,u,f,h,c,m,g,y;o&&(m=o.split("/"),g=m[m.length-1],y=g.lastIndexOf("."),y>-1&&(m[m.length-1]=g.slice(0,y)));var x=null;if(this.splitHashDataForPost){var _=o.indexOf("#");_!==-1&&(x=o.substring(_+1),o=o.substr(0,_))}f=function(R){typeof R=="string"&&(R=n.parseXml(R));var M=n.TileSource.determineType(l,R,o);if(!M){l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:o});return}c=M.prototype.configure.apply(l,[R,o,x]),c.ajaxWithCredentials===void 0&&(c.ajaxWithCredentials=l.ajaxWithCredentials),h=new M(c),l.ready=!0,l.raiseEvent("ready",{tileSource:h})},o.match(/\.js$/)?(u=o.split("/").pop().replace(".js",""),n.jsonp({url:o,async:!1,callbackName:u,callback:f})):n.makeAjaxRequest({url:o,postData:x,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(R){var M=a(R);f(M)},error:function(R,M){var C;try{C="HTTP "+R.status+" attempting to load TileSource: "+o}catch{var H;typeof M>"u"||!M.toString?H="Unknown error":H=M.toString(),C=H+" attempting to load TileSource: "+o}n.console.error(C),l.raiseEvent("open-failed",{message:C,source:o,postData:x})}})},supports:function(o,l){return!1},configure:function(o,l,u){throw new Error("Method not implemented.")},getTileUrl:function(o,l,u){throw new Error("Method not implemented.")},getTilePostData:function(o,l,u){return null},getTileAjaxHeaders:function(o,l,u){return{}},getTileHashKey:function(o,l,u,f,h,c){function m(g){return h?g+"+"+JSON.stringify(h):g}return m(typeof f!="string"?o+"/"+l+"_"+u:f)},tileExists:function(o,l,u){var f=this.getNumTiles(o);return o>=this.minLevel&&o<=this.maxLevel&&l>=0&&u>=0&&l<f.x&&u<f.y},hasTransparency:function(o,l,u,f){return!!o||l.match(".png")},downloadTileStart:function(o){var l=o.userData,u=new Image;l.image=u,l.request=null;var f=function(h){if(!u){o.finish(null,l.request,"Image load failed: undefined Image instance.");return}u.onload=u.onerror=u.onabort=null,o.finish(h?null:u,l.request,h)};u.onload=function(){f()},u.onabort=u.onerror=function(){f("Image load aborted.")},o.loadWithAjax?l.request=n.makeAjaxRequest({url:o.src,withCredentials:o.ajaxWithCredentials,headers:o.ajaxHeaders,responseType:"arraybuffer",postData:o.postData,success:function(h){var c;try{c=new window.Blob([h.response])}catch(y){var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(y.name==="TypeError"&&m){var g=new m;g.append(h.response),c=g.getBlob()}}c.size===0?f("Empty image response."):u.src=(window.URL||window.webkitURL).createObjectURL(c)},error:function(h){f("Image load aborted - XHR error")}}):(o.crossOriginPolicy!==!1&&(u.crossOrigin=o.crossOriginPolicy),u.src=o.src)},downloadTileAbort:function(o){o.userData.request&&o.userData.request.abort();var l=o.userData.image;o.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(o,l,u){o._data=l},destroyTileCache:function(o){o._data=null,o._renderedContext=null},getTileCacheData:function(o){return o._data},getTileCacheDataAsImage:function(o){return o._data},getTileCacheDataAsContext2D:function(o){if(!o._renderedContext){var l=document.createElement("canvas");l.width=o._data.width,l.height=o._data.height,o._renderedContext=l.getContext("2d"),o._renderedContext.drawImage(o._data,0,0),o._data=null}return o._renderedContext}},n.extend(!0,n.TileSource.prototype,n.EventSource.prototype);function a(o){var l=o.responseText,u=o.status,f,h;if(o){if(o.status!==200&&o.status!==0)throw u=o.status,f=u===404?"Not Found":o.statusText,new Error(n.getString("Errors.Status",u,f))}else throw new Error(n.getString("Errors.Security"));if(l.match(/^\s*<.*/))try{h=o.responseXML&&o.responseXML.documentElement?o.responseXML:n.parseXml(l)}catch{h=o.responseText}else if(l.match(/\s*[{[].*/))try{h=n.parseJSON(l)}catch{h=l}else h=l;return h}n.TileSource.determineType=function(o,l,u){var f;for(f in v)if(f.match(/.+TileSource$/)&&n.isFunction(v[f])&&n.isFunction(v[f].prototype.supports)&&v[f].prototype.supports.call(o,l,u))return v[f];return n.console.error("No TileSource was able to open %s %s",u,l),null}})(v),(function(n){n.DziTileSource=function(l,u,f,h,c,m,g,y,x){var _,R,M,C;if(n.isPlainObject(l)?C=l:C={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=C.tilesUrl,this.fileFormat=C.fileFormat,this.displayRects=C.displayRects,this.displayRects)for(_=this.displayRects.length-1;_>=0;_--)for(R=this.displayRects[_],M=R.minLevel;M<=R.maxLevel;M++)this._levelRects[M]||(this._levelRects[M]=[]),this._levelRects[M].push(R);n.TileSource.apply(this,[C])},n.extend(n.DziTileSource.prototype,n.TileSource.prototype,{supports:function(l,u){var f;return l.Image?f=l.Image.xmlns:l.documentElement&&(l.documentElement.localName==="Image"||l.documentElement.tagName==="Image")&&(f=l.documentElement.namespaceURI),f=(f||"").toLowerCase(),f.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||f.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,u,f){var h;return n.isPlainObject(l)?h=o(this,l):h=a(this,l),u&&!h.tilesUrl&&(h.tilesUrl=u.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),u.search(/\.(dzi|xml|js)\?/)!==-1?h.queryParams=u.match(/\?.*/):h.queryParams=""),h},getTileUrl:function(l,u,f){return[this.tilesUrl,l,"/",u,"_",f,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,u,f){var h=this._levelRects[l],c,m,g,y,x,_,R;if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!h||!h.length)return!0;for(R=h.length-1;R>=0;R--)if(c=h[R],!(l<c.minLevel||l>c.maxLevel)&&(m=this.getLevelScale(l),g=c.x*m,y=c.y*m,x=g+c.width*m,_=y+c.height*m,g=Math.floor(g/this._tileWidth),y=Math.floor(y/this._tileWidth),x=Math.ceil(x/this._tileWidth),_=Math.ceil(_/this._tileWidth),g<=u&&u<x&&y<=f&&f<_))return!0;return!1}});function a(l,u){if(!u||!u.documentElement)throw new Error(n.getString("Errors.Xml"));var f=u.documentElement,h=f.localName||f.tagName,c=u.documentElement.namespaceURI,m=null,g=[],y,x,_,R,M;if(h==="Image")try{if(R=f.getElementsByTagName("Size")[0],R===void 0&&(R=f.getElementsByTagNameNS(c,"Size")[0]),m={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:f.getAttribute("Url"),Format:f.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(f.getAttribute("Overlap"),10),TileSize:parseInt(f.getAttribute("TileSize"),10),Size:{Height:parseInt(R.getAttribute("Height"),10),Width:parseInt(R.getAttribute("Width"),10)}}},!n.imageFormatSupported(m.Image.Format))throw new Error(n.getString("Errors.ImageFormat",m.Image.Format.toUpperCase()));for(y=f.getElementsByTagName("DisplayRect"),y===void 0&&(y=f.getElementsByTagNameNS(c,"DisplayRect")[0]),M=0;M<y.length;M++)x=y[M],_=x.getElementsByTagName("Rect")[0],_===void 0&&(_=x.getElementsByTagNameNS(c,"Rect")[0]),g.push({Rect:{X:parseInt(_.getAttribute("X"),10),Y:parseInt(_.getAttribute("Y"),10),Width:parseInt(_.getAttribute("Width"),10),Height:parseInt(_.getAttribute("Height"),10),MinLevel:parseInt(x.getAttribute("MinLevel"),10),MaxLevel:parseInt(x.getAttribute("MaxLevel"),10)}});return g.length&&(m.Image.DisplayRect=g),o(l,m)}catch(U){throw U instanceof Error?U:new Error(n.getString("Errors.Dzi"))}else{if(h==="Collection")throw new Error(n.getString("Errors.Dzc"));if(h==="Error"){var C=f.getElementsByTagName("Message")[0],H=C.firstChild.nodeValue;throw new Error(H)}}throw new Error(n.getString("Errors.Dzi"))}function o(l,u){var f=u.Image,h=f.Url,c=f.Format,m=f.Size,g=f.DisplayRect||[],y=parseInt(m.Width,10),x=parseInt(m.Height,10),_=parseInt(f.TileSize,10),R=parseInt(f.Overlap,10),M=[],C,H;for(H=0;H<g.length;H++)C=g[H].Rect,M.push(new n.DisplayRect(parseInt(C.X,10),parseInt(C.Y,10),parseInt(C.Width,10),parseInt(C.Height,10),parseInt(C.MinLevel,10),parseInt(C.MaxLevel,10)));return n.extend(!0,{width:y,height:x,tileSize:_,tileOverlap:R,minLevel:null,maxLevel:null,tilesUrl:h,fileFormat:c,displayRects:M},u)}})(v),(function(n){n.IIIFTileSource=function(f){if(n.extend(!0,this,f),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(f.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=f.version,this.tile_width&&this.tile_height)f.tileWidth=this.tile_width,f.tileHeight=this.tile_height;else if(this.tile_width)f.tileSize=this.tile_width;else if(this.tile_height)f.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)f.tileWidth=this.tiles[0].width,f.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var h=0;h<this.tiles.length;h++)for(var c=0;c<this.tiles[h].scaleFactors.length;c++){var m=this.tiles[h].scaleFactors[c];this.scale_factors.push(m),f.tileSizePerScaleFactor[m]={width:this.tiles[h].width,height:this.tiles[h].height||this.tiles[h].width}}}else if(a(f)){for(var g=Math.min(this.height,this.width),y=[256,512,1024],x=[],_=0;_<y.length;_++)y[_]<=g&&x.push(y[_]);x.length>0?f.tileSize=Math.max.apply(null,x):f.tileSize=g}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,f.levels=o(this),n.extend(!0,f,{width:f.levels[f.levels.length-1].width,height:f.levels[f.levels.length-1].height,tileSize:Math.max(f.height,f.width),tileOverlap:0,minLevel:0,maxLevel:f.levels.length-1}),this.levels=f.levels):n.console.error("Nothing in the info.json to construct image pyramids from");if(!f.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)f.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var R=Math.max.apply(null,this.scale_factors);f.maxLevel=Math.round(Math.log(R)*Math.LOG2E)}if(this.sizes){var M=this.sizes.length;(M===f.maxLevel||M===f.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((C,H)=>C.width-H.width),M===f.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}n.TileSource.apply(this,[f])},n.extend(n.IIIFTileSource.prototype,n.TileSource.prototype,{supports:function(f,h){return f.protocol&&f.protocol==="http://iiif.io/api/image"||f["@context"]&&(f["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||f["@context"]==="http://iiif.io/api/image/1/context.json")||f.profile&&f.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||f.identifier&&f.width&&f.height?!0:!!(f.documentElement&&f.documentElement.tagName==="info"&&f.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(f,h,c){if(n.isPlainObject(f)){if(!f["@context"])f["@context"]="http://iiif.io/api/image/1.0/context.json",f["@id"]=h.replace("/info.json",""),f.version=1;else{var g=f["@context"];if(Array.isArray(g)){for(var y=0;y<g.length;y++)if(typeof g[y]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(g[y])||g[y]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){g=g[y];break}}switch(g){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":f.version=1;break;case"http://iiif.io/api/image/2/context.json":f.version=2;break;case"http://iiif.io/api/image/3/context.json":f.version=3;break;default:n.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(f.preferredFormats){for(var x=0;x<f.preferredFormats.length;x++)if(v.imageFormatSupported(f.preferredFormats[x])){f.tileFormat=f.preferredFormats[x];break}}return f}else{var m=l(f);return m["@context"]="http://iiif.io/api/image/1.0/context.json",m["@id"]=h.replace("/info.xml",""),m.version=1,m}},getTileWidth:function(f){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileWidth.call(this,f);var h=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].width:this._tileWidth},getTileHeight:function(f){if(this.emulateLegacyImagePyramid)return n.TileSource.prototype.getTileHeight.call(this,f);var h=Math.pow(2,this.maxLevel-f);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].height:this._tileHeight},getLevelScale:function(f){if(this.emulateLegacyImagePyramid){var h=NaN;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(h=this.levels[f].width/this.levels[this.maxLevel].width),h}return n.TileSource.prototype.getLevelScale.call(this,f)},getNumTiles:function(f){if(this.emulateLegacyImagePyramid){var h=this.getLevelScale(f);return h?new n.Point(1,1):new n.Point(0,0)}if(this.levelSizes){var c=this.levelSizes[f],m=Math.ceil(c.width/this.getTileWidth(f)),g=Math.ceil(c.height/this.getTileHeight(f));return new n.Point(m,g)}else return n.TileSource.prototype.getNumTiles.call(this,f)},getTileAtPoint:function(f,h){if(this.emulateLegacyImagePyramid)return new n.Point(0,0);if(this.levelSizes){var c=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;n.console.assert(c,"[TileSource.getTileAtPoint] must be called with a valid point.");var m=this.levelSizes[f].width,g=h.x*m,y=h.y*m,x=Math.floor(g/this.getTileWidth(f)),_=Math.floor(y/this.getTileHeight(f));h.x>=1&&(x=this.getNumTiles(f).x-1);var R=1e-15;return h.y>=1/this.aspectRatio-R&&(_=this.getNumTiles(f).y-1),new n.Point(x,_)}return n.TileSource.prototype.getTileAtPoint.call(this,f,h)},getTileUrl:function(f,h,c){if(this.emulateLegacyImagePyramid){var m=null;return this.levels.length>0&&f>=this.minLevel&&f<=this.maxLevel&&(m=this.levels[f].url),m}var g="0",y=Math.pow(.5,this.maxLevel-f),x,_,R,M,C,H,U,oe,Q,N,ae,pe,fe,Oe,Le,we;return this.levelSizes?(x=this.levelSizes[f].width,_=this.levelSizes[f].height):(x=Math.ceil(this.width*y),_=Math.ceil(this.height*y)),R=this.getTileWidth(f),M=this.getTileHeight(f),C=Math.round(R/y),H=Math.round(M/y),this.version===1?Le="native."+this.tileFormat:Le="default."+this.tileFormat,x<R&&_<M?(this.version===2&&x===this.width?pe="full":this.version===3&&x===this.width&&_===this.height?pe="max":this.version===3?pe=x+","+_:pe=x+",",U="full"):(oe=h*C,Q=c*H,N=Math.min(C,this.width-oe),ae=Math.min(H,this.height-Q),h===0&&c===0&&N===this.width&&ae===this.height?U="full":U=[oe,Q,N,ae].join(","),fe=Math.min(R,x-h*R),Oe=Math.min(M,_-c*M),this.version===2&&fe===this.width?pe="full":this.version===3&&fe===this.width&&Oe===this.height?pe="max":this.version===3?pe=fe+","+Oe:pe=fe+","),we=[this._id,U,pe,g,Le].join("/"),we},__testonly__:{canBeTiled:a,constructLevels:o}});function a(f){var h=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],c=Array.isArray(f.profile)?f.profile[0]:f.profile,m=h.indexOf(c)!==-1,g=!1;return f.version===2&&f.profile.length>1&&f.profile[1].supports&&(g=f.profile[1].supports.indexOf("sizeByW")!==-1),f.version===3&&f.extraFeatures&&(g=f.extraFeatures.indexOf("sizeByWh")!==-1),!m||g}function o(f){for(var h=[],c=0;c<f.sizes.length;c++)h.push({url:f._id+"/full/"+f.sizes[c].width+","+(f.version===3?f.sizes[c].height:"")+"/0/default."+f.tileFormat,width:f.sizes[c].width,height:f.sizes[c].height});return h.sort(function(m,g){return m.width-g.width})}function l(f){if(!f||!f.documentElement)throw new Error(n.getString("Errors.Xml"));var h=f.documentElement,c=h.tagName,m=null;if(c==="info")try{return m={},u(h,m),m}catch(g){throw g instanceof Error?g:new Error(n.getString("Errors.IIIF"))}throw new Error(n.getString("Errors.IIIF"))}function u(f,h,c){var m,g;if(f.nodeType===3&&c)g=f.nodeValue.trim(),g.match(/^\d*$/)&&(g=Number(g)),h[c]?(n.isArray(h[c])||(h[c]=[h[c]]),h[c].push(g)):h[c]=g;else if(f.nodeType===1)for(m=0;m<f.childNodes.length;m++)u(f.childNodes[m],h,f.nodeName)}})(v),(function(n){n.OsmTileSource=function(a,o,l,u,f){var h;n.isPlainObject(a)?h=a:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!h.width||!h.height)&&(h.width=65572864,h.height=65572864),h.tileSize||(h.tileSize=256,h.tileOverlap=0),h.tilesUrl||(h.tilesUrl="http://tile.openstreetmap.org/"),h.minLevel=8,n.TileSource.apply(this,[h])},n.extend(n.OsmTileSource.prototype,n.TileSource.prototype,{supports:function(a,o){return a.type&&a.type==="openstreetmaps"},configure:function(a,o,l){return a},getTileUrl:function(a,o,l){return this.tilesUrl+(a-8)+"/"+o+"/"+l+".png"}})})(v),(function(n){n.TmsTileSource=function(a,o,l,u,f){var h;n.isPlainObject(a)?h=a:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var c=Math.ceil(h.width/256)*256,m=Math.ceil(h.height/256)*256,g;c>m?g=c/256:g=m/256,h.maxLevel=Math.ceil(Math.log(g)/Math.log(2))-1,h.tileSize=256,h.width=c,h.height=m,n.TileSource.apply(this,[h])},n.extend(n.TmsTileSource.prototype,n.TileSource.prototype,{supports:function(a,o){return a.type&&a.type==="tiledmapservice"},configure:function(a,o,l){return a},getTileUrl:function(a,o,l){var u=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+o+"/"+(u-l)+".png"}})})(v),(function(n){n.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var o={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(o.x,10)>a.tileSize||parseInt(o.y,10)>a.tileSize;)o.x=Math.floor(o.x/2),o.y=Math.floor(o.y/2),a.imageSizes.push({x:o.x,y:o.y}),a.gridSize.push(this._getGridSize(o.x,o.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,v.TileSource.apply(this,[a])},n.extend(n.ZoomifyTileSource.prototype,n.TileSource.prototype,{_getGridSize:function(a,o,l){return{x:Math.ceil(a/l),y:Math.ceil(o/l)}},_calculateAbsoluteTileNumber:function(a,o,l){for(var u=0,f={},h=0;h<a;h++)f=this.gridSize[h],u+=f.x*f.y;return f=this.gridSize[a],u+=f.x*l+o,u},supports:function(a,o){return a.type&&a.type==="zoomifytileservice"},configure:function(a,o,l){return a},getTileUrl:function(a,o,l){var u=0,f=this._calculateAbsoluteTileNumber(a,o,l);return u=Math.floor(f/256),this.tilesUrl+"TileGroup"+u+"/"+a+"-"+o+"-"+l+"."+this.fileFormat}})})(v),(function(n){n.LegacyTileSource=function(u){var f,h,c;n.isArray(u)&&(f={type:"legacy-image-pyramid",levels:u}),f.levels=a(f.levels),f.levels.length>0?(h=f.levels[f.levels.length-1].width,c=f.levels[f.levels.length-1].height):(h=0,c=0,n.console.error("No supported image formats found")),n.extend(!0,f,{width:h,height:c,tileSize:Math.max(c,h),tileOverlap:0,minLevel:0,maxLevel:f.levels.length>0?f.levels.length-1:0}),n.TileSource.apply(this,[f]),this.levels=f.levels},n.extend(n.LegacyTileSource.prototype,n.TileSource.prototype,{supports:function(u,f){return u.type&&u.type==="legacy-image-pyramid"||u.documentElement&&u.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(u,f,h){var c;return n.isPlainObject(u)?c=l(this,u):c=o(this,u),c},getLevelScale:function(u){var f=NaN;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(f=this.levels[u].width/this.levels[this.maxLevel].width),f},getNumTiles:function(u){var f=this.getLevelScale(u);return f?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(u,f,h){var c=null;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(c=this.levels[u].url),c}});function a(u){var f=[],h,c;for(c=0;c<u.length;c++)h=u[c],h.height&&h.width&&h.url?f.push({url:h.url,width:Number(h.width),height:Number(h.height)}):n.console.error("Unsupported image format: %s",h.url?h.url:"<no URL>");return f.sort(function(m,g){return m.height-g.height})}function o(u,f){if(!f||!f.documentElement)throw new Error(n.getString("Errors.Xml"));var h=f.documentElement,c=h.tagName,m=null,g=[],y,x;if(c==="image")try{for(m={type:h.getAttribute("type"),levels:[]},g=h.getElementsByTagName("level"),x=0;x<g.length;x++)y=g[x],m.levels.push({url:y.getAttribute("url"),width:parseInt(y.getAttribute("width"),10),height:parseInt(y.getAttribute("height"),10)});return l(u,m)}catch(_){throw _ instanceof Error?_:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(c==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(c==="error")throw new Error("Error: "+f)}throw new Error("Unknown element "+c)}function l(u,f){return f.levels}})(v),(function(n){n.ImageTileSource=function(a){a=n.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},a),n.TileSource.apply(this,[a])},n.extend(n.ImageTileSource.prototype,n.TileSource.prototype,{supports:function(a,o){return a.type&&a.type==="image"},configure:function(a,o,l){return a},getImageInfo:function(a){var o=this._image=new Image,l=this;this.crossOriginPolicy&&(o.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(o.useCredentials=this.ajaxWithCredentials),n.addEvent(o,"load",function(){l.width=o.naturalWidth,l.height=o.naturalHeight,l.aspectRatio=l.width/l.height,l.dimensions=new n.Point(l.width,l.height),l._tileWidth=l.width,l._tileHeight=l.height,l.tileOverlap=0,l.minLevel=0,l.levels=l._buildLevels(),l.maxLevel=l.levels.length-1,l.ready=!0,l.raiseEvent("ready",{tileSource:l})}),n.addEvent(o,"error",function(){l.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),o.src=a},getLevelScale:function(a){var o=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(o=this.levels[a].width/this.levels[this.maxLevel].width),o},getNumTiles:function(a){var o=this.getLevelScale(a);return o?new n.Point(1,1):new n.Point(0,0)},getTileUrl:function(a,o,l){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].url),u},getContext2D:function(a,o,l){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].context2D),u},destroy:function(a){this._freeupCanvasMemory(a)},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!n.supportsCanvas)return delete this._image,a;var o=this._image.naturalWidth,l=this._image.naturalHeight,u=document.createElement("canvas"),f=u.getContext("2d");if(u.width=o,u.height=l,f.drawImage(this._image,0,0,o,l),a[0].context2D=f,delete this._image,n.isCanvasTainted(u))return a;for(;o>=2&&l>=2;){o=Math.floor(o/2),l=Math.floor(l/2);var h=document.createElement("canvas"),c=h.getContext("2d");h.width=o,h.height=l,c.drawImage(u,0,0,o,l),a.splice(0,0,{context2D:c,width:o,height:l}),u=h,f=c}return a},_freeupCanvasMemory:function(a){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0,a&&a.raiseEvent("image-unloaded",{context2D:this.levels[o].context2D}))}})})(v),(function(n){n.TileSourceCollection=function(a,o,l,u){n.console.error("TileSourceCollection is deprecated; use World instead")}})(v),(function(n){n.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},n.Button=function(c){var m=this;n.EventSource.call(this),n.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},c),this.element=c.element||n.makeNeutralElement("div"),c.element||(this.imgRest=n.makeTransparentImage(this.srcRest),this.imgGroup=n.makeTransparentImage(this.srcGroup),this.imgHover=n.makeTransparentImage(this.srcHover),this.imgDown=n.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,n.setElementPointerEventsNone(this.imgRest),n.setElementPointerEventsNone(this.imgGroup),n.setElementPointerEventsNone(this.imgHover),n.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",n.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=n.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new n.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(g){g.insideElementPressed?(f(m,n.ButtonState.DOWN),m.raiseEvent("enter",{originalEvent:g.originalEvent})):g.buttonDownAny||f(m,n.ButtonState.HOVER)},focusHandler:function(g){m.tracker.enterHandler(g),m.raiseEvent("focus",{originalEvent:g.originalEvent})},leaveHandler:function(g){h(m,n.ButtonState.GROUP),g.insideElementPressed&&m.raiseEvent("exit",{originalEvent:g.originalEvent})},blurHandler:function(g){m.tracker.leaveHandler(g),m.raiseEvent("blur",{originalEvent:g.originalEvent})},pressHandler:function(g){f(m,n.ButtonState.DOWN),m.raiseEvent("press",{originalEvent:g.originalEvent})},releaseHandler:function(g){g.insideElementPressed&&g.insideElementReleased?(h(m,n.ButtonState.HOVER),m.raiseEvent("release",{originalEvent:g.originalEvent})):g.insideElementPressed?h(m,n.ButtonState.GROUP):f(m,n.ButtonState.HOVER)},clickHandler:function(g){g.quick&&m.raiseEvent("click",{originalEvent:g.originalEvent})},keyHandler:function(g){g.keyCode===13?(m.raiseEvent("click",{originalEvent:g.originalEvent}),m.raiseEvent("release",{originalEvent:g.originalEvent}),g.preventDefault=!0):g.preventDefault=!1}}),h(this,n.ButtonState.REST)},n.extend(n.Button.prototype,n.EventSource.prototype,{notifyGroupEnter:function(){f(this,n.ButtonState.GROUP)},notifyGroupExit:function(){h(this,n.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),n.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),n.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(c){n.requestAnimationFrame(function(){o(c)})}function o(c){var m,g,y;c.shouldFade&&(m=n.now(),g=m-c.fadeBeginTime,y=1-g/c.fadeLength,y=Math.min(1,y),y=Math.max(0,y),c.imgGroup&&n.setElementOpacity(c.imgGroup,y,!0),y>0&&a(c))}function l(c){c.shouldFade=!0,c.fadeBeginTime=n.now()+c.fadeDelay,window.setTimeout(function(){a(c)},c.fadeDelay)}function u(c){c.shouldFade=!1,c.imgGroup&&n.setElementOpacity(c.imgGroup,1,!0)}function f(c,m){c.element.disabled||(m>=n.ButtonState.GROUP&&c.currentState===n.ButtonState.REST&&(u(c),c.currentState=n.ButtonState.GROUP),m>=n.ButtonState.HOVER&&c.currentState===n.ButtonState.GROUP&&(c.imgHover&&(c.imgHover.style.visibility=""),c.currentState=n.ButtonState.HOVER),m>=n.ButtonState.DOWN&&c.currentState===n.ButtonState.HOVER&&(c.imgDown&&(c.imgDown.style.visibility=""),c.currentState=n.ButtonState.DOWN))}function h(c,m){c.element.disabled||(m<=n.ButtonState.HOVER&&c.currentState===n.ButtonState.DOWN&&(c.imgDown&&(c.imgDown.style.visibility="hidden"),c.currentState=n.ButtonState.HOVER),m<=n.ButtonState.GROUP&&c.currentState===n.ButtonState.HOVER&&(c.imgHover&&(c.imgHover.style.visibility="hidden"),c.currentState=n.ButtonState.GROUP),m<=n.ButtonState.REST&&c.currentState===n.ButtonState.GROUP&&(l(c),c.currentState=n.ButtonState.REST))}})(v),(function(n){n.ButtonGroup=function(a){n.extend(!0,this,{buttons:[],clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var o=this.buttons.concat([]),l=this,u;if(this.element=a.element||n.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",u=0;u<o.length;u++)this.element.appendChild(o[u].element);n.setElementTouchActionNone(this.element),this.tracker=new n.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(f){var h;for(h=0;h<l.buttons.length;h++)l.buttons[h].notifyGroupEnter()},leaveHandler:function(f){var h;if(!f.insideElementPressed)for(h=0;h<l.buttons.length;h++)l.buttons[h].notifyGroupExit()}})},n.ButtonGroup.prototype={addButton:function(a){this.buttons.push(a),this.element.appendChild(a.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}})(v),(function(n){n.Rect=function(a,o,l,u,f){this.x=typeof a=="number"?a:0,this.y=typeof o=="number"?o:0,this.width=typeof l=="number"?l:0,this.height=typeof u=="number"?u:0,this.degrees=typeof f=="number"?f:0,this.degrees=n.positiveModulo(this.degrees,360);var h,c;this.degrees>=270?(h=this.getTopRight(),this.x=h.x,this.y=h.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=270):this.degrees>=180?(h=this.getBottomRight(),this.x=h.x,this.y=h.y,this.degrees-=180):this.degrees>=90&&(h=this.getBottomLeft(),this.x=h.x,this.y=h.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=90)},n.Rect.fromSummits=function(a,o,l){var u=a.distanceTo(o),f=a.distanceTo(l),h=o.minus(a),c=Math.atan(h.y/h.x);return h.x<0?c+=Math.PI:h.y<0&&(c+=2*Math.PI),new n.Rect(a.x,a.y,u,f,c/Math.PI*180)},n.Rect.prototype={clone:function(){return new n.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new n.Point(this.x,this.y)},getBottomRight:function(){return new n.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new n.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new n.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new n.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new n.Point(this.width,this.height)},equals:function(a){return a instanceof n.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new n.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new n.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var o=this.getBoundingBox(),l=a.getBoundingBox(),u=Math.min(o.x,l.x),f=Math.min(o.y,l.y),h=Math.max(o.x+o.width,l.x+l.width),c=Math.max(o.y+o.height,l.y+l.height);return new n.Rect(u,f,h-u,c-f)},intersection:function(a){var o=1e-10,l=[],u=this.getTopLeft();a.containsPoint(u,o)&&l.push(u);var f=this.getTopRight();a.containsPoint(f,o)&&l.push(f);var h=this.getBottomLeft();a.containsPoint(h,o)&&l.push(h);var c=this.getBottomRight();a.containsPoint(c,o)&&l.push(c);var m=a.getTopLeft();this.containsPoint(m,o)&&l.push(m);var g=a.getTopRight();this.containsPoint(g,o)&&l.push(g);var y=a.getBottomLeft();this.containsPoint(y,o)&&l.push(y);var x=a.getBottomRight();this.containsPoint(x,o)&&l.push(x);for(var _=this._getSegments(),R=a._getSegments(),M=0;M<_.length;M++)for(var C=_[M],H=0;H<R.length;H++){var U=R[H],oe=Q(C[0],C[1],U[0],U[1]);oe&&l.push(oe)}function Q(we,Re,Ne,Ve){var j=Re.minus(we),le=Ve.minus(Ne),he=-le.x*j.y+j.x*le.y;if(he===0)return null;var Ue=(j.x*(we.y-Ne.y)-j.y*(we.x-Ne.x))/he,He=(le.x*(we.y-Ne.y)-le.y*(we.x-Ne.x))/he;return-o<=Ue&&Ue<=1-o&&-o<=He&&He<=1-o?new n.Point(we.x+He*j.x,we.y+He*j.y):null}if(l.length===0)return null;for(var N=l[0].x,ae=l[0].x,pe=l[0].y,fe=l[0].y,Oe=1;Oe<l.length;Oe++){var Le=l[Oe];Le.x<N&&(N=Le.x),Le.x>ae&&(ae=Le.x),Le.y<pe&&(pe=Le.y),Le.y>fe&&(fe=Le.y)}return new n.Rect(N,pe,ae-N,fe-pe)},_getSegments:function(){var a=this.getTopLeft(),o=this.getTopRight(),l=this.getBottomLeft(),u=this.getBottomRight();return[[a,o],[o,u],[u,l],[l,a]]},rotate:function(a,o){if(a=n.positiveModulo(a,360),a===0)return this.clone();o=o||this.getCenter();var l=this.getTopLeft().rotate(a,o),u=this.getTopRight().rotate(a,o),f=u.minus(l);f=f.apply(function(c){var m=1e-15;return Math.abs(c)<m?0:c});var h=Math.atan(f.y/f.x);return f.x<0?h+=Math.PI:f.y<0&&(h+=2*Math.PI),new n.Rect(l.x,l.y,this.width,this.height,h/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),o=this.getTopRight(),l=this.getBottomLeft(),u=this.getBottomRight(),f=Math.min(a.x,o.x,l.x,u.x),h=Math.max(a.x,o.x,l.x,u.x),c=Math.min(a.y,o.y,l.y,u.y),m=Math.max(a.y,o.y,l.y,u.y);return new n.Rect(f,c,h-f,m-c)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),o=Math.floor(a.x),l=Math.floor(a.y),u=Math.ceil(a.width+a.x-o),f=Math.ceil(a.height+a.y-l);return new n.Rect(o,l,u,f)},containsPoint:function(a,o){o=o||0;var l=this.getTopLeft(),u=this.getTopRight(),f=this.getBottomLeft(),h=u.minus(l),c=f.minus(l);return(a.x-l.x)*h.x+(a.y-l.y)*h.y>=-o&&(a.x-u.x)*h.x+(a.y-u.y)*h.y<=o&&(a.x-l.x)*c.x+(a.y-l.y)*c.y>=-o&&(a.x-f.x)*c.x+(a.y-f.y)*c.y<=o},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}})(v),(function(n){var a={};n.ReferenceStrip=function(y){var x=this,_=y.viewer,R=n.getElementSize(_.element),M,C,H;for(y.id||(y.id="referencestrip-"+n.now(),this.element=n.makeNeutralElement("div"),this.element.id=y.id,this.element.className="referencestrip"),y=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.referenceStripSizeRatio,position:n.DEFAULT_SETTINGS.referenceStripPosition,scroll:n.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold},y,{element:this.element}),n.extend(this,y),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,C=this.element.style,C.marginTop="0px",C.marginRight="0px",C.marginBottom="0px",C.marginLeft="0px",C.left="0px",C.bottom="0px",C.border="0px",C.background="#000",C.position="relative",n.setElementTouchActionNone(this.element),n.setElementOpacity(this.element,.8),this.viewer=_,this.tracker=new n.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:n.delegate(this,o),dragHandler:n.delegate(this,l),scrollHandler:n.delegate(this,u),enterHandler:n.delegate(this,h),leaveHandler:n.delegate(this,c),keyDownHandler:n.delegate(this,m),keyHandler:n.delegate(this,g),preProcessEventHandler:function(U){U.eventType==="wheel"&&(U.preventDefault=!0)}}),y.width&&y.height?(this.element.style.width=y.width+"px",this.element.style.height=y.height+"px",_.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):y.scroll==="horizontal"?(this.element.style.width=R.x*y.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.height=R.y*y.sizeRatio+"px",_.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=R.y*y.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.width=R.x*y.sizeRatio+"px",_.addControl(this.element,{anchor:n.ControlAnchor.TOP_LEFT})),this.panelWidth=R.x*this.sizeRatio+8,this.panelHeight=R.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},H=0;H<_.tileSources.length;H++)M=n.makeNeutralElement("div"),M.id=this.element.id+"-"+H,M.style.width=x.panelWidth+"px",M.style.height=x.panelHeight+"px",M.style.display="inline",M.style.float="left",M.style.cssFloat="left",M.style.padding="2px",n.setElementTouchActionNone(M),n.setElementPointerEventsNone(M),this.element.appendChild(M),M.activePanel=!1,this.panels.push(M);f(this,this.scroll==="vertical"?R.y:R.x,0),this.setFocus(0)},n.ReferenceStrip.prototype={setFocus:function(y){var x=this.element.querySelector("#"+this.element.id+"-"+y),_=n.getElementSize(this.viewer.canvas),R=Number(this.element.style.width.replace("px","")),M=Number(this.element.style.height.replace("px","")),C=-Number(this.element.style.marginLeft.replace("px","")),H=-Number(this.element.style.marginTop.replace("px","")),U;this.currentSelected!==x&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=x,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(U=Number(y)*(this.panelWidth+3),U>C+_.x-this.panelWidth?(U=Math.min(U,R-_.x),this.element.style.marginLeft=-U+"px",f(this,_.x,-U)):U<C&&(U=Math.max(0,U-_.x/2),this.element.style.marginLeft=-U+"px",f(this,_.x,-U))):(U=Number(y)*(this.panelHeight+3),U>H+_.y-this.panelHeight?(U=Math.min(U,M-_.y),this.element.style.marginTop=-U+"px",f(this,_.y,-U)):U<H&&(U=Math.max(0,U-_.y/2),this.element.style.marginTop=-U+"px",f(this,_.y,-U))),this.currentPage=y,h.call(this,{eventSource:this.tracker}))},update:function(){return!!a[this.id].animating},destroy:function(){if(this.miniViewers)for(var y in this.miniViewers)this.miniViewers[y].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function o(y){if(y.quick){var x;this.scroll==="horizontal"?x=Math.floor(y.position.x/(this.panelWidth+4)):x=Math.floor(y.position.y/this.panelHeight),this.viewer.goToPage(x)}this.element.focus()}function l(y){if(this.dragging=!0,this.element){var x=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),R=Number(this.element.style.width.replace("px","")),M=Number(this.element.style.height.replace("px","")),C=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-y.delta.x>0?x>-(R-C.x)&&(this.element.style.marginLeft=x+y.delta.x*2+"px",f(this,C.x,x+y.delta.x*2)):-y.delta.x<0&&x<0&&(this.element.style.marginLeft=x+y.delta.x*2+"px",f(this,C.x,x+y.delta.x*2)):-y.delta.y>0?_>-(M-C.y)&&(this.element.style.marginTop=_+y.delta.y*2+"px",f(this,C.y,_+y.delta.y*2)):-y.delta.y<0&&_<0&&(this.element.style.marginTop=_+y.delta.y*2+"px",f(this,C.y,_+y.delta.y*2))}}function u(y){if(this.element){var x=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),R=Number(this.element.style.width.replace("px","")),M=Number(this.element.style.height.replace("px","")),C=n.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?y.scroll>0?x>-(R-C.x)&&(this.element.style.marginLeft=x-y.scroll*60+"px",f(this,C.x,x-y.scroll*60)):y.scroll<0&&x<0&&(this.element.style.marginLeft=x-y.scroll*60+"px",f(this,C.x,x-y.scroll*60)):y.scroll<0?_>C.y-M&&(this.element.style.marginTop=_+y.scroll*60+"px",f(this,C.y,_+y.scroll*60)):y.scroll>0&&_<0&&(this.element.style.marginTop=_+y.scroll*60+"px",f(this,C.y,_+y.scroll*60)),y.preventDefault=!0}}function f(y,x,_){var R,M,C,H,U,oe;for(y.scroll==="horizontal"?R=y.panelWidth:R=y.panelHeight,M=Math.ceil(x/R)+5,C=Math.ceil((Math.abs(_)+x)/R)+1,M=C-M,M=M<0?0:M,U=M;U<C&&U<y.panels.length;U++)if(oe=y.panels[U],!oe.activePanel){var Q,N=y.viewer.tileSources[U];N.referenceStripThumbnailUrl?Q={type:"image",url:N.referenceStripThumbnailUrl}:Q=N,H=new n.Viewer({id:oe.id,tileSources:[Q],element:oe,navigatorSizeRatio:y.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:y.viewer.loadTilesWithAjax,ajaxHeaders:y.viewer.ajaxHeaders,drawer:"canvas"}),n.setElementPointerEventsNone(H.canvas),n.setElementPointerEventsNone(H.container),H.innerTracker.setTracking(!1),H.outerTracker.setTracking(!1),y.miniViewers[oe.id]=H,oe.activePanel=!0}}function h(y){var x=y.eventSource.element;this.scroll==="horizontal"?x.style.marginBottom="0px":x.style.marginLeft="0px"}function c(y){var x=y.eventSource.element;this.scroll==="horizontal"?x.style.marginBottom="-"+n.getElementSize(x).y/2+"px":x.style.marginLeft="-"+n.getElementSize(x).x/2+"px"}function m(y){if(!y.ctrl&&!y.alt&&!y.meta)switch(y.keyCode){case 38:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 40:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 37:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 39:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;default:y.preventDefault=!1;break}else y.preventDefault=!1}function g(y){if(!y.ctrl&&!y.alt&&!y.meta)switch(y.keyCode){case 61:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 45:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 48:case 119:case 87:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 115:case 83:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 97:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 100:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;default:y.preventDefault=!1;break}else y.preventDefault=!1}})(v),(function(n){n.DisplayRect=function(a,o,l,u,f,h){n.Rect.apply(this,[a,o,l,u]),this.minLevel=f,this.maxLevel=h},n.extend(n.DisplayRect.prototype,n.Rect.prototype)})(v),(function(n){n.Spring=function(o){var l=arguments;typeof o!="object"&&(o={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),n.console.assert(typeof o.springStiffness=="number"&&o.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),n.console.assert(typeof o.animationTime=="number"&&o.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),o.exponential&&(this._exponential=!0,delete o.exponential),n.extend(!0,this,o),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:n.now()},n.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},n.Spring.prototype={resetTo:function(o){n.console.assert(!this._exponential||o!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=o,this.start.time=this.target.time=this.current.time=n.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(o){n.console.assert(!this._exponential||o!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=o,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(o){this.start.value+=o,this.target.value+=o,this._exponential&&(n.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(o){this._exponential=o,this._exponential&&(n.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=n.now();let o,l;if(this._exponential?(o=this.start._logValue,l=this.target._logValue):(o=this.start.value,l=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let u=o+(l-o)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(u):this.current.value=u}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(o,l){return(1-Math.exp(o*-l))/(1-Math.exp(-o))}})(v),(function(n){n.ImageJob=function(o){n.extend(!0,this,{timeout:n.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},o),this.data=null,this.userData={},this.errorMsg=null},n.ImageJob.prototype={start:function(){this.tries++;var o=this,l=this.abort;this.jobId=window.setTimeout(function(){o.finish(null,null,"Image load exceeded timeout ("+o.timeout+" ms)")},this.timeout),this.abort=function(){o.source.downloadTileAbort(o),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(o,l,u){this.data=o,this.request=l,this.errorMsg=u,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},n.ImageLoader=function(o){n.extend(!0,this,{jobLimit:n.DEFAULT_SETTINGS.imageLoaderLimit,timeout:n.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},o)},n.ImageLoader.prototype={addJob:function(o){if(!o.source){n.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=n.TileSource.prototype;o.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var u=this,f=function(m){a(u,m,o.callback)},h={src:o.src,tile:o.tile||{},source:o.source,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.loadWithAjax?o.ajaxHeaders:null,crossOriginPolicy:o.crossOriginPolicy,ajaxWithCredentials:o.ajaxWithCredentials,postData:o.postData,callback:f,abort:o.abort,timeout:this.timeout},c=new n.ImageJob(h);!this.jobLimit||this.jobsInProgress<this.jobLimit?(c.start(),this.jobsInProgress++):this.jobQueue.push(c)},clear:function(){for(var o=0;o<this.jobQueue.length;o++){var l=this.jobQueue[o];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}};function a(o,l,u){l.errorMsg!==""&&(l.data===null||l.data===void 0)&&l.tries<1+o.tileRetryMax&&o.failedTiles.push(l);var f;o.jobsInProgress--,(!o.jobLimit||o.jobsInProgress<o.jobLimit)&&o.jobQueue.length>0&&(f=o.jobQueue.shift(),f.start(),o.jobsInProgress++),o.tileRetryMax>0&&o.jobQueue.length===0&&(!o.jobLimit||o.jobsInProgress<o.jobLimit)&&o.failedTiles.length>0&&(f=o.failedTiles.shift(),setTimeout(function(){f.start()},o.tileRetryDelay),o.jobsInProgress++),u(l.data,l.errorMsg,l.request)}})(v),(function(n){n.Tile=function(a,o,l,u,f,h,c,m,g,y,x,_){this.level=a,this.x=o,this.y=l,this.bounds=u,this.positionedBounds=new v.Rect(u.x,u.y,u.width,u.height),this.sourceBounds=y,this.exists=f,this._url=h,this.postData=x,this.context2D=c,this.loadWithAjax=m,this.ajaxHeaders=g,_===void 0&&(n.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),_=n.TileSource.prototype.getTileHashKey(a,o,l,h,g,x)),this.cacheKey=_,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},n.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return n.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return n.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return n.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*n.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,o,l){var u=Math.max(1,Math.ceil((l.x-o.x)/2)),f=Math.max(1,Math.ceil((l.y-o.y)/2));return new n.Point(u,f).minus(this.position.times(n.pixelDensityRatio).times(a||1).apply(function(h){return h%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}})(v),(function(n){n.OverlayPlacement=n.Placement,n.OverlayRotationMode=n.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),n.Overlay=function(a,o,l){var u;n.isPlainObject(a)?u=a:u={element:a,location:o,placement:l},this.elementWrapper=document.createElement("div"),this.element=u.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(u)},n.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?n.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||n.OverlayRotationMode.EXACT,this.location instanceof n.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=n.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new n.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,o){var l=n.Placement.properties[this.placement];l&&(l.isHorizontallyCentered?a.x-=o.x/2:l.isRight&&(a.x-=o.x),l.isVerticallyCentered?a.y-=o.y/2:l.isBottom&&(a.y-=o.y))},destroy:function(){var a=this.elementWrapper,o=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(o.display="none",document.body.appendChild(a))),this.onDraw=null,o.top="",o.left="",o.position="",this.width!==null&&(o.width=""),this.height!==null&&(o.height="");var l=n.getCssPropertyWithVendorPrefix("transformOrigin"),u=n.getCssPropertyWithVendorPrefix("transform");l&&u&&(o[l]="",o[u]="")},drawHTML:function(a,o){var l=this.elementWrapper;l.parentNode!==a&&(l.prevElementParent=l.parentNode,l.prevNextSibling=l.nextSibling,a.appendChild(l),this.style.position="absolute",this.size=n.getElementSize(this.elementWrapper));var u=this._getOverlayPositionAndSize(o),f=u.position,h=this.size=u.size,c="";o.overlayPreserveContentDirection&&(c=o.flipped?" scaleX(-1)":" scaleX(1)");var m=o.flipped?-u.rotate:u.rotate,g=o.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(f,h,this.element);else{var y=this.style,x=this.element.style;x.display="block",y.left=f.x+"px",y.top=f.y+"px",this.width!==null&&(x.width=h.x+"px"),this.height!==null&&(x.height=h.y+"px");var _=n.getCssPropertyWithVendorPrefix("transformOrigin"),R=n.getCssPropertyWithVendorPrefix("transform");_&&R&&(m&&!o.flipped?(x[R]="",y[_]=this._getTransformOrigin(),y[R]="rotate("+m+"deg)"):!m&&o.flipped?(x[R]=c,y[_]=this._getTransformOrigin(),y[R]=g):m&&o.flipped?(x[R]=c,y[_]=this._getTransformOrigin(),y[R]="rotate("+m+"deg)"+g):(x[R]="",y[_]="",y[R]="")),y.display="flex"}},_getOverlayPositionAndSize:function(a){var o=a.pixelFromPoint(this.location,!0),l=this._getSizeInPixels(a);this.adjust(o,l);var u=0;if(a.getRotation(!0)&&this.rotationMode!==n.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var f=new n.Rect(o.x,o.y,l.x,l.y),h=this._getBoundingBox(f,a.getRotation(!0));o=h.getTopLeft(),l=h.getSize()}else u=a.getRotation(!0);return a.flipped&&(o.x=a.getContainerSize().x-o.x),{position:o,size:l,rotate:u}},_getSizeInPixels:function(a){var o=this.size.x,l=this.size.y;if(this.width!==null||this.height!==null){var u=a.deltaPixelsFromPointsNoRotate(new n.Point(this.width||0,this.height||0),!0);this.width!==null&&(o=u.x),this.height!==null&&(l=u.y)}if(this.checkResize&&(this.width===null||this.height===null)){var f=this.size=n.getElementSize(this.elementWrapper);this.width===null&&(o=f.x),this.height===null&&(l=f.y)}return new n.Point(o,l)},_getBoundingBox:function(a,o){var l=this._getPlacementPoint(a);return a.rotate(o,l).getBoundingBox()},_getPlacementPoint:function(a){var o=new n.Point(a.x,a.y),l=n.Placement.properties[this.placement];return l&&(l.isHorizontallyCentered?o.x+=a.width/2:l.isRight&&(o.x+=a.width),l.isVerticallyCentered?o.y+=a.height/2:l.isBottom&&(o.y+=a.height)),o},_getTransformOrigin:function(){var a="",o=n.Placement.properties[this.placement];return o&&(o.isLeft?a="left":o.isRight&&(a="right"),o.isTop?a+=" top":o.isBottom&&(a+=" bottom")),a},update:function(a,o){var l=n.isPlainObject(a)?a:{location:a,placement:o};this._init({location:l.location||this.location,placement:l.placement!==void 0?l.placement:this.placement,onDraw:l.onDraw||this.onDraw,checkResize:l.checkResize||this.checkResize,width:l.width!==void 0?l.width:this.width,height:l.height!==void 0?l.height:this.height,rotationMode:l.rotationMode||this.rotationMode})},getBounds:function(a){n.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var o=this.width,l=this.height;if(o===null||l===null){var u=a.deltaPointsFromPixelsNoRotate(this.size,!0);o===null&&(o=u.x),l===null&&(l=u.y)}var f=this.location.clone();return this.adjust(f,new n.Point(o,l)),this._adjustBoundsForRotation(a,new n.Rect(f.x,f.y,o,l))},_adjustBoundsForRotation:function(a,o){if(!a||a.getRotation(!0)===0||this.rotationMode===n.OverlayRotationMode.EXACT)return o;if(this.rotationMode===n.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return o;var l=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new n.Rect(l.position.x,l.position.y,l.size.x,l.size.y))}return o.rotate(-a.getRotation(!0),this._getPlacementPoint(o))}}})(v),(function(n){const a=n;a.DrawerBase=class{constructor(l){n.console.assert(l.viewer,"[Drawer] options.viewer is required"),n.console.assert(l.viewport,"[Drawer] options.viewport is required"),n.console.assert(l.element,"[Drawer] options.element is required"),this.viewer=l.viewer,this.viewport=l.viewport,this.debugGridColor=typeof l.debugGridColor=="string"?[l.debugGridColor]:l.debugGridColor||n.DEFAULT_SETTINGS.debugGridColor,this.options=l.options||{},this.container=n.getElement(l.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",n.setElementOpacity(this.canvas,this.viewer.opacity,!0),n.setElementPointerEventsNone(this.canvas),n.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return n.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){n.console.error("Drawer.getType must be implemented by child class")}static isSupported(){n.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return n.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(l){n.console.error("Drawer.draw must be implemented by child class")}canRotate(){n.console.error("Drawer.canRotate must be implemented by child class")}destroy(){n.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(l){return!1}setImageSmoothingEnabled(l){n.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(l){n.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){n.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===n.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===n.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===n.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===n.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===n.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(l){var u=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!0),f=this.viewport.deltaPixelsFromPointsNoRotate(l.getSize(),!0);return new n.Rect(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio,f.x*n.pixelDensityRatio,f.y*n.pixelDensityRatio)}viewportCoordToDrawerCoord(l){var u=this.viewport.pixelFromPointNoRotate(l,!0);return new n.Point(u.x*n.pixelDensityRatio,u.y*n.pixelDensityRatio)}_calculateCanvasSize(){var l=n.pixelDensityRatio,u=this.viewport.getContainerSize();return new a.Point(Math.round(u.x*l),Math.round(u.y*l))}_raiseTiledImageDrawnEvent(l,u){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:l,tiles:u})}_raiseDrawerErrorEvent(l,u){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:l,drawer:this,error:u})}}})(v),(function(n){const a=n;class o extends a.DrawerBase{constructor(u){super(u),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(u){return!0}_createDrawingElement(){return n.makeNeutralElement("div")}draw(u){var f=this;this._prepareNewFrame(),u.forEach(function(h){h.opacity!==0&&f._drawTiles(h)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(u){var f=u.getTilesToDraw().map(m=>m.tile);if(!(u.opacity===0||f.length===0&&!u.placeholderFillStyle))for(var h=f.length-1;h>=0;h--){var c=f[h];this._drawTile(c),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:u,tile:c})}}_drawTile(u){n.console.assert(u,"[Drawer._drawTile] tile is required");let f=this.canvas;if(!u.cacheImageRecord){n.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",u.toString());return}if(!u.loaded){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",u.toString());return}if(!u.element){var h=u.getImage();if(!h)return;u.element=n.makeNeutralElement("div"),u.imgElement=h.cloneNode(),u.imgElement.style.msInterpolationMode="nearest-neighbor",u.imgElement.style.width="100%",u.imgElement.style.height="100%",u.style=u.element.style,u.style.position="absolute"}u.element.parentNode!==f&&f.appendChild(u.element),u.imgElement.parentNode!==u.element&&u.element.appendChild(u.imgElement),u.style.top=u.position.y+"px",u.style.left=u.position.x+"px",u.style.height=u.size.y+"px",u.style.width=u.size.x+"px",u.flipped&&(u.style.transform="scaleX(-1)"),n.setElementOpacity(u.element,u.opacity)}}n.HTMLDrawer=o})(v),(function(n){const a=n;class o extends a.DrawerBase{constructor(m){super(m),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return n.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let m=n.makeNeutralElement("canvas"),g=this._calculateCanvasSize();return m.width=g.x,m.height=g.y,m}draw(m){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const g of m)g.opacity!==0&&this._drawTiles(g)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(m){return!0}setImageSmoothingEnabled(m){this._imageSmoothingEnabled=!!m,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(m){var g=this.context;g.save(),g.lineWidth=2*n.pixelDensityRatio,g.strokeStyle=this.debugGridColor[0],g.fillStyle=this.debugGridColor[0],g.strokeRect(m.x*n.pixelDensityRatio,m.y*n.pixelDensityRatio,m.width*n.pixelDensityRatio,m.height*n.pixelDensityRatio),g.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(m,g,y,x){this.viewer.raiseEvent("tile-drawing",{tiledImage:m,context:g,tile:y,rendered:x})}_prepareNewFrame(){var m=this._calculateCanvasSize();if((this.canvas.width!==m.x||this.canvas.height!==m.y)&&(this.canvas.width=m.x,this.canvas.height=m.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var g=this._calculateSketchCanvasSize();this.sketchCanvas.width=g.x,this.sketchCanvas.height=g.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(m,g){var y=this._getContext(m);if(g)y.clearRect(g.x,g.y,g.width,g.height);else{var x=y.canvas;y.clearRect(0,0,x.width,x.height)}}_drawTiles(m){var g=m.getTilesToDraw().map(we=>we.tile);if(!(m.opacity===0||g.length===0&&!m.placeholderFillStyle)){var y=g[0],x;y&&(x=m.opacity<1||m.compositeOperation&&m.compositeOperation!=="source-over"||!m._isBottomItem()&&m.source.hasTransparency(y.context2D,y.getUrl(),y.ajaxHeaders,y.postData));var _,R,M=this.viewport.getZoom(!0),C=m.viewportToImageZoom(M);g.length>1&&C>m.smoothTileEdgesMinZoom&&!m.iOSDevice&&m.getRotation(!0)%360===0&&(x=!0,_=y.getScaleForEdgeSmoothing(),R=y.getTranslationForEdgeSmoothing(_,this._getCanvasSize(!1),this._getCanvasSize(!0)));var H;x&&(_||(H=this.viewport.viewportToViewerElementRectangle(m.getClippedBounds(!0)).getIntegerBoundingBox(),H=H.times(n.pixelDensityRatio)),this._clear(!0,H)),_||this._setRotations(m,x);var U=!1;if(m._clip){this._saveContext(x);var oe=m.imageToViewportRectangle(m._clip,!0);oe=oe.rotate(-m.getRotation(!0),m._getRotationPoint(!0));var Q=this.viewportToDrawerRectangle(oe);_&&(Q=Q.times(_)),R&&(Q=Q.translate(R)),this._setClip(Q,x),U=!0}if(m._croppingPolygons){var N=this;U||this._saveContext(x);try{var ae=m._croppingPolygons.map(function(we){return we.map(function(Re){var Ne=m.imageToViewportCoordinates(Re.x,Re.y,!0).rotate(-m.getRotation(!0),m._getRotationPoint(!0)),Ve=N.viewportCoordToDrawerCoord(Ne);return _&&(Ve=Ve.times(_)),R&&(Ve=Ve.plus(R)),Ve})});this._clipWithPolygons(ae,x)}catch(we){n.console.error(we)}U=!0}if(m._hasOpaqueTile=!1,m.placeholderFillStyle&&m._hasOpaqueTile===!1){let we=this.viewportToDrawerRectangle(m.getBoundsNoRotate(!0));_&&(we=we.times(_)),R&&(we=we.translate(R));let Re=null;typeof m.placeholderFillStyle=="function"?Re=m.placeholderFillStyle(m,this.context):Re=m.placeholderFillStyle,this._drawRectangle(we,Re,x)}var pe=h(m.subPixelRoundingForTransparency),fe=!1;if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)fe=!0;else if(pe===n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var Oe=this.viewer&&this.viewer.isAnimating();fe=!Oe}for(var Le=0;Le<g.length;Le++)y=g[Le],this._drawTile(y,m,x,_,R,fe,m.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:m,tile:y});U&&this._restoreContext(x),_||(m.getRotation(!0)%360!==0&&this._restoreRotationChanges(x),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(x)),x&&(_&&this._setRotations(m),this.blendSketch({opacity:m.opacity,scale:_,translate:R,compositeOperation:m.compositeOperation,bounds:H}),_&&(m.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(m,g),this._raiseTiledImageDrawnEvent(m,g)}}_drawDebugInfo(m,g){if(m.debugMode)for(var y=g.length-1;y>=0;y--){var x=g[y];try{this._drawDebugInfoOnTile(x,g.length,y,m)}catch(_){n.console.error(_)}}}_clipWithPolygons(m,g){var y=this._getContext(g);y.beginPath();for(const x of m)for(const[_,R]of x.entries())y[_===0?"moveTo":"lineTo"](R.x,R.y);y.clip()}_drawTile(m,g,y,x,_,R,M){n.console.assert(m,"[Drawer._drawTile] tile is required"),n.console.assert(g,"[Drawer._drawTile] drawingHandler is required");var C=this._getContext(y);x=x||1,this._drawTileToCanvas(m,C,g,x,_,R,M)}_drawTileToCanvas(m,g,y,x,_,R,M){var C=m.position.times(n.pixelDensityRatio),H=m.size.times(n.pixelDensityRatio),U;if(!m.context2D&&!m.cacheImageRecord){n.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",m.toString());return}if(U=m.getCanvasContext(),!m.loaded||!U){n.console.warn("Attempting to draw tile %s when it's not yet loaded.",m.toString());return}g.save(),typeof x=="number"&&x!==1&&(C=C.times(x),H=H.times(x)),_ instanceof n.Point&&(C=C.plus(_)),g.globalAlpha===1&&m.hasTransparency&&(R&&(C.x=Math.round(C.x),C.y=Math.round(C.y),H.x=Math.round(H.x),H.y=Math.round(H.y)),g.clearRect(C.x,C.y,H.x,H.y)),this._raiseTileDrawingEvent(y,g,m,U);var oe,Q;m.sourceBounds?(oe=Math.min(m.sourceBounds.width,U.canvas.width),Q=Math.min(m.sourceBounds.height,U.canvas.height)):(oe=U.canvas.width,Q=U.canvas.height),g.translate(C.x+H.x/2,0),m.flipped&&g.scale(-1,1),g.drawImage(U.canvas,0,0,oe,Q,-H.x/2,C.y,H.x,H.y),g.restore()}_getContext(m){var g=this.context;if(m){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var y=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=y.x,this.sketchCanvas.height=y.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var x=this;this.viewer.addHandler("rotate",function _(){if(x.viewport.getRotation()!==0){x.viewer.removeHandler("rotate",_);var R=x._calculateSketchCanvasSize();x.sketchCanvas.width=R.x,x.sketchCanvas.height=R.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}g=this.sketchContext}return g}_saveContext(m){this._getContext(m).save()}_restoreContext(m){this._getContext(m).restore()}_setClip(m,g){var y=this._getContext(g);y.beginPath(),y.rect(m.x,m.y,m.width,m.height),y.clip()}_drawRectangle(m,g,y){var x=this._getContext(y);x.save(),x.fillStyle=g,x.fillRect(m.x,m.y,m.width,m.height),x.restore()}blendSketch(m,g,y,x){var _=m;n.isPlainObject(_)||(_={opacity:m,scale:g,translate:y,compositeOperation:x}),m=_.opacity,x=_.compositeOperation;var R=_.bounds;if(this.context.save(),this.context.globalAlpha=m,x&&(this.context.globalCompositeOperation=x),R)R.x<0&&(R.width+=R.x,R.x=0),R.x+R.width>this.canvas.width&&(R.width=this.canvas.width-R.x),R.y<0&&(R.height+=R.y,R.y=0),R.y+R.height>this.canvas.height&&(R.height=this.canvas.height-R.y),this.context.drawImage(this.sketchCanvas,R.x,R.y,R.width,R.height,R.x,R.y,R.width,R.height);else{g=_.scale||1,y=_.translate;var M=y instanceof n.Point?y:new n.Point(0,0),C=0,H=0;if(y){var U=this.sketchCanvas.width-this.canvas.width,oe=this.sketchCanvas.height-this.canvas.height;C=Math.round(U/2),H=Math.round(oe/2)}this.context.drawImage(this.sketchCanvas,M.x-C*g,M.y-H*g,(this.canvas.width+2*C)*g,(this.canvas.height+2*H)*g,-C,-H,this.canvas.width+2*C,this.canvas.height+2*H)}this.context.restore()}_drawDebugInfoOnTile(m,g,y,x){var _=this.viewer.world.getIndexOfItem(x)%this.debugGridColor.length,R=this.context;R.save(),R.lineWidth=2*n.pixelDensityRatio,R.font="small-caps bold "+13*n.pixelDensityRatio+"px arial",R.strokeStyle=this.debugGridColor[_],R.fillStyle=this.debugGridColor[_],this._setRotations(x),this._viewportFlipped&&this._flip({point:m.position.plus(m.size.divide(2))}),R.strokeRect(m.position.x*n.pixelDensityRatio,m.position.y*n.pixelDensityRatio,m.size.x*n.pixelDensityRatio,m.size.y*n.pixelDensityRatio);var M=(m.position.x+m.size.x/2)*n.pixelDensityRatio,C=(m.position.y+m.size.y/2)*n.pixelDensityRatio;R.translate(M,C);const H=this.viewport.getRotation(!0);R.rotate(Math.PI/180*-H),R.translate(-M,-C),m.x===0&&m.y===0&&(R.fillText("Zoom: "+this.viewport.getZoom(),m.position.x*n.pixelDensityRatio,(m.position.y-30)*n.pixelDensityRatio),R.fillText("Pan: "+this.viewport.getBounds().toString(),m.position.x*n.pixelDensityRatio,(m.position.y-20)*n.pixelDensityRatio)),R.fillText("Level: "+m.level,(m.position.x+10)*n.pixelDensityRatio,(m.position.y+20)*n.pixelDensityRatio),R.fillText("Column: "+m.x,(m.position.x+10)*n.pixelDensityRatio,(m.position.y+30)*n.pixelDensityRatio),R.fillText("Row: "+m.y,(m.position.x+10)*n.pixelDensityRatio,(m.position.y+40)*n.pixelDensityRatio),R.fillText("Order: "+y+" of "+g,(m.position.x+10)*n.pixelDensityRatio,(m.position.y+50)*n.pixelDensityRatio),R.fillText("Size: "+m.size.toString(),(m.position.x+10)*n.pixelDensityRatio,(m.position.y+60)*n.pixelDensityRatio),R.fillText("Position: "+m.position.toString(),(m.position.x+10)*n.pixelDensityRatio,(m.position.y+70)*n.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),x.getRotation(!0)%360!==0&&this._restoreRotationChanges(),R.restore()}_updateImageSmoothingEnabled(m){m.msImageSmoothingEnabled=this._imageSmoothingEnabled,m.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(m){var g=this._getContext(m).canvas;return new n.Point(g.width,g.height)}_getCanvasCenter(){return new n.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(m,g=!1){var y=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:g,saveContext:y}),y=!1),m.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:m.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(m._getRotationPoint(!0),!0),useSketch:g,saveContext:y})}_offsetForRotation(m){var g=m.point?m.point.times(n.pixelDensityRatio):this._getCanvasCenter(),y=this._getContext(m.useSketch);y.save(),y.translate(g.x,g.y),y.rotate(Math.PI/180*m.degrees),y.translate(-g.x,-g.y)}_flip(m){m=m||{};var g=m.point?m.point.times(n.pixelDensityRatio):this._getCanvasCenter(),y=this._getContext(m.useSketch);y.translate(g.x,0),y.scale(-1,1),y.translate(-g.x,0)}_restoreRotationChanges(m){var g=this._getContext(m);g.restore()}_calculateCanvasSize(){var m=n.pixelDensityRatio,g=this.viewport.getContainerSize();return{x:Math.round(g.x*m),y:Math.round(g.y*m)}}_calculateSketchCanvasSize(){var m=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return m;var g=Math.ceil(Math.sqrt(m.x*m.x+m.y*m.y));return{x:g,y:g}}}n.CanvasDrawer=o;var l=n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(c){return c!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&c!==n.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&c!==n.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function f(c){return u(c)?l:c}function h(c){if(typeof c=="number")return f(c);if(!c||!n.Browser)return l;var m=c[n.Browser.vendor];return u(m)&&(m=c["*"]),f(m)}})(v),(function(n){const a=n;a.WebGLDrawer=class extends a.DrawerBase{constructor(l){super(l),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=u=>this._tileReadyHandler(u),this._boundToImageUnloaded=u=>this._imageUnloadedHandler(u),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let l=this._gl;var u=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS);for(let h=0;h<u;++h)l.activeTexture(l.TEXTURE0+h),l.bindTexture(l.TEXTURE_2D,null),l.bindTexture(l.TEXTURE_CUBE_MAP,null);l.bindBuffer(l.ARRAY_BUFFER,null),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),l.bindRenderbuffer(l.RENDERBUFFER,null),l.bindFramebuffer(l.FRAMEBUFFER,null),this._unloadTextures(),l.deleteBuffer(this._secondPass.bufferOutputPosition),l.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let f=l.getExtension("WEBGL_lose_context");f&&f.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let l=document.createElement("canvas"),u=n.isFunction(l.getContext)&&l.getContext("webgl"),f=u&&u.getExtension("WEBGL_lose_context");return f&&f.loseContext(),!!u}getType(){return"webgl"}minimumOverlapRequired(l){return l.isTainted()}_createDrawingElement(){let l=n.makeNeutralElement("canvas"),u=this._calculateCanvasSize();return l.width=u.x,l.height=u.y,l}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(l){let u=this._gl;const f=this.viewport.getBoundsNoRotateWithMargins(!0);let h={bounds:f,center:new a.Point(f.x+f.width/2,f.y+f.height/2),rotation:this.viewport.getRotation(!0)*Math.PI/180},c=this.viewport.flipped?-1:1,m=n.Mat3.makeTranslation(-h.center.x,-h.center.y),g=n.Mat3.makeScaling(2/h.bounds.width*c,-2/h.bounds.height),y=n.Mat3.makeRotation(-h.rotation),x=g.multiply(y).multiply(m);u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let _=!1;l.forEach((R,M)=>{if(R.isTainted()){_&&(this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),_=!1);const C=this._getBackupCanvasDrawer();C.draw([R]),this._outputContext.drawImage(C.canvas,0,0)}else{let C=R.getTilesToDraw();if(R.placeholderFillStyle&&R._hasOpaqueTile===!1&&this._drawPlaceholder(R),C.length===0||R.getOpacity()===0)return;let H=C[0],U=R.compositeOperation||this.viewer.compositeOperation||R._clip||R._croppingPolygons||R.debugMode,oe=U||R.opacity<1||H.hasTransparency;U&&(_&&this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),u.useProgram(this._firstPass.shaderProgram),oe?(u.bindFramebuffer(u.FRAMEBUFFER,this._glFrameBuffer),u.clear(u.COLOR_BUFFER_BIT)):u.bindFramebuffer(u.FRAMEBUFFER,null);let Q=x,N=R.getRotation(!0);if(N%360!==0){let we=n.Mat3.makeRotation(-N*Math.PI/180),Re=R.getBoundsNoRotate(!0).getCenter(),Ne=n.Mat3.makeTranslation(Re.x,Re.y),Ve=n.Mat3.makeTranslation(-Re.x,-Re.y),j=Ne.multiply(we).multiply(Ve);Q=x.multiply(j)}let ae=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(ae<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${ae}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let pe=new Float32Array(ae*12),fe=new Array(ae),Oe=new Array(ae),Le=new Array(ae);for(let we=0;we<C.length;we++){let Re=C[we].tile,Ne=we%ae,Ve=Ne+1,j=Re.getCanvasContext(),le=j?this._TextureMap.get(j.canvas):null;if(le||(this._tileReadyHandler({tile:Re,tiledImage:R}),le=j?this._TextureMap.get(j.canvas):null),le&&this._getTileData(Re,R,le,Q,Ne,pe,fe,Oe,Le),Ve===ae||we===C.length-1){for(let he=0;he<=Ve;he++)u.activeTexture(u.TEXTURE0+he),u.bindTexture(u.TEXTURE_2D,fe[he]);u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.bufferData(u.ARRAY_BUFFER,pe,u.DYNAMIC_DRAW),Oe.forEach((he,Ue)=>{u.uniformMatrix3fv(this._firstPass.uTransformMatrices[Ue],!1,he)}),u.uniform1fv(this._firstPass.uOpacities,new Float32Array(Le)),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),u.vertexAttribPointer(this._firstPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.vertexAttribPointer(this._firstPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferIndex),u.vertexAttribPointer(this._firstPass.aIndex,1,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6*Ve)}}oe&&(u.useProgram(this._secondPass.shaderProgram),u.bindFramebuffer(u.FRAMEBUFFER,null),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,R.opacity),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),u.vertexAttribPointer(this._secondPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),u.vertexAttribPointer(this._secondPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6)),_=!0,U&&(this._applyContext2dPipeline(R,C,M),_=!1,u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),M===0&&this._raiseTiledImageDrawnEvent(R,C.map(we=>we.tile))}}),_&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(l){this._imageSmoothingEnabled!==l&&(this._imageSmoothingEnabled=l,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(l){let u=this._outputContext;u.save(),u.lineWidth=2*n.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(l.x*n.pixelDensityRatio,l.y*n.pixelDensityRatio,l.width*n.pixelDensityRatio,l.height*n.pixelDensityRatio),u.restore()}_getTextureDataFromTile(l){return l.getCanvasContext().canvas}_applyContext2dPipeline(l,u,f){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=f===0?null:l.compositeOperation||this.viewer.compositeOperation,l._croppingPolygons||l._clip?(this._renderToClippingCanvas(l),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),l.debugMode){const h=this.viewer.viewport.getFlip();h&&this._flip(),this._drawDebugInfo(u,l,h),h&&this._flip()}}_getTileData(l,u,f,h,c,m,g,y,x){let _=f.texture,R=f.position;m.set(R,c*12);let M=this._calculateOverlapFraction(l,u),C=l.positionedBounds.width*M.x,H=l.positionedBounds.height*M.y,U=l.positionedBounds.x+(l.x===0?0:C),oe=l.positionedBounds.y+(l.y===0?0:H),Q=l.positionedBounds.x+l.positionedBounds.width-(l.isRightMost?0:C),N=l.positionedBounds.y+l.positionedBounds.height-(l.isBottomMost?0:H),ae=Q-U,pe=N-oe,fe=new n.Mat3([ae,0,0,0,pe,0,U,oe,1]);if(l.flipped){let Le=n.Mat3.makeTranslation(.5,0),we=n.Mat3.makeTranslation(-.5,0),Re=Le.multiply(n.Mat3.makeScaling(-1,1)).multiply(we);fe=fe.multiply(Re)}let Oe=h.multiply(fe);x[c]=l.opacity,g[c]=_,y[c]=Oe.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let l=this._gl;l||n.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),this._glFrameBuffer=l.createFramebuffer(),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let l=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),u=()=>[...Array(l).keys()].map(_=>`uniform mat3 u_matrix_${_};`).join(`
`),f=()=>[...Array(l).keys()].map(_=>`${_>0?"else ":""}if(int(a_index) == ${_}) { transform_matrix = u_matrix_${_}; }`).join(`
`);const h=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${u()} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${f()}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,c=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${l}];
            // our opacities
            uniform float u_opacities[${l}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${l}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `;let m=this._gl,g=this.constructor.initShaderProgram(m,h,c);m.useProgram(g),this._firstPass={shaderProgram:g,aOutputPosition:m.getAttribLocation(g,"a_output_position"),aTexturePosition:m.getAttribLocation(g,"a_texture_position"),aIndex:m.getAttribLocation(g,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(_=>m.getUniformLocation(g,`u_matrix_${_}`)),uImages:m.getUniformLocation(g,"u_images"),uOpacities:m.getUniformLocation(g,"u_opacities"),bufferOutputPosition:m.createBuffer(),bufferTexturePosition:m.createBuffer(),bufferIndex:m.createBuffer()},m.uniform1iv(this._firstPass.uImages,[...Array(l).keys()]);let y=new Float32Array(l*12);for(let _=0;_<l;++_)y.set(Float32Array.from(this._unitQuad),_*12);m.bindBuffer(m.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),m.bufferData(m.ARRAY_BUFFER,y,m.STATIC_DRAW),m.enableVertexAttribArray(this._firstPass.aOutputPosition),m.bindBuffer(m.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),m.enableVertexAttribArray(this._firstPass.aTexturePosition),m.bindBuffer(m.ARRAY_BUFFER,this._firstPass.bufferIndex);let x=[...Array(this._glNumTextures).keys()].map(_=>Array(6).fill(_)).flat();m.bufferData(m.ARRAY_BUFFER,new Float32Array(x),m.STATIC_DRAW),m.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){const l=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,u=`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `;let f=this._gl,h=this.constructor.initShaderProgram(f,l,u);f.useProgram(h),this._secondPass={shaderProgram:h,aOutputPosition:f.getAttribLocation(h,"a_output_position"),aTexturePosition:f.getAttribLocation(h,"a_texture_position"),uMatrix:f.getUniformLocation(h,"u_matrix"),uImage:f.getUniformLocation(h,"u_image"),uOpacityMultiplier:f.getUniformLocation(h,"u_opacity_multiplier"),bufferOutputPosition:f.createBuffer(),bufferTexturePosition:f.createBuffer()},f.bindBuffer(f.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),f.bufferData(f.ARRAY_BUFFER,this._unitQuad,f.STATIC_DRAW),f.enableVertexAttribArray(this._secondPass.aOutputPosition),f.bindBuffer(f.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),f.bufferData(f.ARRAY_BUFFER,this._unitQuad,f.DYNAMIC_DRAW),f.enableVertexAttribArray(this._secondPass.aTexturePosition);let c=n.Mat3.makeScaling(2,2).multiply(n.Mat3.makeTranslation(-.5,-.5));f.uniformMatrix3fv(this._secondPass.uMatrix,!1,c.values)}_resizeRenderer(){let l=this._gl,u=this._renderingCanvas.width,f=this._renderingCanvas.height;l.viewport(0,0,u,f),l.deleteTexture(this._renderToTexture),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,u,f,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let l=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){l._outputCanvas!==l.viewer.drawer.canvas&&(l._outputCanvas.style.width=l.viewer.drawer.canvas.clientWidth+"px",l._outputCanvas.style.height=l.viewer.drawer.canvas.clientHeight+"px");let u=l._calculateCanvasSize();(l._outputCanvas.width!==u.x||l._outputCanvas.height!==u.y)&&(l._outputCanvas.width=u.x,l._outputCanvas.height=u.y),l._renderingCanvas.style.width=l._outputCanvas.clientWidth+"px",l._renderingCanvas.style.height=l._outputCanvas.clientHeight+"px",l._renderingCanvas.width=l._clippingCanvas.width=l._outputCanvas.width,l._renderingCanvas.height=l._clippingCanvas.height=l._outputCanvas.height,l._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(l,u,f,h){return new Float32Array([l,h,u,h,l,f,l,f,u,h,u,f])}_tileReadyHandler(l){let u=l.tile,f=l.tiledImage;if(f.isTainted())return;let h=u.getCanvasContext(),c=h&&h.canvas;if(!c||n.isCanvasTainted(c)){f.isTainted()||(f.setTainted(!0),n.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(f,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."));return}if(!this._TextureMap.get(c)){let g=this._gl,y=g.createTexture(),x,_=f.source.tileOverlap,R,M;if(u.sourceBounds?(R=Math.min(u.sourceBounds.width,c.width)/c.width,M=Math.min(u.sourceBounds.height,c.height)/c.height):(R=1,M=1),_>0){let H=this._calculateOverlapFraction(u,f),U=(u.x===0?0:H.x)*R,oe=(u.y===0?0:H.y)*M,Q=(u.isRightMost?1:1-H.x)*R,N=(u.isBottomMost?1:1-H.y)*M;x=this._makeQuadVertexBuffer(U,Q,oe,N)}else R===1&&M===1?x=this._unitQuad:x=this._makeQuadVertexBuffer(0,R,0,M);let C={texture:y,position:x};this._TextureMap.set(c,C),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,y),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,this._textureFilter()),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(h)}}_calculateOverlapFraction(l,u){let f=u.source.tileOverlap,h=l.sourceBounds.width,c=l.sourceBounds.height,m=(l.x===0?0:f)+(l.isRightMost?0:f),g=(l.y===0?0:f)+(l.isBottomMost?0:f),y=f/(h+m),x=f/(c+g);return{x:y,y:x}}_unloadTextures(){Array.from(this._TextureMap.keys()).forEach(u=>{this._cleanupImageData(u)})}_uploadImageData(l){let u=this._gl,f=l.canvas;try{if(!f)throw l;u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,f)}catch(h){n.console.error("Error uploading image data to WebGL",h)}}_imageUnloadedHandler(l){let u=l.context2D.canvas;this._cleanupImageData(u)}_cleanupImageData(l){let u=this._TextureMap.get(l);this._TextureMap.delete(l),u&&this._gl.deleteTexture(u.texture)}_setClip(){}_renderToClippingCanvas(l){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const u=new n.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}if(l._clip){let f=[{x:l._clip.x,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y+l._clip.height},{x:l._clip.x,y:l._clip.y+l._clip.height}].map(h=>{let c=l.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(c)});this._clippingContext.beginPath(),f.forEach((h,c)=>{this._clippingContext[c===0?"moveTo":"lineTo"](h.x,h.y)}),this._clippingContext.clip(),this._setClip()}if(l._croppingPolygons){let u=l._croppingPolygons.map(f=>f.map(h=>{let c=l.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(c)}));this._clippingContext.beginPath(),u.forEach(f=>{f.forEach((h,c)=>{this._clippingContext[c===0?"moveTo":"lineTo"](h.x,h.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const u=new n.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(l){var u=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:u}),u=!1),l.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:l.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(l._getRotationPoint(!0),!0),saveContext:u})}_offsetForRotation(l){var u=l.point?l.point.times(n.pixelDensityRatio):this._getCanvasCenter(),f=this._outputContext;f.save(),f.translate(u.x,u.y),f.rotate(Math.PI/180*l.degrees),f.translate(-u.x,-u.y)}_flip(l){l=l||{};var u=l.point?l.point.times(n.pixelDensityRatio):this._getCanvasCenter(),f=this._outputContext;f.translate(u.x,0),f.scale(-1,1),f.translate(-u.x,0)}_drawDebugInfo(l,u,f){for(var h=l.length-1;h>=0;h--){var c=l[h].tile;try{this._drawDebugInfoOnTile(c,l.length,h,u,f)}catch(m){n.console.error(m)}}}_drawDebugInfoOnTile(l,u,f,h,c){var m=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,g=this.context;g.save(),g.lineWidth=2*n.pixelDensityRatio,g.font="small-caps bold "+13*n.pixelDensityRatio+"px arial",g.strokeStyle=this.debugGridColor[m],g.fillStyle=this.debugGridColor[m],this._setRotations(h),c&&this._flip({point:l.position.plus(l.size.divide(2))}),g.strokeRect(l.position.x*n.pixelDensityRatio,l.position.y*n.pixelDensityRatio,l.size.x*n.pixelDensityRatio,l.size.y*n.pixelDensityRatio);var y=(l.position.x+l.size.x/2)*n.pixelDensityRatio,x=(l.position.y+l.size.y/2)*n.pixelDensityRatio;g.translate(y,x);const _=this.viewport.getRotation(!0);g.rotate(Math.PI/180*-_),g.translate(-y,-x),l.x===0&&l.y===0&&(g.fillText("Zoom: "+this.viewport.getZoom(),l.position.x*n.pixelDensityRatio,(l.position.y-30)*n.pixelDensityRatio),g.fillText("Pan: "+this.viewport.getBounds().toString(),l.position.x*n.pixelDensityRatio,(l.position.y-20)*n.pixelDensityRatio)),g.fillText("Level: "+l.level,(l.position.x+10)*n.pixelDensityRatio,(l.position.y+20)*n.pixelDensityRatio),g.fillText("Column: "+l.x,(l.position.x+10)*n.pixelDensityRatio,(l.position.y+30)*n.pixelDensityRatio),g.fillText("Row: "+l.y,(l.position.x+10)*n.pixelDensityRatio,(l.position.y+40)*n.pixelDensityRatio),g.fillText("Order: "+f+" of "+u,(l.position.x+10)*n.pixelDensityRatio,(l.position.y+50)*n.pixelDensityRatio),g.fillText("Size: "+l.size.toString(),(l.position.x+10)*n.pixelDensityRatio,(l.position.y+60)*n.pixelDensityRatio),g.fillText("Position: "+l.position.toString(),(l.position.x+10)*n.pixelDensityRatio,(l.position.y+70)*n.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),g.restore()}_drawPlaceholder(l){const u=l.getBounds(!0),f=this.viewportToDrawerRectangle(l.getBounds(!0)),h=this._outputContext;let c;typeof l.placeholderFillStyle=="function"?c=l.placeholderFillStyle(l,h):c=l.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),h.fillStyle=c,h.translate(f.x,f.y),h.rotate(Math.PI/180*u.degrees),h.translate(-f.x,-f.y),h.fillRect(f.x,f.y,f.width,f.height),this._restoreRotationChanges()}_getCanvasCenter(){return new n.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var l=this._outputContext;l.restore()}static initShaderProgram(l,u,f){function h(y,x,_){const R=y.createShader(x);return y.shaderSource(R,_),y.compileShader(R),y.getShaderParameter(R,y.COMPILE_STATUS)?R:(n.console.error(`An error occurred compiling the shaders: ${y.getShaderInfoLog(R)}`),y.deleteShader(R),null)}const c=h(l,l.VERTEX_SHADER,u),m=h(l,l.FRAGMENT_SHADER,f),g=l.createProgram();return l.attachShader(g,c),l.attachShader(g,m),l.linkProgram(g),l.getProgramParameter(g,l.LINK_STATUS)?g:(n.console.error(`Unable to initialize the shader program: ${l.getProgramInfoLog(g)}`),null)}}})(v),(function(n){n.Viewport=function(a){var o=arguments;o.length&&o[0]instanceof n.Point&&(a={containerSize:o[0],contentSize:o[1],config:o[2]}),a.config&&(n.extend(!0,a,a.config),delete a.config),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,a.initialDegrees=a.degrees,delete a.degrees,n.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:n.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:n.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:n.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:n.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:n.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:n.DEFAULT_SETTINGS.degrees,flipped:n.DEFAULT_SETTINGS.flipped,homeFillsViewer:n.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:n.DEFAULT_SETTINGS.silenceMultiImageWarnings},a),this._updateContainerInnerSize(),this.centerSpringX=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new n.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new n.Spring({initial:a.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new n.Rect(0,0,1,1),1),this.goHome(!0),this.update()},n.Viewport.prototype={get degrees(){return n.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(a){n.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(a)},resetContentSize:function(a){return n.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),n.console.assert(a instanceof n.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),n.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),n.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new n.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,o){n.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,o)},_setContentBounds:function(a,o){n.console.assert(a,"[Viewport._setContentBounds] bounds is required"),n.console.assert(a instanceof n.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),n.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),n.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(o),this._contentBounds=a.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(o),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:o,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),o;return this.homeFillsViewer?o=a>=1?a:1:o=a>=1?1:a,o/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),o=1/this.getHomeZoom(),l=o/this.getAspectRatio();return new n.Rect(a.x-o/2,a.y-l/2,o,l)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),o=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return o},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new n.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return n.extend({},this._margins)},setMargins:function(a){n.console.assert(n.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=n.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation(a))},getBoundsNoRotate:function(a){var o=this.getCenter(a),l=1/this.getZoom(a),u=l/this.getAspectRatio();return new n.Rect(o.x-l/2,o.y-u/2,l,u)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(a),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var o=this.getBoundsNoRotate(a),l=this._containerInnerSize.x*this.getZoom(a);return o.x-=this._margins.left/l,o.y-=this._margins.top/l,o.width+=(this._margins.left+this._margins.right)/l,o.height+=(this._margins.top+this._margins.bottom)/l,o},getCenter:function(a){var o=new n.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),u,f,h,c,m,g,y,x;return a?o:this.zoomPoint?(u=this.pixelFromPoint(this.zoomPoint,!0),f=this.getZoom(),h=1/f,c=h/this.getAspectRatio(),m=new n.Rect(o.x-h/2,o.y-c/2,h,c),g=this._pixelFromPoint(this.zoomPoint,m),y=g.minus(u).rotate(-this.getRotation(!0)),x=y.divide(this._containerInnerSize.x*f),l.plus(x)):l},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var o=this.viewportToViewerElementRectangle(a).getBoundingBox(),l=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),u=!1,f=!1;if(!this.wrapHorizontal){var h=o.x+o.width,c=l.x+l.width,m,g,y;o.width>l.width?m=this.visibilityRatio*l.width:m=this.visibilityRatio*o.width,g=l.x-h+m,y=c-o.x-m,m>l.width?(o.x+=(g+y)/2,u=!0):y<0?(o.x+=y,u=!0):g>0&&(o.x+=g,u=!0)}if(!this.wrapVertical){var x=o.y+o.height,_=l.y+l.height,R,M,C;o.height>l.height?R=this.visibilityRatio*l.height:R=this.visibilityRatio*o.height,M=l.y-x+R,C=_-o.y-R,R>l.height?(o.y+=(M+C)/2,f=!0):C<0?(o.y+=C,f=!0):M>0&&(o.y+=M,f=!0)}var H=u||f,U=H?this.viewerElementToViewportRectangle(o):a.clone();return U.xConstrained=u,U.yConstrained=f,U.constraintApplied=H,U},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var o=this.getZoom(),l=this._applyZoomConstraints(o);o!==l&&this.zoomTo(l,this.zoomPoint,a);var u=this.getConstrainedBounds(!1);return u.constraintApplied&&(this.fitBounds(u,a),this._raiseConstraintsEvent(a)),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,o){o=o||{};var l=o.immediately||!1,u=o.constraints||!1,f=this.getAspectRatio(),h=a.getCenter(),c=new n.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();c.getAspectRatio()>=f?c.height=c.width/f:c.width=c.height*f,c.x=h.x-c.width/2,c.y=h.y-c.height/2;var m=1/c.width;if(l)return this.panTo(h,!0),this.zoomTo(m,null,!0),u&&this.applyConstraints(!0),this;var g=this.getCenter(!0),y=this.getZoom(!0);this.panTo(g,!0),this.zoomTo(y,null,!0);var x=this.getBounds(),_=this.getZoom();if(_===0||Math.abs(m/_-1)<1e-8)return this.zoomTo(m,null,!0),this.panTo(h,l),u&&this.applyConstraints(!1),this;if(u){this.panTo(h,!1),m=this._applyZoomConstraints(m),this.zoomTo(m,null,!1);var R=this.getConstrainedBounds();this.panTo(g,!0),this.zoomTo(y,null,!0),this.fitBounds(R)}else{var M=c.rotate(-this.getRotation()),C=M.getTopLeft().times(m).minus(x.getTopLeft().times(_)).divide(m-_);this.zoomTo(m,C,l)}return this},fitBounds:function(a,o){return this._fitBounds(a,{immediately:o,constraints:!1})},fitBoundsWithConstraints:function(a,o){return this._fitBounds(a,{immediately:o,constraints:!0})},fitVertically:function(a){var o=new n.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(o,a)},fitHorizontally:function(a){var o=new n.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(o,a)},getConstrainedBounds:function(a){var o,l;return o=this.getBounds(a),l=this._applyBoundaryConstraints(o),l},panBy:function(a,o){var l=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(l.plus(a),o)},panTo:function(a,o){return o?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:o}),this},zoomBy:function(a,o,l){return this.zoomTo(this.zoomSpring.target.value*a,o,l)},zoomTo:function(a,o,l){var u=this;return this.zoomPoint=o instanceof n.Point&&!isNaN(o.x)&&!isNaN(o.y)?o:null,l?this._adjustCenterSpringsForZoomPoint(function(){u.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:o,immediately:l}),this},setRotation:function(a,o){return this.rotateTo(a,null,o)},getRotation:function(a){return a?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(a,o,l){return this.rotateTo(a,o,l)},rotateTo:function(a,o,l){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===a&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=o instanceof n.Point&&!isNaN(o.x)&&!isNaN(o.y)?o:null,l)if(this.rotationPivot){var u=a-this._oldDegrees;if(!u)return this.rotationPivot=null,this;this._rotateAboutPivot(a)}else this.degreesSpring.resetTo(a);else{var f=n.positiveModulo(this.degreesSpring.current.value,360),h=n.positiveModulo(a,360),c=h-f;c>180?h-=360:c<-180&&(h+=360);var m=f-h;this.degreesSpring.resetTo(a+m),this.degreesSpring.springTo(a)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a,immediately:!!l,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(a,o,l){return this.rotateTo(this.degreesSpring.target.value+a,o,l)},resize:function(a,o){var l=this.getBoundsNoRotate(),u=l,f;this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),o&&(f=a.x/this.containerSize.x,u.width=l.width*f,u.height=u.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:o});var h=this.fitBounds(u,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:a,maintain:o}),h},_updateContainerInnerSize:function(){this._containerInnerSize=new n.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var o=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var l=o||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return l},_rotateAboutPivot:function(a){var o=a===!0,l=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(l.x),this.centerSpringY.shiftBy(l.y),o?this.degreesSpring.update():this.degreesSpring.resetTo(a);var u=this.degreesSpring.current.value-this._oldDegrees,f=l.rotate(u*-1).times(-1);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y)},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var o=this.pixelFromPoint(this.zoomPoint,!0);a();var l=this.pixelFromPoint(this.zoomPoint,!0),u=l.minus(o),f=this.deltaPointsFromPixels(u,!0);this.centerSpringX.shiftBy(f.x),this.centerSpringY.shiftBy(f.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,o){return a.times(this._containerInnerSize.x*this.getZoom(o))},deltaPixelsFromPoints:function(a,o){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation(o)),o)},deltaPointsFromPixelsNoRotate:function(a,o){return a.divide(this._containerInnerSize.x*this.getZoom(o))},deltaPointsFromPixels:function(a,o){return this.deltaPointsFromPixelsNoRotate(a,o).rotate(-this.getRotation(o))},pixelFromPointNoRotate:function(a,o){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(o))},pixelFromPoint:function(a,o){return this._pixelFromPoint(a,this.getBoundsNoRotate(o))},_pixelFromPointNoRotate:function(a,o){return a.minus(o.getTopLeft()).times(this._containerInnerSize.x/o.width).plus(new n.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,o){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(!0),this.getCenter(!0)),o)},pointFromPixelNoRotate:function(a,o){var l=this.getBoundsNoRotate(o);return a.minus(new n.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/l.width).plus(l.getTopLeft())},pointFromPixel:function(a,o){return this.pointFromPixelNoRotate(a,o).rotate(-this.getRotation(o),this.getCenter(o))},_viewportToImageDelta:function(a,o){var l=this._contentBoundsNoRotate.width;return new n.Point(a*this._contentSizeNoRotate.x/l,o*this._contentSizeNoRotate.x/l)},viewportToImageCoordinates:function(a,o){if(a instanceof n.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageCoordinates(a,o,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,o-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,o){var l=this._contentBoundsNoRotate.width;return new n.Point(a/this._contentSizeNoRotate.x*l,o/this._contentSizeNoRotate.x*l)},imageToViewportCoordinates:function(a,o){if(a instanceof n.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportCoordinates(a,o,!0)}}var f=this._imageToViewportDelta(a,o);return f.x+=this._contentBoundsNoRotate.x,f.y+=this._contentBoundsNoRotate.y,f},imageToViewportRectangle:function(a,o,l,u){var f=a;if(f instanceof n.Rect||(f=new n.Rect(a,o,l,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(h===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportRectangle(a,o,l,u,!0)}}var m=this.imageToViewportCoordinates(f.x,f.y),g=this._imageToViewportDelta(f.width,f.height);return new n.Rect(m.x,m.y,g.x,g.y,f.degrees)},viewportToImageRectangle:function(a,o,l,u){var f=a;if(f instanceof n.Rect||(f=new n.Rect(a,o,l,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(h===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageRectangle(a,o,l,u,!0)}}var m=this.viewportToImageCoordinates(f.x,f.y),g=this._viewportToImageDelta(f.width,f.height);return new n.Rect(m.x,m.y,g.x,g.y,f.degrees)},viewerElementToImageCoordinates:function(a){var o=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(o)},imageToViewerElementCoordinates:function(a){var o=this.imageToViewportCoordinates(a);return this.pixelFromPoint(o,!0)},windowToImageCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var o=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(o)},imageToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var o=this.imageToViewerElementCoordinates(a);return o.plus(n.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return n.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return n.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var o=a.minus(n.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(o)},viewportToWindowCoordinates:function(a){n.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var o=this.viewportToViewerElementCoordinates(a);return o.plus(n.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(o===1){var l=this.viewer.world.getItemAt(0);return l.viewportToImageZoom(a)}}var u=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,c=f/u*h;return a*c},imageToViewportZoom:function(a){if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||n.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(o===1){var l=this.viewer.world.getItemAt(0);return l.imageToViewportZoom(a)}}var u=this._contentSizeNoRotate.x,f=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,c=u/f/h;return a*c},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(a,o=!0,l=!1){n.console.assert(!isNaN(a),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(a)&&(this.maxZoomPixelRatio=a,o&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(l))}}})(v),(function(n){n.TiledImage=function(a){this._initialized=!1,n.console.assert(a.tileCache,"[TiledImage] options.tileCache is required"),n.console.assert(a.drawer,"[TiledImage] options.drawer is required"),n.console.assert(a.viewer,"[TiledImage] options.viewer is required"),n.console.assert(a.imageLoader,"[TiledImage] options.imageLoader is required"),n.console.assert(a.source,"[TiledImage] options.source is required"),n.console.assert(!a.clip||a.clip instanceof n.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),n.EventSource.call(this),this._tileCache=a.tileCache,delete a.tileCache,this._drawer=a.drawer,delete a.drawer,this._imageLoader=a.imageLoader,delete a.imageLoader,a.clip instanceof n.Rect&&(this._clip=a.clip.clone()),delete a.clip;var o=a.x||0;delete a.x;var l=a.y||0;delete a.y,this.normHeight=a.source.dimensions.y/a.source.dimensions.x,this.contentAspectX=a.source.dimensions.x/a.source.dimensions.y;var u=1;a.width?(u=a.width,delete a.width,a.height&&(n.console.error("specifying both width and height to a tiledImage is not supported"),delete a.height)):a.height&&(u=a.height/this.normHeight,delete a.height);var f=a.fitBounds;delete a.fitBounds;var h=a.fitBoundsPlacement||v.Placement.CENTER;delete a.fitBoundsPlacement;var c=a.degrees||0;delete a.degrees;var m=a.ajaxHeaders;delete a.ajaxHeaders,n.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,immediateRender:n.DEFAULT_SETTINGS.immediateRender,blendTime:n.DEFAULT_SETTINGS.blendTime,alwaysBlend:n.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:n.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:n.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:n.DEFAULT_SETTINGS.iOSDevice,debugMode:n.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:n.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:n.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:n.DEFAULT_SETTINGS.placeholderFillStyle,opacity:n.DEFAULT_SETTINGS.opacity,preload:n.DEFAULT_SETTINGS.preload,compositeOperation:n.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:n.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:n.DEFAULT_SETTINGS.maxTilesPerFrame},a),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new n.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new n.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new n.Spring({initial:u,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new n.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),f&&this.fitBounds(f,h,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(m,!1),this._initialized=!0},n.extend(n.TiledImage.prototype,n.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(a){a!==this._fullyLoaded&&(this._fullyLoaded=a,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=n.now(),this._needsDraw=!0},update:function(a){let o=this._xSpring.update(),l=this._ySpring.update(),u=this._scaleSpring.update(),f=this._degreesSpring.update(),h=o||l||u||f||this._needsUpdate;if(h||a||!this._fullyLoaded){let c=this._updateLevelsForViewport();this._setFullyLoaded(c)}return this._needsUpdate=!1,h?(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0):!1},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(a){this._isTainted=a},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(this.getRotation(a),this._getRotationPoint(a))},getBoundsNoRotate:function(a){return a?new n.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new n.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return n.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(a){var o=this.getBoundsNoRotate(a);if(this._clip){var l=a?this._worldWidthCurrent:this._worldWidthTarget,u=l/this.source.dimensions.x,f=this._clip.times(u);o=new n.Rect(o.x+f.x,o.y+f.y,f.width,f.height)}return o.rotate(this.getRotation(a),this._getRotationPoint(a))},getTileBounds:function(a,o,l){var u=this.source.getNumTiles(a),f=(u.x+o%u.x)%u.x,h=(u.y+l%u.y)%u.y,c=this.source.getTileBounds(a,f,h);return this.getFlip()&&(c.x=Math.max(0,1-c.x-c.width)),c.x+=(o-f)/u.x,c.y+=this._worldHeightCurrent/this._worldWidthCurrent*((l-h)/u.y),c},getContentSize:function(){return new n.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var a=this.imageToWindowCoordinates(new n.Point(0,0)),o=this.imageToWindowCoordinates(this.getContentSize());return new n.Point(o.x-a.x,o.y-a.y)},_viewportToImageDelta:function(a,o,l){var u=l?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(a*(this.source.dimensions.x/u),o*(this.source.dimensions.y*this.contentAspectX/u))},viewportToImageCoordinates:function(a,o,l){var u;return a instanceof n.Point?(l=o,u=a):u=new n.Point(a,o),u=u.rotate(-this.getRotation(l),this._getRotationPoint(l)),l?this._viewportToImageDelta(u.x-this._xSpring.current.value,u.y-this._ySpring.current.value):this._viewportToImageDelta(u.x-this._xSpring.target.value,u.y-this._ySpring.target.value)},_imageToViewportDelta:function(a,o,l){var u=l?this._scaleSpring.current.value:this._scaleSpring.target.value;return new n.Point(a/this.source.dimensions.x*u,o/this.source.dimensions.y/this.contentAspectX*u)},imageToViewportCoordinates:function(a,o,l){a instanceof n.Point&&(l=o,o=a.y,a=a.x);var u=this._imageToViewportDelta(a,o,l);return l?(u.x+=this._xSpring.current.value,u.y+=this._ySpring.current.value):(u.x+=this._xSpring.target.value,u.y+=this._ySpring.target.value),u.rotate(this.getRotation(l),this._getRotationPoint(l))},imageToViewportRectangle:function(a,o,l,u,f){var h=a;h instanceof n.Rect?f=o:h=new n.Rect(a,o,l,u);var c=this.imageToViewportCoordinates(h.getTopLeft(),f),m=this._imageToViewportDelta(h.width,h.height,f);return new n.Rect(c.x,c.y,m.x,m.y,h.degrees+this.getRotation(f))},viewportToImageRectangle:function(a,o,l,u,f){var h=a;a instanceof n.Rect?f=o:h=new n.Rect(a,o,l,u);var c=this.viewportToImageCoordinates(h.getTopLeft(),f),m=this._viewportToImageDelta(h.width,h.height,f);return new n.Rect(c.x,c.y,m.x,m.y,h.degrees-this.getRotation(f))},viewerElementToImageCoordinates:function(a){var o=this.viewport.pointFromPixel(a,!0);return this.viewportToImageCoordinates(o)},imageToViewerElementCoordinates:function(a){var o=this.imageToViewportCoordinates(a);return this.viewport.pixelFromPoint(o,!0)},windowToImageCoordinates:function(a){var o=a.minus(v.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(o)},imageToWindowCoordinates:function(a){var o=this.imageToViewerElementCoordinates(a);return o.plus(v.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(a){var o=this._scaleSpring.current.value;return a=a.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new n.Rect((a.x-this._xSpring.current.value)/o,(a.y-this._ySpring.current.value)/o,a.width/o,a.height/o,a.degrees)},viewportToImageZoom:function(a){var o=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return o*a},imageToViewportZoom:function(a){var o=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return a/o},setPosition:function(a,o){var l=this._xSpring.target.value===a.x&&this._ySpring.target.value===a.y;if(o){if(l&&this._xSpring.current.value===a.x&&this._ySpring.current.value===a.y)return;this._xSpring.resetTo(a.x),this._ySpring.resetTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(l)return;this._xSpring.springTo(a.x),this._ySpring.springTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}l||this._raiseBoundsChange()},setWidth:function(a,o){this._setScale(a,o)},setHeight:function(a,o){this._setScale(a/this.normHeight,o)},setCroppingPolygons:function(a){var o=function(u){return u instanceof n.Point||typeof u.x=="number"&&typeof u.y=="number"},l=function(u){return u.map(function(f){try{if(o(f))return{x:f.x,y:f.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!n.isArray(a))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=a.map(function(u){return l(u)}),this._needsDraw=!0}catch(u){n.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),n.console.error(u),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(a,o,l){o=o||n.Placement.CENTER;var u=n.Placement.properties[o],f=this.contentAspectX,h=0,c=0,m=1,g=1;if(this._clip&&(f=this._clip.getAspectRatio(),m=this._clip.width/this.source.dimensions.x,g=this._clip.height/this.source.dimensions.y,a.getAspectRatio()>f?(h=this._clip.x/this._clip.height*a.height,c=this._clip.y/this._clip.height*a.height):(h=this._clip.x/this._clip.width*a.width,c=this._clip.y/this._clip.width*a.width)),a.getAspectRatio()>f){var y=a.height/g,x=0;u.isHorizontallyCentered?x=(a.width-a.height*f)/2:u.isRight&&(x=a.width-a.height*f),this.setPosition(new n.Point(a.x-h+x,a.y-c),l),this.setHeight(y,l)}else{var _=a.width/m,R=0;u.isVerticallyCentered?R=(a.height-a.width/f)/2:u.isBottom&&(R=a.height-a.width/f),this.setPosition(new n.Point(a.x-h,a.y-c+R),l),this.setWidth(_,l)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(a){n.console.assert(!a||a instanceof n.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),a instanceof n.Rect?this._clip=a.clone():this._clip=null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(a){this.flipped=a},get flipped(){return this._flipped},set flipped(a){let o=this._flipped!==!!a;this._flipped=!!a,o&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(a){let o=this._wrapHorizontal!==!!a;this._wrapHorizontal=!!a,this._initialized&&o&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(a){let o=this._wrapVertical!==!!a;this._wrapVertical=!!a,this._initialized&&o&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(a){this._debugMode=!!a,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},get opacity(){return this._opacity},set opacity(a){a!==this.opacity&&(this._opacity=a,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(a){this._preload=!!a,this._needsDraw=!0},getRotation:function(a){return a?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(a,o){this._degreesSpring.target.value===a&&this._degreesSpring.isAtTargetValue()||(o?this._degreesSpring.resetTo(a):this._degreesSpring.springTo(a),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(this._opacity===0&&!this._preload)return!1;var a=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var o=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));a=a.intersection(o)}return a},getTilesToDraw:function(){let a=this._tilesToDraw.flat();return this._updateTilesInViewport(a),a=this._tilesToDraw.flat(),a.forEach(o=>{o.tile.beingDrawn=!0}),this._lastDrawn=a,a},_getRotationPoint:function(a){return this.getBoundsNoRotate(a).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(a){a!==this._compositeOperation&&(this._compositeOperation=a,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(a){this.compositeOperation=a},setAjaxHeaders:function(a,o){if(a===null&&(a={}),!n.isPlainObject(a)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=a,this._updateAjaxHeaders(o)},_updateAjaxHeaders:function(a){if(a===void 0&&(a=!0),n.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=n.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,a){var o,l,u,f;for(var h in this.tilesMatrix){o=this.source.getNumTiles(h);for(var c in this.tilesMatrix[h]){l=(o.x+c%o.x)%o.x;for(var m in this.tilesMatrix[h][c])if(u=(o.y+m%o.y)%o.y,f=this.tilesMatrix[h][c][m],f.loadWithAjax=this.loadTilesWithAjax,f.loadWithAjax){var g=this.source.getTileAjaxHeaders(h,l,u);f.ajaxHeaders=n.extend({},this.ajaxHeaders,g)}else f.ajaxHeaders=null}}for(var y=0;y<this._imageLoader.jobQueue.length;y++){var x=this._imageLoader.jobQueue[y];x.loadWithAjax=x.tile.loadWithAjax,x.ajaxHeaders=x.tile.loadWithAjax?x.tile.ajaxHeaders:null}}},_setScale:function(a,o){var l=this._scaleSpring.target.value===a;if(o){if(l&&this._scaleSpring.current.value===a)return;this._scaleSpring.resetTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(l)return;this._scaleSpring.springTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}l||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var a=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),o=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,l=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(o/this.minPixelRatio)/Math.log(2))));return l=Math.max(l,this.source.minLevel||0),a=Math.min(a,l),{lowestLevel:a,highestLevel:l}},_updateLevelsForViewport:function(){var a=this._getLevelsInterval(),o=a.lowestLevel,l=a.highestLevel,u=[],f=this.getDrawArea(),h=n.now();if(this._lastDrawn.forEach(Q=>{Q.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!f)return this._needsDraw=!1,this._fullyLoaded;var c=new Array(l-o+1);for(let Q=0,N=l;N>=o;N--,Q++)c[Q]=N;for(let Q=l+1;Q<=this.source.maxLevel;Q++){var m=this.tilesMatrix[Q]&&this.tilesMatrix[Q][0]&&this.tilesMatrix[Q][0][0];if(m&&m.isBottomMost&&m.isRightMost&&m.loaded){c.push(Q);break}}let g=!1;for(let Q=0;Q<c.length;Q++){let N=c[Q];var y=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(N),!0).x*this._scaleSpring.current.value;if(Q===c.length-1||y>=this.minPixelRatio)g=!0;else if(!g)continue;var x=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(N),!1).x*this._scaleSpring.current.value,_=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,R=this.immediateRender?1:_,M=Math.min(1,(y-.5)/.5),C=R/Math.abs(R-x),H=this._updateLevel(N,M,C,f,h,u);u=H.bestTiles;var U=H.updatedTiles.filter(ae=>ae.loaded),oe=(function(ae,pe,fe){return function(Oe){return{tile:Oe,level:ae,levelOpacity:pe,currentTime:fe}}})(N,M,h);if(this._tilesToDraw[N]=U.map(oe),this._providesCoverage(this.coverage,N))break}return u&&u.length>0?(u.forEach(function(Q){Q&&!Q.context2D&&this._loadTile(Q,h)},this),this._needsDraw=!0,!1):this._tilesLoading===0},_updateTilesInViewport:function(a){let o=n.now(),l=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let u=a.length?a[0].level:0;if(!this.getDrawArea())return;function h(m){let g=m.tile;if(g&&g.loaded){let y=l._blendTile(g,g.x,g.y,m.level,m.levelOpacity,o,u);l._isBlending=l._isBlending||y,l._needsDraw=l._needsDraw||y||l._wasBlending}}let c=0;for(let m=0;m<a.length;m++){let g=a[m];h(g),this._providesCoverage(this.coverage,g.level)&&(c=Math.max(c,g.level))}if(c>0)for(let m in this._tilesToDraw)m<c&&delete this._tilesToDraw[m]},_blendTile:function(a,o,l,u,f,h,c){let m=1e3*this.blendTime,g,y;return a.blendStart||(a.blendStart=h),g=h-a.blendStart,y=m?Math.min(1,g/m):1,u===c&&(y=1,g=m),this.alwaysBlend&&(y*=f),a.opacity=y,y===1&&(this._setCoverage(this.coverage,u,o,l,!0),this._hasOpaqueTile=!0),g<m},_updateLevel:function(a,o,l,u,f,h){var c=u.getBoundingBox().getTopLeft(),m=u.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:a,opacity:o,visibility:l,drawArea:u,topleft:c,bottomright:m,currenttime:f,best:h}),this._resetCoverage(this.coverage,a),this._resetCoverage(this.loadingCoverage,a);var g=this._getCornerTiles(a,c,m),y=g.topLeft,x=g.bottomRight,_=this.source.getNumTiles(a),R=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(x.x+=1,this.wrapHorizontal||(x.x=Math.min(x.x,_.x-1)));for(var M=Math.max(0,(x.x-y.x)*(x.y-y.y)),C=new Array(M),H=0,U=y.x;U<=x.x;U++)for(var oe=y.y;oe<=x.y;oe++){var Q;if(this.getFlip()){var N=(_.x+U%_.x)%_.x;Q=U+_.x-N-N-1}else Q=U;if(u.intersection(this.getTileBounds(a,Q,oe))!==null){var ae=this._updateTile(Q,oe,a,l,R,_,f,h);h=ae.bestTiles,C[H]=ae.tile,H+=1}}return{bestTiles:h,updatedTiles:C}},_positionTile:function(a,o,l,u,f){var h=a.bounds.getTopLeft();h.x*=this._scaleSpring.current.value,h.y*=this._scaleSpring.current.value,h.x+=this._xSpring.current.value,h.y+=this._ySpring.current.value;var c=a.bounds.getSize();c.x*=this._scaleSpring.current.value,c.y*=this._scaleSpring.current.value,a.positionedBounds.x=h.x,a.positionedBounds.y=h.y,a.positionedBounds.width=c.x,a.positionedBounds.height=c.y;var m=l.pixelFromPointNoRotate(h,!0),g=l.pixelFromPointNoRotate(h,!1),y=l.deltaPixelsFromPointsNoRotate(c,!0),x=l.deltaPixelsFromPointsNoRotate(c,!1),_=g.plus(x.divide(2)),R=u.squaredDistanceTo(_);this.viewer.drawer.minimumOverlapRequired(this)&&(o||(y=y.plus(new n.Point(1,1))),a.isRightMost&&this.wrapHorizontal&&(y.x+=.75),a.isBottomMost&&this.wrapVertical&&(y.y+=.75)),a.position=m,a.size=y,a.squaredDistance=R,a.visibility=f},_updateTile:function(a,o,l,u,f,h,c,m){var g=this._getTile(a,o,l,c,h);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:g}),this._setCoverage(this.coverage,l,a,o,!1);var y=g.loaded||g.loading||this._isCovered(this.loadingCoverage,l,a,o);if(this._setCoverage(this.loadingCoverage,l,a,o,y),!g.exists)return{bestTiles:m,tile:g};if(g.loaded&&g.opacity===1&&this._setCoverage(this.coverage,l,a,o,!0),this._positionTile(g,this.source.tileOverlap,this.viewport,f,u),!g.loaded)if(g.context2D)this._setTileLoaded(g);else{var x=this._tileCache.getImageRecord(g.cacheKey);x&&this._setTileLoaded(g,x.getData())}return g.loading?this._tilesLoading++:y||(m=this._compareTiles(m,g,this.maxTilesPerFrame)),{bestTiles:m,tile:g}},_getCornerTiles:function(a,o,l){var u,f;this.wrapHorizontal?(u=n.positiveModulo(o.x,1),f=n.positiveModulo(l.x,1)):(u=Math.max(0,o.x),f=Math.min(1,l.x));var h,c,m=1/this.source.aspectRatio;this.wrapVertical?(h=n.positiveModulo(o.y,m),c=n.positiveModulo(l.y,m)):(h=Math.max(0,o.y),c=Math.min(m,l.y));var g=this.source.getTileAtPoint(a,new n.Point(u,h)),y=this.source.getTileAtPoint(a,new n.Point(f,c)),x=this.source.getNumTiles(a);return this.wrapHorizontal&&(g.x+=x.x*Math.floor(o.x),y.x+=x.x*Math.floor(l.x)),this.wrapVertical&&(g.y+=x.y*Math.floor(o.y/m),y.y+=x.y*Math.floor(l.y/m)),{topLeft:g,bottomRight:y}},_getTile:function(a,o,l,u,f){var h,c,m,g,y,x,_,R,M,C,H=this.tilesMatrix,U=this.source;return H[l]||(H[l]={}),H[l][a]||(H[l][a]={}),(!H[l][a][o]||!H[l][a][o].flipped!=!this.flipped)&&(h=(f.x+a%f.x)%f.x,c=(f.y+o%f.y)%f.y,m=this.getTileBounds(l,a,o),g=U.getTileBounds(l,h,c,!0),y=U.tileExists(l,h,c),x=U.getTileUrl(l,h,c),_=U.getTilePostData(l,h,c),this.loadTilesWithAjax?(R=U.getTileAjaxHeaders(l,h,c),n.isPlainObject(this.ajaxHeaders)&&(R=n.extend({},this.ajaxHeaders,R))):R=null,M=U.getContext2D?U.getContext2D(l,h,c):void 0,C=new n.Tile(l,a,o,m,y,x,M,this.loadTilesWithAjax,R,g,_,U.getTileHashKey(l,h,c,x,R,_)),this.getFlip()?h===0&&(C.isRightMost=!0):h===f.x-1&&(C.isRightMost=!0),c===f.y-1&&(C.isBottomMost=!0),C.flipped=this.flipped,H[l][a][o]=C),C=H[l][a][o],C.lastTouchTime=u,C},_loadTile:function(a,o){var l=this;a.loading=!0,this._imageLoader.addJob({src:a.getUrl(),tile:a,source:this.source,postData:a.postData,loadWithAjax:a.loadWithAjax,ajaxHeaders:a.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(u,f,h){l._onTileLoad(a,o,u,f,h)},abort:function(){a.loading=!1}})},_onTileLoad:function(a,o,l,u,f){if(l)a.exists=!0;else{n.console.error("Tile %s failed to load: %s - error: %s",a,a.getUrl(),u),this.viewer.raiseEvent("tile-load-failed",{tile:a,tiledImage:this,time:o,message:u,tileRequest:f}),a.loading=!1,a.exists=!1;return}if(o<this.lastResetTime){n.console.warn("Ignoring tile %s loaded before reset: %s",a,a.getUrl()),a.loading=!1;return}var h=this,c=function(){var m=h.source,g=m.getClosestLevel();h._setTileLoaded(a,l,g,f)};c()},_setTileLoaded:function(a,o,l,u){var f=0,h=!1,c=this;function m(){return h&&n.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),f++,g}function g(){f--,f===0&&(a.loading=!1,a.loaded=!0,a.hasTransparency=c.source.hasTransparency(a.context2D,a.getUrl(),a.ajaxHeaders,a.postData),a.context2D||c._tileCache.cacheTile({data:o,tile:a,cutoff:l,tiledImage:c}),c.viewer.raiseEvent("tile-ready",{tile:a,tiledImage:c,tileRequest:u}),c._needsDraw=!0)}var y=m();this.viewer.raiseEvent("tile-loaded",{tile:a,tiledImage:this,tileRequest:u,get image(){return n.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),o},data:o,getCompletionCallback:m}),h=!0,y()},_compareTiles:function(a,o,l){return a?(a.push(o),this._sortTiles(a),a.length>l&&a.pop(),a):[o]},_sortTiles:function(a){a.sort(function(o,l){return o===null?1:l===null?-1:o.visibility===l.visibility?o.squaredDistance-l.squaredDistance:l.visibility-o.visibility})},_providesCoverage:function(a,o,l,u){var f,h,c,m;if(!a[o])return!1;if(l===void 0||u===void 0){f=a[o];for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)){h=f[c];for(m in h)if(Object.prototype.hasOwnProperty.call(h,m)&&!h[m])return!1}return!0}return a[o][l]===void 0||a[o][l][u]===void 0||a[o][l][u]===!0},_isCovered:function(a,o,l,u){return l===void 0||u===void 0?this._providesCoverage(a,o+1):this._providesCoverage(a,o+1,2*l,2*u)&&this._providesCoverage(a,o+1,2*l,2*u+1)&&this._providesCoverage(a,o+1,2*l+1,2*u)&&this._providesCoverage(a,o+1,2*l+1,2*u+1)},_setCoverage:function(a,o,l,u,f){if(!a[o]){n.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",o);return}a[o][l]||(a[o][l]={}),a[o][l][u]=f},_resetCoverage:function(a,o){a[o]={}}})})(v),(function(n){var a=function(l){n.console.assert(l,"[TileCache.cacheTile] options is required"),n.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=l.tile,this.tiledImage=l.tiledImage},o=function(l){n.console.assert(l,"[ImageRecord] options is required"),n.console.assert(l.data,"[ImageRecord] options.data is required"),this._tiles=[],l.create.apply(null,[this,l.data,l.ownerTile]),this._destroyImplementation=l.destroy.bind(null,this),this.getImage=l.getImage.bind(null,this),this.getData=l.getData.bind(null,this),this.getRenderedContext=l.getRenderedContext.bind(null,this)};o.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(l){n.console.assert(l,"[ImageRecord.addTile] tile is required"),this._tiles.push(l)},removeTile:function(l){for(var u=0;u<this._tiles.length;u++)if(this._tiles[u]===l){this._tiles.splice(u,1);return}n.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",l)},getTileCount:function(){return this._tiles.length}},n.TileCache=function(l){l=l||{},this._maxImageCacheCount=l.maxImageCacheCount||n.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},n.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(l){n.console.assert(l,"[TileCache.cacheTile] options is required"),n.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),n.console.assert(l.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),n.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var u=l.cutoff||0,f=this._tilesLoaded.length,h=this._imagesLoaded[l.tile.cacheKey];if(h||(l.data||(n.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),l.data=l.image),n.console.assert(l.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),h=this._imagesLoaded[l.tile.cacheKey]=new o({data:l.data,ownerTile:l.tile,create:l.tiledImage.source.createTileCache,destroy:l.tiledImage.source.destroyTileCache,getImage:l.tiledImage.source.getTileCacheDataAsImage,getData:l.tiledImage.source.getTileCacheData,getRenderedContext:l.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),h.addTile(l.tile),l.tile.cacheImageRecord=h,this._imagesLoadedCount>this._maxImageCacheCount){for(var c=null,m=-1,g=null,y,x,_,R,M,C,H=this._tilesLoaded.length-1;H>=0;H--)if(C=this._tilesLoaded[H],y=C.tile,!(y.level<=u||y.beingDrawn)){if(!c){c=y,m=H,g=C;continue}R=y.lastTouchTime,x=c.lastTouchTime,M=y.level,_=c.level,(R<x||R===x&&M>_)&&(c=y,m=H,g=C)}c&&m>=0&&(this._unloadTile(g),f=m)}this._tilesLoaded[f]=new a({tile:l.tile,tiledImage:l.tiledImage})},clearTilesFor:function(l){n.console.assert(l,"[TileCache.clearTilesFor] tiledImage is required");for(var u,f=0;f<this._tilesLoaded.length;++f)u=this._tilesLoaded[f],u.tiledImage===l&&(this._unloadTile(u),this._tilesLoaded.splice(f,1),f--)},getImageRecord:function(l){return n.console.assert(l,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[l]},_unloadTile:function(l){n.console.assert(l,"[TileCache._unloadTile] tileRecord is required");var u=l.tile,f=l.tiledImage;let h=u.getCanvasContext&&u.getCanvasContext();u.unload(),u.cacheImageRecord=null;var c=this._imagesLoaded[u.cacheKey];c&&(c.removeTile(u),c.getTileCount()||(c.destroy(),delete this._imagesLoaded[u.cacheKey],this._imagesLoadedCount--,h&&(h.canvas.width=0,h.canvas.height=0,f.viewer.raiseEvent("image-unloaded",{context2D:h,tile:u}))),f.viewer.raiseEvent("tile-unloaded",{tile:u,tiledImage:f}))}}})(v),(function(n){n.World=function(a){var o=this;n.console.assert(a.viewer,"[World] options.viewer is required"),n.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(l){o._autoRefigureSizes?o._figureSizes():o._needsSizesFigured=!0},this._figureSizes()},n.extend(n.World.prototype,n.EventSource.prototype,{addItem:function(a,o){if(n.console.assert(a,"[World.addItem] item is required"),n.console.assert(a instanceof n.TiledImage,"[World.addItem] only TiledImages supported at this time"),o=o||{},o.index!==void 0){var l=Math.max(0,Math.min(this._items.length,o.index));this._items.splice(l,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return n.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return n.console.assert(a,"[World.getIndexOfItem] item is required"),n.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,o){n.console.assert(a,"[World.setItemIndex] item is required"),n.console.assert(o!==void 0,"[World.setItemIndex] index is required");var l=this.getIndexOfItem(a);if(o>=this._items.length)throw new Error("Index bigger than number of layers.");o===l||l===-1||(this._items.splice(l,1),this._items.splice(o,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:l,newIndex:o}))},removeItem:function(a){n.console.assert(a,"[World.removeItem] item is required");var o=n.indexOf(this._items,a);o!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(o,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,o;for(o=0;o<this._items.length;o++)a=this._items[o],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var l=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,o=0;o<l.length;o++)a=l[o],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(a){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update(a)||o;return o},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(a=>{this._needsDraw=a.setDrawn()||this._needsDraw})},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var o=a.immediately||!1,l=a.layout||n.DEFAULT_SETTINGS.collectionLayout,u=a.rows||n.DEFAULT_SETTINGS.collectionRows,f=a.columns||n.DEFAULT_SETTINGS.collectionColumns,h=a.tileSize||n.DEFAULT_SETTINGS.collectionTileSize,c=a.tileMargin||n.DEFAULT_SETTINGS.collectionTileMargin,m=h+c,g;!a.rows&&f?g=f:g=Math.ceil(this._items.length/u);var y=0,x=0,_,R,M,C,H;this.setAutoRefigureSizes(!1);for(var U=0;U<this._items.length;U++)U&&U%g===0&&(l==="horizontal"?(x+=m,y=0):(y+=m,x=0)),_=this._items[U],R=_.getBounds(),R.width>R.height?M=h:M=h*(R.width/R.height),C=M*(R.height/R.width),H=new n.Point(y+(h-M)/2,x+(h-C)/2),_.setPosition(H,o),_.setWidth(M,o),l==="horizontal"?y+=m:x+=m;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,o=this._contentSize?this._contentSize.clone():null,l=this._contentFactor||0;if(!this._items.length)this._homeBounds=new n.Rect(0,0,1,1),this._contentSize=new n.Point(1,1),this._contentFactor=1;else{var u=this._items[0],f=u.getBounds();this._contentFactor=u.getContentSize().x/f.width;for(var h=u.getClippedBounds().getBoundingBox(),c=h.x,m=h.y,g=h.x+h.width,y=h.y+h.height,x=1;x<this._items.length;x++)u=this._items[x],f=u.getBounds(),this._contentFactor=Math.max(this._contentFactor,u.getContentSize().x/f.width),h=u.getClippedBounds().getBoundingBox(),c=Math.min(c,h.x),m=Math.min(m,h.y),g=Math.max(g,h.x+h.width),y=Math.max(y,h.y+h.height);this._homeBounds=new n.Rect(c,m,g-c,y-m),this._contentSize=new n.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==l||!this._homeBounds.equals(a)||!this._contentSize.equals(o))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})})(v)})(fo)),fo.exports}var b0=_0();const Za=Gu(b0),R0=()=>{const p=I.useRef(null),v=I.useRef(null),[n,a]=I.useState(0),[o,l]=I.useState([]),[u,f]=I.useState(!1),[h,c]=I.useState(!1),m=C=>({data:[{diretorio:"tiles/night-sky_files/14/7_2.jpeg",coordenadas_quadrado:[.14,-0,.15,.15],coordenadas_pino_gabarito:[.1739653969924779,.0593560143486153]},{diretorio:"tiles/night-sky_files/14/6_8.jpeg",coordenadas_quadrado:[.1,.1,.15,.15],coordenadas_pino_gabarito:[.15690454395618236,.21051408682326955]},{diretorio:"tiles/night-sky_files/14/26_0.jpeg",coordenadas_quadrado:[.6,-.025,.15,.15],coordenadas_pino_gabarito:[.6419981297168088,.012578777486416545]}]}).data[C],g=()=>{const C=v.current;if(!(!C||C.isOpen()===!1||!C.drawer)){try{if(C.world.getItemCount()===0)return;C.clearOverlays()}catch{return}if(h){const H=new Za.Rect(...m(n).coordenadas_quadrado),U=document.createElement("div");U.style.border="3px solid red",U.style.width="100px",U.style.height="100px",U.style.background="transparent",U.style.position="absolute",U.style.pointerEvents="none",C.addOverlay({element:U,location:H,placement:Za.Placement.CENTER})}if(u){const[H,U]=m(n).coordenadas_pino_gabarito,oe=document.createElement("div");oe.style.width="10px",oe.style.height="10px",oe.style.borderRadius="50%",oe.style.background="blue",oe.style.border="2px solid white",oe.style.pointerEvents="none",C.addOverlay({element:oe,location:new Za.Point(H,U),placement:Za.Placement.CENTER})}o.forEach((H,U)=>{const oe=document.createElement("div");oe.style.position="relative",oe.style.pointerEvents="none";const Q=document.createElement("div");Q.style.width="20px",Q.style.height="20px",Q.style.borderRadius="50%",Q.style.background="red",Q.style.border="2px solid white",Q.style.display="flex",Q.style.alignItems="center",Q.style.justifyContent="center",Q.style.color="white",Q.style.fontSize="12px",Q.innerText=(U+1).toString(),oe.appendChild(Q),C.addOverlay({element:oe,location:H.point,placement:Za.Placement.CENTER})})}};I.useEffect(()=>{if(!p.current||v.current)return;const C=Za({element:p.current,prefixUrl:"/openseadragon-images/",tileSources:"/tiles/night-sky.dzi",showNavigator:!0,navigatorPosition:"BOTTOM_RIGHT",maxZoomPixelRatio:2,visibilityRatio:1,constrainDuringPan:!0,minZoomLevel:0,zoomPerScroll:1.3,showZoomControl:!1,showFullPageControl:!1,showHomeControl:!1});return v.current=C,C.addHandler("open",()=>{g()}),C.addHandler("canvas-click",H=>{if(!H.originalEvent.ctrlKey)return;H.preventDefaultAction=!0;const oe=H.position,Q=C.viewport.pointFromPixel(oe),N=prompt("Type your marker:");N&&l(ae=>[...ae,{point:Q,texto:N}])}),()=>{C.destroy(),v.current=null}},[]),I.useEffect(()=>{const C=setTimeout(()=>g(),50);return()=>clearTimeout(C)},[o,n,u,h]);const y=()=>a(C=>C===0?2:C-1),x=()=>a(C=>C===2?0:C+1),_=()=>f(C=>!C),R=()=>c(C=>!C),M=()=>l([]);return it.jsxs("div",{className:"home-container",children:[it.jsx("div",{ref:p,className:"viewer-container",style:{width:"100%",height:"100vh",position:"absolute",top:0,left:0,zIndex:0}}),it.jsx("div",{className:"overlay-top-right",style:{position:"fixed",top:20,right:20,zIndex:100,userSelect:"none"},children:it.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[it.jsx("button",{type:"button",onClick:y,style:{padding:"5px 10px",borderRadius:"5px",height:"40px"},children:"⬅️"}),it.jsx("button",{type:"button",onClick:x,style:{padding:"5px 10px",borderRadius:"5px",height:"40px"},children:"➡️"}),it.jsx("button",{type:"button",onClick:_,style:{padding:"5px 10px",borderRadius:"5px",height:"40px"},children:u?"Hide markers":"Show markers"}),it.jsx("button",{type:"button",onClick:R,style:{padding:"5px 10px",borderRadius:"5px",height:"40px"},children:h?"Leave gaming mode":"Enter gaming mode"}),it.jsx("button",{type:"button",onClick:M,style:{padding:"5px 10px",borderRadius:"5px",height:"40px"},children:"Clear player's markers"}),it.jsx("img",{src:m(n).diretorio,alt:"preview",style:{width:"150px",borderRadius:"10px",border:"2px solid white",marginBottom:"10px"}})]})}),it.jsxs("div",{style:{position:"fixed",top:20,left:20,width:"250px",maxHeight:"80vh",overflowY:"auto",background:"rgba(0,0,0,0.6)",padding:"10px",borderRadius:"10px",color:"white",zIndex:100},children:[it.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"500px",flexWrap:"wrap",gap:"10px"},children:it.jsxs("h3",{children:["Marker's annotation ",it.jsx("br",{})," Press CTRL + left click ",it.jsx("br",{})," to make new annotations"]})}),o.length===0&&it.jsx("p",{children:"No annotations made"}),it.jsx("ol",{style:{paddingLeft:"20px"},children:o.map((C,H)=>it.jsx("li",{style:{marginBottom:"5px",cursor:"pointer"},onClick:()=>{v.current?.viewport.panTo(C.point),v.current?.viewport.zoomTo(2)},children:C.texto},H))})]})]})},C0=r0([{path:"/",element:it.jsx(E0,{})},{path:"/home",element:it.jsx(R0,{})}]);sv.createRoot(document.getElementById("root")).render(it.jsxs(tv.StrictMode,{children:[it.jsx(y0,{router:C0})," "]}));
